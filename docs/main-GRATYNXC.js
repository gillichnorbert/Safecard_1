import{A as Mn,B as yN,C as vN,D as zr,E as Ma,F as Zm,G as Ef,H as db,I as wN,J as bN,K as ye,L as or,M as Bn,N as hb,O as EN,P as Cf,Q as it,R as Dr,S as Xm,T as fb,U as Gr,V as Ra,W as Zl,X as e_,Y as CN,Z as ws,_ as Jn,a as K,b as Pe,c as D9,d as I9,e as lb,f as B,g as uN,h as qm,i as dN,j as hN,k as Q,l as Nu,m as Km,n as fN,o as pN,p as Yn,q as Qm,r as bf,s as cb,t as gN,u as Ks,v as ub,w as Ym,x as mN,y as _N,z as Jm}from"./chunk-5K54FR2E.js";var YF=D9((Dp,KD)=>{"use strict";(function(n,e){typeof Dp=="object"&&typeof KD=="object"?KD.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Dp=="object"?Dp.AOS=e():n.AOS=e()})(Dp,function(){return function(n){function e(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return n[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var t={};return e.m=n,e.c=t,e.p="dist/",e(0)}([function(n,e,t){"use strict";function i(I){return I&&I.__esModule?I:{default:I}}var r=Object.assign||function(I){for(var T=1;T<arguments.length;T++){var le=arguments[T];for(var ve in le)Object.prototype.hasOwnProperty.call(le,ve)&&(I[ve]=le[ve])}return I},s=t(1),o=(i(s),t(6)),a=i(o),l=t(7),c=i(l),d=t(8),h=i(d),f=t(9),p=i(f),y=t(10),_=i(y),w=t(11),A=i(w),M=t(14),x=i(M),R=[],P=!1,N={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},C=function(){var I=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(I&&(P=!0),P)return R=(0,A.default)(R,N),(0,_.default)(R,N.once),R},b=function(){R=(0,x.default)(),C()},v=function(){R.forEach(function(I,T){I.node.removeAttribute("data-aos"),I.node.removeAttribute("data-aos-easing"),I.node.removeAttribute("data-aos-duration"),I.node.removeAttribute("data-aos-delay")})},E=function(I){return I===!0||I==="mobile"&&p.default.mobile()||I==="phone"&&p.default.phone()||I==="tablet"&&p.default.tablet()||typeof I=="function"&&I()===!0},S=function(I){N=r(N,I),R=(0,x.default)();var T=document.all&&!window.atob;return E(N.disable)||T?v():(N.disableMutationObserver||h.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),N.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",N.easing),document.querySelector("body").setAttribute("data-aos-duration",N.duration),document.querySelector("body").setAttribute("data-aos-delay",N.delay),N.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?C(!0):N.startEvent==="load"?window.addEventListener(N.startEvent,function(){C(!0)}):document.addEventListener(N.startEvent,function(){C(!0)}),window.addEventListener("resize",(0,c.default)(C,N.debounceDelay,!0)),window.addEventListener("orientationchange",(0,c.default)(C,N.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)(function(){(0,_.default)(R,N.once)},N.throttleDelay)),N.disableMutationObserver||h.default.ready("[data-aos]",b),R)};n.exports={init:S,refresh:C,refreshHard:b}},function(n,e){},,,,,function(n,e){(function(t){"use strict";function i(E,S,I){function T(Se){var _e=et,dt=ze;return et=ze=void 0,Vt=Se,Ve=E.apply(dt,_e)}function le(Se){return Vt=Se,tt=setTimeout(ae,S),Rt?T(Se):Ve}function ve(Se){var _e=Se-$e,dt=Se-Vt,vn=S-_e;return Zt?b(vn,ot-dt):vn}function Ee(Se){var _e=Se-$e,dt=Se-Vt;return $e===void 0||_e>=S||_e<0||Zt&&dt>=ot}function ae(){var Se=v();return Ee(Se)?Me(Se):void(tt=setTimeout(ae,ve(Se)))}function Me(Se){return tt=void 0,Te&&et?T(Se):(et=ze=void 0,Ve)}function mt(){tt!==void 0&&clearTimeout(tt),Vt=0,et=$e=ze=tt=void 0}function O(){return tt===void 0?Ve:Me(v())}function Ke(){var Se=v(),_e=Ee(Se);if(et=arguments,ze=this,$e=Se,_e){if(tt===void 0)return le($e);if(Zt)return tt=setTimeout(ae,S),T($e)}return tt===void 0&&(tt=setTimeout(ae,S)),Ve}var et,ze,ot,Ve,tt,$e,Vt=0,Rt=!1,Zt=!1,Te=!0;if(typeof E!="function")throw new TypeError(d);return S=l(S)||0,s(I)&&(Rt=!!I.leading,Zt="maxWait"in I,ot=Zt?C(l(I.maxWait)||0,S):ot,Te="trailing"in I?!!I.trailing:Te),Ke.cancel=mt,Ke.flush=O,Ke}function r(E,S,I){var T=!0,le=!0;if(typeof E!="function")throw new TypeError(d);return s(I)&&(T="leading"in I?!!I.leading:T,le="trailing"in I?!!I.trailing:le),i(E,S,{leading:T,maxWait:S,trailing:le})}function s(E){var S=typeof E>"u"?"undefined":c(E);return!!E&&(S=="object"||S=="function")}function o(E){return!!E&&(typeof E>"u"?"undefined":c(E))=="object"}function a(E){return(typeof E>"u"?"undefined":c(E))=="symbol"||o(E)&&N.call(E)==f}function l(E){if(typeof E=="number")return E;if(a(E))return h;if(s(E)){var S=typeof E.valueOf=="function"?E.valueOf():E;E=s(S)?S+"":S}if(typeof E!="string")return E===0?E:+E;E=E.replace(p,"");var I=_.test(E);return I||w.test(E)?A(E.slice(2),I?2:8):y.test(E)?h:+E}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},d="Expected a function",h=NaN,f="[object Symbol]",p=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,w=/^0o[0-7]+$/i,A=parseInt,M=(typeof t>"u"?"undefined":c(t))=="object"&&t&&t.Object===Object&&t,x=(typeof self>"u"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,R=M||x||Function("return this")(),P=Object.prototype,N=P.toString,C=Math.max,b=Math.min,v=function(){return R.Date.now()};n.exports=r}).call(e,function(){return this}())},function(n,e){(function(t){"use strict";function i(v,E,S){function I(Te){var Se=Ke,_e=et;return Ke=et=void 0,$e=Te,ot=v.apply(_e,Se)}function T(Te){return $e=Te,Ve=setTimeout(Ee,E),Vt?I(Te):ot}function le(Te){var Se=Te-tt,_e=Te-$e,dt=E-Se;return Rt?C(dt,ze-_e):dt}function ve(Te){var Se=Te-tt,_e=Te-$e;return tt===void 0||Se>=E||Se<0||Rt&&_e>=ze}function Ee(){var Te=b();return ve(Te)?ae(Te):void(Ve=setTimeout(Ee,le(Te)))}function ae(Te){return Ve=void 0,Zt&&Ke?I(Te):(Ke=et=void 0,ot)}function Me(){Ve!==void 0&&clearTimeout(Ve),$e=0,Ke=tt=et=Ve=void 0}function mt(){return Ve===void 0?ot:ae(b())}function O(){var Te=b(),Se=ve(Te);if(Ke=arguments,et=this,tt=Te,Se){if(Ve===void 0)return T(tt);if(Rt)return Ve=setTimeout(Ee,E),I(tt)}return Ve===void 0&&(Ve=setTimeout(Ee,E)),ot}var Ke,et,ze,ot,Ve,tt,$e=0,Vt=!1,Rt=!1,Zt=!0;if(typeof v!="function")throw new TypeError(c);return E=a(E)||0,r(S)&&(Vt=!!S.leading,Rt="maxWait"in S,ze=Rt?N(a(S.maxWait)||0,E):ze,Zt="trailing"in S?!!S.trailing:Zt),O.cancel=Me,O.flush=mt,O}function r(v){var E=typeof v>"u"?"undefined":l(v);return!!v&&(E=="object"||E=="function")}function s(v){return!!v&&(typeof v>"u"?"undefined":l(v))=="object"}function o(v){return(typeof v>"u"?"undefined":l(v))=="symbol"||s(v)&&P.call(v)==h}function a(v){if(typeof v=="number")return v;if(o(v))return d;if(r(v)){var E=typeof v.valueOf=="function"?v.valueOf():v;v=r(E)?E+"":E}if(typeof v!="string")return v===0?v:+v;v=v.replace(f,"");var S=y.test(v);return S||_.test(v)?w(v.slice(2),S?2:8):p.test(v)?d:+v}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c="Expected a function",d=NaN,h="[object Symbol]",f=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,_=/^0o[0-7]+$/i,w=parseInt,A=(typeof t>"u"?"undefined":l(t))=="object"&&t&&t.Object===Object&&t,M=(typeof self>"u"?"undefined":l(self))=="object"&&self&&self.Object===Object&&self,x=A||M||Function("return this")(),R=Object.prototype,P=R.toString,N=Math.max,C=Math.min,b=function(){return x.Date.now()};n.exports=i}).call(e,function(){return this}())},function(n,e){"use strict";function t(l){var c=void 0,d=void 0,h=void 0;for(c=0;c<l.length;c+=1)if(d=l[c],d.dataset&&d.dataset.aos||(h=d.children&&t(d.children)))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(){return!!i()}function s(l,c){var d=window.document,h=i(),f=new h(o);a=c,f.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function o(l){l&&l.forEach(function(c){var d=Array.prototype.slice.call(c.addedNodes),h=Array.prototype.slice.call(c.removedNodes),f=d.concat(h);if(t(f))return a()})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){};e.default={isSupported:r,ready:s}},function(n,e){"use strict";function t(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function d(h,f){for(var p=0;p<f.length;p++){var y=f[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,f,p){return f&&d(h.prototype,f),p&&d(h,p),h}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function d(){t(this,d)}return r(d,[{key:"phone",value:function(){var h=i();return!(!s.test(h)&&!o.test(h.substr(0,4)))}},{key:"mobile",value:function(){var h=i();return!(!a.test(h)&&!l.test(h.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();e.default=new c},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(r,s,o){var a=r.node.getAttribute("data-aos-once");s>r.position?r.node.classList.add("aos-animate"):typeof a<"u"&&(a==="false"||!o&&a!=="true")&&r.node.classList.remove("aos-animate")},i=function(r,s){var o=window.pageYOffset,a=window.innerHeight;r.forEach(function(l,c){t(l,a+o,s)})};e.default=i},function(n,e,t){"use strict";function i(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(e,"__esModule",{value:!0});var r=t(12),s=i(r),o=function(a,l){return a.forEach(function(c,d){c.node.classList.add("aos-init"),c.position=(0,s.default)(c.node,l.offset)}),a};e.default=o},function(n,e,t){"use strict";function i(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(e,"__esModule",{value:!0});var r=t(13),s=i(r),o=function(a,l){var c=0,d=0,h=window.innerHeight,f={offset:a.getAttribute("data-aos-offset"),anchor:a.getAttribute("data-aos-anchor"),anchorPlacement:a.getAttribute("data-aos-anchor-placement")};switch(f.offset&&!isNaN(f.offset)&&(d=parseInt(f.offset)),f.anchor&&document.querySelectorAll(f.anchor)&&(a=document.querySelectorAll(f.anchor)[0]),c=(0,s.default)(a).top,f.anchorPlacement){case"top-bottom":break;case"center-bottom":c+=a.offsetHeight/2;break;case"bottom-bottom":c+=a.offsetHeight;break;case"top-center":c+=h/2;break;case"bottom-center":c+=h/2+a.offsetHeight;break;case"center-center":c+=h/2+a.offsetHeight/2;break;case"top-top":c+=h;break;case"bottom-top":c+=a.offsetHeight+h;break;case"center-top":c+=a.offsetHeight/2+h}return f.anchorPlacement||f.offset||isNaN(l)||(d=l),c+d};e.default=o},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(i){for(var r=0,s=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)r+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),s+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:s,left:r}};e.default=t},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(r){return{node:r}})};e.default=t}])})});function DN(n,e){return Object.is(n,e)}var jn=null,t_=!1,n_=1,No=Symbol("SIGNAL");function _t(n){let e=jn;return jn=n,e}function IN(){return jn}var If={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mb(n){if(t_)throw new Error("");if(jn===null)return;jn.consumerOnSignalRead(n);let e=jn.nextProducerIndex++;if(o_(jn),e<jn.producerNode.length&&jn.producerNode[e]!==n&&Df(jn)){let t=jn.producerNode[e];s_(t,jn.producerIndexOfThis[e])}jn.producerNode[e]!==n&&(jn.producerNode[e]=n,jn.producerIndexOfThis[e]=Df(jn)?xN(n,jn,e):0),jn.producerLastReadVersion[e]=n.version}function T9(){n_++}function TN(n){if(!(Df(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===n_)){if(!n.producerMustRecompute(n)&&!yb(n)){n.dirty=!1,n.lastCleanEpoch=n_;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=n_}}function SN(n){if(n.liveConsumerNode===void 0)return;let e=t_;t_=!0;try{for(let t of n.liveConsumerNode)t.dirty||S9(t)}finally{t_=e}}function AN(){return jn?.consumerAllowSignalWrites!==!1}function S9(n){n.dirty=!0,SN(n),n.consumerMarkedDirty?.(n)}function r_(n){return n&&(n.nextProducerIndex=0),_t(n)}function _b(n,e){if(_t(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Df(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)s_(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function yb(n){o_(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(TN(t),i!==t.version))return!0}return!1}function vb(n){if(o_(n),Df(n))for(let e=0;e<n.producerNode.length;e++)s_(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function xN(n,e,t){if(MN(n),n.liveConsumerNode.length===0&&RN(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=xN(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function s_(n,e){if(MN(n),n.liveConsumerNode.length===1&&RN(n))for(let i=0;i<n.producerNode.length;i++)s_(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];o_(r),r.producerIndexOfThis[i]=e}}function Df(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function o_(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function MN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function RN(n){return n.producerNode!==void 0}function NN(n){let e=Object.create(A9);e.computation=n;let t=()=>{if(TN(e),mb(e),e.value===i_)throw e.error;return e.value};return t[No]=e,t}var pb=Symbol("UNSET"),gb=Symbol("COMPUTING"),i_=Symbol("ERRORED"),A9=Pe(K({},If),{value:pb,dirty:!0,error:null,equal:DN,producerMustRecompute(n){return n.value===pb||n.value===gb},producerRecomputeValue(n){if(n.value===gb)throw new Error("Detected cycle in computations.");let e=n.value;n.value=gb;let t=r_(n),i;try{i=n.computation()}catch(r){i=i_,n.error=r}finally{_b(n,t)}if(e!==pb&&e!==i_&&i!==i_&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function x9(){throw new Error}var ON=x9;function PN(){ON()}function kN(n){ON=n}var M9=null;function FN(n){let e=Object.create(VN);e.value=n;let t=()=>(mb(e),e.value);return t[No]=e,t}function wb(n,e){AN()||PN(),n.equal(n.value,e)||(n.value=e,R9(n))}function LN(n,e){AN()||PN(),wb(n,e(n.value))}var VN=Pe(K({},If),{equal:DN,value:void 0});function R9(n){n.version++,T9(),SN(n),M9?.()}function pe(n){return typeof n=="function"}function Ou(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var a_=Ou(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Xl(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var hn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(pe(i))try{i()}catch(s){e=s instanceof a_?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{BN(s)}catch(o){e=e??[],o instanceof a_?e=[...e,...o.errors]:e.push(o)}}if(e)throw new a_(e)}}add(e){var t;if(e&&e!==this)if(this.closed)BN(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Xl(t,e)}remove(e){let{_finalizers:t}=this;t&&Xl(t,e),e instanceof n&&e._removeParent(this)}};hn.EMPTY=(()=>{let n=new hn;return n.closed=!0,n})();var bb=hn.EMPTY;function l_(n){return n instanceof hn||n&&"closed"in n&&pe(n.remove)&&pe(n.add)&&pe(n.unsubscribe)}function BN(n){pe(n)?n():n.unsubscribe()}var bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pu={setTimeout(n,e,...t){let{delegate:i}=Pu;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Pu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function c_(n){Pu.setTimeout(()=>{let{onUnhandledError:e}=bs;if(e)e(n);else throw n})}function ec(){}var jN=Eb("C",void 0,void 0);function UN(n){return Eb("E",void 0,n)}function $N(n){return Eb("N",n,void 0)}function Eb(n,e,t){return{kind:n,value:e,error:t}}var tc=null;function ku(n){if(bs.useDeprecatedSynchronousErrorHandling){let e=!tc;if(e&&(tc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=tc;if(tc=null,t)throw i}}else n()}function HN(n){bs.useDeprecatedSynchronousErrorHandling&&tc&&(tc.errorThrown=!0,tc.error=n)}var nc=class extends hn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,l_(e)&&e.add(this)):this.destination=P9}static create(e,t,i){return new Oo(e,t,i)}next(e){this.isStopped?Db($N(e),this):this._next(e)}error(e){this.isStopped?Db(UN(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Db(jN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},N9=Function.prototype.bind;function Cb(n,e){return N9.call(n,e)}var Ib=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){u_(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){u_(i)}else u_(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){u_(t)}}},Oo=class extends nc{constructor(e,t,i){super();let r;if(pe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&bs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Cb(e.next,s),error:e.error&&Cb(e.error,s),complete:e.complete&&Cb(e.complete,s)}):r=e}this.destination=new Ib(r)}};function u_(n){bs.useDeprecatedSynchronousErrorHandling?HN(n):c_(n)}function O9(n){throw n}function Db(n,e){let{onStoppedNotification:t}=bs;t&&Pu.setTimeout(()=>t(n,e))}var P9={closed:!0,next:ec,error:O9,complete:ec};var Fu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ui(n){return n}function Tb(...n){return Sb(n)}function Sb(n){return n.length===0?ui:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=F9(t)?t:new Oo(t,i,r);return ku(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=zN(i),new i((r,s)=>{let o=new Oo({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Fu](){return this}pipe(...t){return Sb(t)(this)}toPromise(t){return t=zN(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function zN(n){var e;return(e=n??bs.Promise)!==null&&e!==void 0?e:Promise}function k9(n){return n&&pe(n.next)&&pe(n.error)&&pe(n.complete)}function F9(n){return n&&n instanceof nc||k9(n)&&l_(n)}function Ab(n){return pe(n?.lift)}function Ae(n){return e=>{if(Ab(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,i,r){return new xb(n,e,t,i,r)}var xb=class extends nc{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Lu(){return Ae((n,e)=>{let t=null;n._refCount++;let i=be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Vu=class extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ab(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hn;let t=this.getSubject();e.add(this.source.subscribe(be(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hn.EMPTY)}return e}refCount(){return Lu()(this)}};var GN=Ou(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var yt=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new d_(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new GN}next(t){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?bb:(this.currentObservers=null,s.push(t),new hn(()=>{this.currentObservers=null,Xl(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new d_(e,t),n})(),d_=class extends yt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:bb}};var Zn=class extends yt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Tf={now(){return(Tf.delegate||Date).now()},delegate:void 0};var h_=class extends yt{constructor(e=1/0,t=1/0,i=Tf){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=t.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var f_=class extends hn{constructor(e,t){super()}schedule(e,t=0){return this}};var Sf={setInterval(n,e,...t){let{delegate:i}=Sf;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Sf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Bu=class extends f_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Sf.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Sf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Xl(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ju=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};ju.now=Tf.now;var Uu=class extends ju{constructor(e,t=ju.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Na=new Uu(Bu),Mb=Na;var p_=class extends Bu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var g_=class extends Uu{};var Rb=new g_(p_);var Un=new me(n=>n.complete());function m_(n){return n&&pe(n.schedule)}function Nb(n){return n[n.length-1]}function Oa(n){return pe(Nb(n))?n.pop():void 0}function Qs(n){return m_(Nb(n))?n.pop():void 0}function WN(n,e){return typeof Nb(n)=="number"?n.pop():e}var $u=n=>n&&typeof n.length=="number"&&typeof n!="function";function __(n){return pe(n?.then)}function y_(n){return pe(n[Fu])}function v_(n){return Symbol.asyncIterator&&pe(n?.[Symbol.asyncIterator])}function w_(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function L9(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var b_=L9();function E_(n){return pe(n?.[b_])}function C_(n){return dN(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield qm(t.read());if(r)return yield qm(void 0);yield yield qm(i)}}finally{t.releaseLock()}})}function D_(n){return pe(n?.getReader)}function ft(n){if(n instanceof me)return n;if(n!=null){if(y_(n))return V9(n);if($u(n))return B9(n);if(__(n))return j9(n);if(v_(n))return qN(n);if(E_(n))return U9(n);if(D_(n))return $9(n)}throw w_(n)}function V9(n){return new me(e=>{let t=n[Fu]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function B9(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function j9(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,c_)})}function U9(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function qN(n){return new me(e=>{H9(n,e).catch(t=>e.error(t))})}function $9(n){return qN(C_(n))}function H9(n,e){var t,i,r,s;return uN(this,void 0,void 0,function*(){try{for(t=hN(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function ar(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Wr(n,e=0){return Ae((t,i)=>{t.subscribe(be(i,r=>ar(i,n,()=>i.next(r),e),()=>ar(i,n,()=>i.complete(),e),r=>ar(i,n,()=>i.error(r),e)))})}function Es(n,e=0){return Ae((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function KN(n,e){return ft(n).pipe(Es(e),Wr(e))}function QN(n,e){return ft(n).pipe(Es(e),Wr(e))}function YN(n,e){return new me(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function JN(n,e){return new me(t=>{let i;return ar(t,e,()=>{i=n[b_](),ar(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>pe(i?.return)&&i.return()})}function I_(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{ar(t,e,()=>{let i=n[Symbol.asyncIterator]();ar(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ZN(n,e){return I_(C_(n),e)}function XN(n,e){if(n!=null){if(y_(n))return KN(n,e);if($u(n))return YN(n,e);if(__(n))return QN(n,e);if(v_(n))return I_(n,e);if(E_(n))return JN(n,e);if(D_(n))return ZN(n,e)}throw w_(n)}function at(n,e){return e?XN(n,e):ft(n)}function se(...n){let e=Qs(n);return at(n,e)}function Hu(n,e){let t=pe(n)?n:()=>n,i=r=>r.error(t());return new me(e?r=>e.schedule(i,0,r):i)}function Ob(n){return!!n&&(n instanceof me||pe(n.lift)&&pe(n.subscribe))}var Po=Ou(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function eO(n){return n instanceof Date&&!isNaN(n)}function ne(n,e){return Ae((t,i)=>{let r=0;t.subscribe(be(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:z9}=Array;function G9(n,e){return z9(e)?n(...e):n(e)}function zu(n){return ne(e=>G9(n,e))}var{isArray:W9}=Array,{getPrototypeOf:q9,prototype:K9,keys:Q9}=Object;function T_(n){if(n.length===1){let e=n[0];if(W9(e))return{args:e,keys:null};if(Y9(e)){let t=Q9(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function Y9(n){return n&&typeof n=="object"&&q9(n)===K9}function S_(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Gu(...n){let e=Qs(n),t=Oa(n),{args:i,keys:r}=T_(n);if(i.length===0)return at([],e);let s=new me(J9(i,e,r?o=>S_(r,o):ui));return t?s.pipe(zu(t)):s}function J9(n,e,t=ui){return i=>{tO(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)tO(e,()=>{let c=at(n[l],e),d=!1;c.subscribe(be(i,h=>{s[l]=h,d||(d=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function tO(n,e,t){n?ar(t,n,e):e()}function nO(n,e,t,i,r,s,o,a){let l=[],c=0,d=0,h=!1,f=()=>{h&&!l.length&&!c&&e.complete()},p=_=>c<i?y(_):l.push(_),y=_=>{s&&e.next(_),c++;let w=!1;ft(t(_,d++)).subscribe(be(e,A=>{r?.(A),s?p(A):e.next(A)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<i;){let A=l.shift();o?ar(e,o,()=>y(A)):y(A)}f()}catch(A){e.error(A)}}))};return n.subscribe(be(e,p,()=>{h=!0,f()})),()=>{a?.()}}function Xt(n,e,t=1/0){return pe(e)?Xt((i,r)=>ne((s,o)=>e(i,s,r,o))(ft(n(i,r))),t):(typeof e=="number"&&(t=e),Ae((i,r)=>nO(i,r,n,t)))}function Pa(n=1/0){return Xt(ui,n)}function iO(){return Pa(1)}function ka(...n){return iO()(at(n,Qs(n)))}function A_(n){return new me(e=>{ft(n()).subscribe(e)})}function Pb(...n){let e=Oa(n),{args:t,keys:i}=T_(n),r=new me(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let d=0;d<o;d++){let h=!1;ft(t[d]).subscribe(be(s,f=>{h||(h=!0,c--),a[d]=f},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(i?S_(i,a):a),s.complete())}))}});return e?r.pipe(zu(e)):r}var Z9=["addListener","removeListener"],X9=["addEventListener","removeEventListener"],e$=["on","off"];function qr(n,e,t,i){if(pe(t)&&(i=t,t=void 0),i)return qr(n,e,t).pipe(zu(i));let[r,s]=i$(n)?X9.map(o=>a=>n[o](e,a,t)):t$(n)?Z9.map(rO(n,e)):n$(n)?e$.map(rO(n,e)):[];if(!r&&$u(n))return Xt(o=>qr(o,e,t))(ft(n));if(!r)throw new TypeError("Invalid event target");return new me(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function rO(n,e){return t=>i=>n[t](e,i)}function t$(n){return pe(n.addListener)&&pe(n.removeListener)}function n$(n){return pe(n.on)&&pe(n.off)}function i$(n){return pe(n.addEventListener)&&pe(n.removeEventListener)}function kb(n=0,e,t=Mb){let i=-1;return e!=null&&(m_(e)?t=e:i=e),new me(r=>{let s=eO(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function ic(...n){let e=Qs(n),t=WN(n,1/0),i=n;return i.length?i.length===1?ft(i[0]):Pa(t)(at(i,e)):Un}var{isArray:r$}=Array;function x_(n){return n.length===1&&r$(n[0])?n[0]:n}function Kt(n,e){return Ae((t,i)=>{let r=0;t.subscribe(be(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Fb(...n){return n=x_(n),n.length===1?ft(n[0]):new me(s$(n))}function s$(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(ft(n[i]).subscribe(be(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}function Af(...n){let e=Oa(n),t=x_(n);return t.length?new me(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)ft(t[o]).subscribe(be(i,a=>{if(r[o].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(e?e(...l):l),r.some((c,d)=>!c.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Un}function Fa(n){return Ae((e,t)=>{let i=null,r=!1,s;i=e.subscribe(be(t,void 0,void 0,o=>{s=ft(n(o,Fa(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function sO(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(be(o,d=>{let h=c++;l=a?n(l,d,h):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function ko(n,e){return pe(e)?Xt(n,e,1):Xt(n,1)}function La(n){return Ae((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function lr(n){return n<=0?()=>Un:Ae((e,t)=>{let i=0;e.subscribe(be(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Lb(n){return ne(()=>n)}function Wu(n,e=ui){return n=n??o$,Ae((t,i)=>{let r,s=!0;t.subscribe(be(i,o=>{let a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function o$(n,e){return n===e}function M_(n=a$){return Ae((e,t)=>{let i=!1;e.subscribe(be(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function a$(){return new Po}function Vb(...n){return e=>ka(e,se(...n))}function Fo(n){return Ae((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Kr(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Kt((r,s)=>n(r,s,i)):ui,lr(1),t?La(e):M_(()=>new Po))}function qu(n){return n<=0?()=>Un:Ae((e,t)=>{let i=[];e.subscribe(be(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Bb(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Kt((r,s)=>n(r,s,i)):ui,qu(1),t?La(e):M_(()=>new Po))}function xf(){return Ae((n,e)=>{let t,i=!1;n.subscribe(be(e,r=>{let s=t;t=r,i&&e.next([s,r]),i=!0}))})}function Ys(n,e){return Ae(sO(n,e,arguments.length>=2,!0))}function Mf(n={}){let{connector:e=()=>new yt,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,d=!1,h=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),o=l=void 0,d=h=!1},y=()=>{let _=o;p(),_?.unsubscribe()};return Ae((_,w)=>{c++,!h&&!d&&f();let A=l=l??e();w.add(()=>{c--,c===0&&!h&&!d&&(a=jb(y,r))}),A.subscribe(w),!o&&c>0&&(o=new Oo({next:M=>A.next(M),error:M=>{h=!0,f(),a=jb(p,t,M),A.error(M)},complete:()=>{d=!0,f(),a=jb(p,i),A.complete()}}),ft(_).subscribe(o))})(s)}}function jb(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new Oo({next:()=>{i.unsubscribe(),n()}});return ft(e(...t)).subscribe(i)}function R_(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,Mf({connector:()=>new h_(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ub(n){return Ae((e,t)=>{let i=!1,r=0;e.subscribe(be(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}function Va(...n){let e=Qs(n);return Ae((t,i)=>{(e?ka(n,t,e):ka(n,t)).subscribe(i)})}function Mt(n,e){return Ae((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(be(i,l=>{r?.unsubscribe();let c=0,d=s++;ft(n(l,d)).subscribe(r=be(i,h=>i.next(e?e(l,h,d,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function N_(n,e){return pe(e)?Mt(()=>n,e):Mt(()=>n)}function Ei(n){return Ae((e,t)=>{ft(n).subscribe(be(t,()=>t.complete(),ec)),!t.closed&&e.subscribe(t)})}function fn(n,e,t){let i=pe(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ae((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(be(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):ui}function Ku(...n){let e=Oa(n);return Ae((t,i)=>{let r=n.length,s=new Array(r),o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)ft(n[l]).subscribe(be(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(ui))&&(o=null))},ec));t.subscribe(be(i,l=>{if(a){let c=[l,...s];i.next(e?e(...c):c)}}))})}var UO="https://g.co/ng/security#xss",ue=class extends Error{constructor(e,t){super(g0(e,t)),this.code=e}};function g0(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Uf(n){return{toString:n}.toString()}var O_="__parameters__";function l$(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function $O(n,e,t){return Uf(()=>{let i=l$(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,d){let h=l.hasOwnProperty(O_)?l[O_]:Object.defineProperty(l,O_,{value:[]})[O_];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Ho=globalThis;function Pt(n){for(let e in n)if(n[e]===Pt)return e;throw Error("Could not find renamed property on target object.")}function c$(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Vi(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Vi).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function tE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var u$=Pt({__forward_ref__:Pt});function hd(n){return n.__forward_ref__=hd,n.toString=function(){return Vi(this())},n}function Li(n){return HO(n)?n():n}function HO(n){return typeof n=="function"&&n.hasOwnProperty(u$)&&n.__forward_ref__===hd}function te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Re(n){return{providers:n.providers||[],imports:n.imports||[]}}function m0(n){return oO(n,GO)||oO(n,WO)}function zO(n){return m0(n)!==null}function oO(n,e){return n.hasOwnProperty(e)?n[e]:null}function d$(n){let e=n&&(n[GO]||n[WO]);return e||null}function aO(n){return n&&(n.hasOwnProperty(lO)||n.hasOwnProperty(h$))?n[lO]:null}var GO=Pt({\u0275prov:Pt}),lO=Pt({\u0275inj:Pt}),WO=Pt({ngInjectableDef:Pt}),h$=Pt({ngInjectorDef:Pt}),J=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qO(n){return n&&!!n.\u0275providers}var f$=Pt({\u0275cmp:Pt}),p$=Pt({\u0275dir:Pt}),g$=Pt({\u0275pipe:Pt}),m$=Pt({\u0275mod:Pt}),H_=Pt({\u0275fac:Pt}),Nf=Pt({__NG_ELEMENT_ID__:Pt}),cO=Pt({__NG_ENV_ID__:Pt});function _0(n){return typeof n=="string"?n:n==null?"":String(n)}function _$(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():_0(n)}function y$(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ue(-200,n)}function ZE(n,e){throw new ue(-201,!1)}var Ge=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ge||{}),nE;function KO(){return nE}function Qr(n){let e=nE;return nE=n,e}function QO(n,e,t){let i=m0(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Ge.Optional)return null;if(e!==void 0)return e;ZE(n,"Injector")}var v$={},Pf=v$,iE="__NG_DI_FLAG__",z_="ngTempTokenPath",w$="ngTokenPath",b$=/\n/gm,E$="\u0275",uO="__source",Xu;function C$(){return Xu}function Ba(n){let e=Xu;return Xu=n,e}function D$(n,e=Ge.Default){if(Xu===void 0)throw new ue(-203,!1);return Xu===null?QO(n,void 0,e):Xu.get(n,e&Ge.Optional?null:void 0,e)}function z(n,e=Ge.Default){return(KO()||D$)(Li(n),e)}function H(n,e=Ge.Default){return z(n,y0(e))}function y0(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rE(n){let e=[];for(let t=0;t<n.length;t++){let i=Li(n[t]);if(Array.isArray(i)){if(i.length===0)throw new ue(900,!1);let r,s=Ge.Default;for(let o=0;o<i.length;o++){let a=i[o],l=I$(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(z(r,s))}else e.push(z(i))}return e}function YO(n,e){return n[iE]=e,n.prototype[iE]=e,n}function I$(n){return n[iE]}function T$(n,e,t,i){let r=n[z_];throw e[uO]&&r.unshift(e[uO]),n.message=S$(`
`+n.message,r,t,i),n[w$]=r,n[z_]=null,n}function S$(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==E$?n.slice(2):n;let r=Vi(e);if(Array.isArray(e))r=e.map(Vi).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Vi(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(b$,`
  `)}`}var fd=YO($O("Optional"),8);var XE=YO($O("SkipSelf"),4);function td(n,e){let t=n.hasOwnProperty(H_);return t?n[H_]:null}function A$(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function x$(n){return n.flat(Number.POSITIVE_INFINITY)}function eC(n,e){n.forEach(t=>Array.isArray(t)?eC(t,e):e(t))}function JO(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function G_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function M$(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function R$(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function tC(n,e,t){let i=$f(n,e);return i>=0?n[i|1]=t:(i=~i,R$(n,i,e,t)),i}function $b(n,e){let t=$f(n,e);if(t>=0)return n[t|1]}function $f(n,e){return N$(n,e,1)}function N$(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var nd={},cr=[],id=new J(""),ZO=new J("",-1),XO=new J(""),W_=class{get(e,t=Pf){if(t===Pf){let i=new Error(`NullInjectorError: No provider for ${Vi(e)}!`);throw i.name="NullInjectorError",i}return t}},eP=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(eP||{}),Xs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Xs||{}),$a=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}($a||{});function O$(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function sE(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];k$(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function P$(n){return n===3||n===4||n===6}function k$(n){return n.charCodeAt(0)===64}function kf(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?dO(n,t,r,null,e[++i]):dO(n,t,r,null,null))}}return n}function dO(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var tP="ng-template";function F$(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&O$(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(nC(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function nC(n){return n.type===4&&n.value!==tP}function L$(n,e,t){let i=n.type===4&&!t?tP:n.value;return e===i}function V$(n,e,t){let i=4,r=n.attrs,s=r!==null?U$(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Cs(i)&&!Cs(l))return!1;if(o&&Cs(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!L$(n,l,t)||l===""&&e.length===1){if(Cs(i))return!1;o=!0}}else if(i&8){if(r===null||!F$(n,r,l,t)){if(Cs(i))return!1;o=!0}}else{let c=e[++a],d=B$(l,r,nC(n),t);if(d===-1){if(Cs(i))return!1;o=!0;continue}if(c!==""){let h;if(d>s?h="":h=r[d+1].toLowerCase(),i&2&&c!==h){if(Cs(i))return!1;o=!0}}}}return Cs(i)||o}function Cs(n){return(n&1)===0}function B$(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return $$(e,n)}function nP(n,e,t=!1){for(let i=0;i<e.length;i++)if(V$(n,e[i],t))return!0;return!1}function j$(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function U$(n){for(let e=0;e<n.length;e++){let t=n[e];if(P$(t))return e}return n.length}function $$(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function H$(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function hO(n,e){return n?":not("+e.trim()+")":e}function z$(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Cs(o)&&(e+=hO(s,r),r=""),i=o,s=s||!Cs(i);t++}return r!==""&&(e+=hO(s,r)),e}function G$(n){return n.map(z$).join(",")}function W$(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!Cs(r))break;r=s}i++}return{attrs:e,classes:t}}function hi(n){return Uf(()=>{let e=aP(n),t=Pe(K({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===eP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Xs.Emulated,styles:n.styles||cr,_:null,schemas:n.schemas||null,tView:null,id:""});lP(t);let i=n.dependencies;return t.directiveDefs=pO(i,!1),t.pipeDefs=pO(i,!0),t.id=Q$(t),t})}function q$(n){return Lo(n)||iP(n)}function K$(n){return n!==null}function Ne(n){return Uf(()=>({type:n.type,bootstrap:n.bootstrap||cr,declarations:n.declarations||cr,imports:n.imports||cr,exports:n.exports||cr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function fO(n,e){if(n==null)return nd;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=$a.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==$a.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Tr(n){return Uf(()=>{let e=aP(n);return lP(e),e})}function Lo(n){return n[f$]||null}function iP(n){return n[p$]||null}function rP(n){return n[g$]||null}function sP(n){let e=Lo(n)||iP(n)||rP(n);return e!==null?e.standalone:!1}function oP(n,e){let t=n[m$]||null;if(!t&&e===!0)throw new Error(`Type ${Vi(n)} does not have '\u0275mod' property.`);return t}function aP(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||nd,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||cr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fO(n.inputs,e),outputs:fO(n.outputs),debugInfo:null}}function lP(n){n.features?.forEach(e=>e(n))}function pO(n,e){if(!n)return null;let t=e?rP:q$;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(K$)}function Q$(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function v0(n){return{\u0275providers:n}}function Y$(...n){return{\u0275providers:cP(!0,n),\u0275fromNgModule:!0}}function cP(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return eC(e,o=>{let a=o;oE(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&uP(r,s),t}function uP(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];iC(r,s=>{e(s,i)})}}function oE(n,e,t,i){if(n=Li(n),!n)return!1;let r=null,s=aO(n),o=!s&&Lo(n);if(!s&&!o){let l=n.ngModule;if(s=aO(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)oE(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{eC(s.imports,d=>{oE(d,e,t,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&uP(c,e)}if(!a){let c=td(r)||(()=>new r);e({provide:r,useFactory:c,deps:cr},r),e({provide:XO,useValue:r,multi:!0},r),e({provide:id,useValue:()=>z(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;iC(l,d=>{e(d,c)})}}else return!1;return r!==n&&n.providers!==void 0}function iC(n,e){for(let t of n)qO(t)&&(t=t.\u0275providers),Array.isArray(t)?iC(t,e):e(t)}var J$=Pt({provide:String,useValue:Pt});function dP(n){return n!==null&&typeof n=="object"&&J$ in n}function Z$(n){return!!(n&&n.useExisting)}function X$(n){return!!(n&&n.useFactory)}function rd(n){return typeof n=="function"}function e6(n){return!!n.useClass}var w0=new J(""),V_={},t6={},Hb;function b0(){return Hb===void 0&&(Hb=new W_),Hb}var Xn=class{},Ff=class extends Xn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lE(e,o=>this.processProvider(o)),this.records.set(ZO,Qu(void 0,this)),r.has("environment")&&this.records.set(Xn,Qu(void 0,this));let s=this.records.get(w0);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(XO,cr,Ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_t(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_t(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ba(this),i=Qr(void 0),r;try{return e()}finally{Ba(t),Qr(i)}}get(e,t=Pf,i=Ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cO))return e[cO](this);i=y0(i);let r,s=Ba(this),o=Qr(void 0);try{if(!(i&Ge.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=o6(e)&&m0(e);c&&this.injectableDefInScope(c)?l=Qu(aE(e),V_):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Ge.Self?b0():this.parent;return t=i&Ge.Optional&&t===Pf?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[z_]=a[z_]||[]).unshift(Vi(e)),s)throw a;return T$(a,e,"R3InjectorError",this.source)}else throw a}finally{Qr(o),Ba(s)}}resolveInjectorInitializers(){let e=_t(null),t=Ba(this),i=Qr(void 0),r;try{let s=this.get(id,cr,Ge.Self);for(let o of s)o()}finally{Ba(t),Qr(i),_t(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Vi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(e){e=Li(e);let t=rd(e)?e:Li(e&&e.provide),i=i6(e);if(!rd(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Qu(void 0,V_,!0),r.factory=()=>rE(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=_t(null);try{return t.value===V_&&(t.value=t6,t.value=t.factory()),typeof t.value=="object"&&t.value&&s6(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_t(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Li(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function aE(n){let e=m0(n),t=e!==null?e.factory:td(n);if(t!==null)return t;if(n instanceof J)throw new ue(204,!1);if(n instanceof Function)return n6(n);throw new ue(204,!1)}function n6(n){if(n.length>0)throw new ue(204,!1);let t=d$(n);return t!==null?()=>t.factory(n):()=>new n}function i6(n){if(dP(n))return Qu(void 0,n.useValue);{let e=hP(n);return Qu(e,V_)}}function hP(n,e,t){let i;if(rd(n)){let r=Li(n);return td(r)||aE(r)}else if(dP(n))i=()=>Li(n.useValue);else if(X$(n))i=()=>n.useFactory(...rE(n.deps||[]));else if(Z$(n))i=()=>z(Li(n.useExisting));else{let r=Li(n&&(n.useClass||n.provide));if(r6(n))i=()=>new r(...rE(n.deps));else return td(r)||aE(r)}return i}function Qu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function r6(n){return!!n.deps}function s6(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function o6(n){return typeof n=="function"||typeof n=="object"&&n instanceof J}function lE(n,e){for(let t of n)Array.isArray(t)?lE(t,e):t&&qO(t)?lE(t.\u0275providers,e):e(t)}function Xr(n,e){n instanceof Ff&&n.assertNotDestroyed();let t,i=Ba(n),r=Qr(void 0);try{return e()}finally{Ba(i),Qr(r)}}function fP(){return KO()!==void 0||C$()!=null}function a6(n){if(!fP())throw new ue(-203,!1)}function l6(n){let e=Ho.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function c6(n){return typeof n=="function"}var zo=0,He=1,Ce=2,Ci=3,Is=4,ur=5,Lf=6,q_=7,Ts=8,sd=9,eo=10,pn=11,Vf=12,gO=13,pd=14,Jr=15,sc=16,Yu=17,Vo=18,E0=19,pP=20,ja=21,zb=22,Yr=23,Zr=25,gP=1;var oc=7,K_=8,od=9,Ir=10,Q_=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Q_||{});function Ua(n){return Array.isArray(n)&&typeof n[gP]=="object"}function Go(n){return Array.isArray(n)&&n[gP]===!0}function rC(n){return(n.flags&4)!==0}function C0(n){return n.componentOffset>-1}function D0(n){return(n.flags&1)===1}function Ha(n){return!!n.template}function cE(n){return(n[Ce]&512)!==0}var uE=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function mP(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function pc(){return _P}function _P(n){return n.type.prototype.ngOnChanges&&(n.setInput=d6),u6}pc.ngInherit=!0;function u6(){let n=vP(this),e=n?.current;if(e){let t=n.previous;if(t===nd)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function d6(n,e,t,i,r){let s=this.declaredInputs[i],o=vP(n)||h6(n,{previous:nd,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new uE(c&&c.currentValue,t,l===nd),mP(n,e,r,t)}var yP="__ngSimpleChanges__";function vP(n){return n[yP]||null}function h6(n,e){return n[yP]=e}var mO=null;var Js=function(n,e,t){mO?.(n,e,t)},wP="svg",f6="math";function to(n){for(;Array.isArray(n);)n=n[zo];return n}function bP(n,e){return to(e[n])}function es(n,e){return to(e[n.index])}function EP(n,e){return n.data[e]}function p6(n,e){return n[e]}function Wa(n,e){let t=e[n];return Ua(t)?t:t[zo]}function g6(n){return(n[Ce]&4)===4}function sC(n){return(n[Ce]&128)===128}function m6(n){return Go(n[Ci])}function ad(n,e){return e==null?null:n[e]}function CP(n){n[Yu]=0}function DP(n){n[Ce]&1024||(n[Ce]|=1024,sC(n)&&T0(n))}function _6(n,e){for(;n>0;)e=e[pd],n--;return e}function I0(n){return!!(n[Ce]&9216||n[Yr]?.dirty)}function dE(n){n[eo].changeDetectionScheduler?.notify(8),n[Ce]&64&&(n[Ce]|=1024),I0(n)&&T0(n)}function T0(n){n[eo].changeDetectionScheduler?.notify(0);let e=ac(n);for(;e!==null&&!(e[Ce]&8192||(e[Ce]|=8192,!sC(e)));)e=ac(e)}function IP(n,e){if((n[Ce]&256)===256)throw new ue(911,!1);n[ja]===null&&(n[ja]=[]),n[ja].push(e)}function y6(n,e){if(n[ja]===null)return;let t=n[ja].indexOf(e);t!==-1&&n[ja].splice(t,1)}function ac(n){let e=n[Ci];return Go(e)?e[Ci]:e}var je={lFrame:kP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var TP=!1;function v6(){return je.lFrame.elementDepthCount}function w6(){je.lFrame.elementDepthCount++}function b6(){je.lFrame.elementDepthCount--}function SP(){return je.bindingsEnabled}function AP(){return je.skipHydrationRootTNode!==null}function E6(n){return je.skipHydrationRootTNode===n}function C6(){je.skipHydrationRootTNode=null}function vt(){return je.lFrame.lView}function $n(){return je.lFrame.tView}function Bi(n){return je.lFrame.contextLView=n,n[Ts]}function ji(n){return je.lFrame.contextLView=null,n}function Ui(){let n=xP();for(;n!==null&&n.type===64;)n=n.parent;return n}function xP(){return je.lFrame.currentTNode}function D6(){let n=je.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function gc(n,e){let t=je.lFrame;t.currentTNode=n,t.isParent=e}function oC(){return je.lFrame.isParent}function aC(){je.lFrame.isParent=!1}function I6(){return je.lFrame.contextLView}function MP(){return TP}function _O(n){TP=n}function T6(){let n=je.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function S6(n){return je.lFrame.bindingIndex=n}function S0(){return je.lFrame.bindingIndex++}function RP(n){let e=je.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function A6(){return je.lFrame.inI18n}function x6(n,e){let t=je.lFrame;t.bindingIndex=t.bindingRootIndex=n,hE(e)}function M6(){return je.lFrame.currentDirectiveIndex}function hE(n){je.lFrame.currentDirectiveIndex=n}function R6(n){let e=je.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function NP(){return je.lFrame.currentQueryIndex}function lC(n){je.lFrame.currentQueryIndex=n}function N6(n){let e=n[He];return e.type===2?e.declTNode:e.type===1?n[ur]:null}function OP(n,e,t){if(t&Ge.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Ge.Host);)if(r=N6(s),r===null||(s=s[pd],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=je.lFrame=PP();return i.currentTNode=e,i.lView=n,!0}function cC(n){let e=PP(),t=n[He];je.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function PP(){let n=je.lFrame,e=n===null?null:n.child;return e===null?kP(n):e}function kP(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function FP(){let n=je.lFrame;return je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var LP=FP;function uC(){let n=FP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function O6(n){return(je.lFrame.contextLView=_6(n,je.lFrame.contextLView))[Ts]}function mc(){return je.lFrame.selectedIndex}function lc(n){je.lFrame.selectedIndex=n}function dC(){let n=je.lFrame;return EP(n.tView,n.selectedIndex)}function qa(){je.lFrame.currentNamespace=wP}function _c(){P6()}function P6(){je.lFrame.currentNamespace=null}function k6(){return je.lFrame.currentNamespace}var VP=!0;function A0(){return VP}function x0(n){VP=n}function F6(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=_P(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function M0(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function B_(n,e,t){BP(n,e,3,t)}function j_(n,e,t,i){(n[Ce]&3)===t&&BP(n,e,t,i)}function Gb(n,e){let t=n[Ce];(t&3)===e&&(t&=16383,t+=1,n[Ce]=t)}function BP(n,e,t,i){let r=i!==void 0?n[Yu]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Yu]+=65536),(a<s||s==-1)&&(L6(n,t,e,l),n[Yu]=(n[Yu]&4294901760)+l+2),l++}function yO(n,e){Js(4,n,e);let t=_t(null);try{e.call(n)}finally{_t(t),Js(5,n,e)}}function L6(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[Ce]>>14<n[Yu]>>16&&(n[Ce]&3)===e&&(n[Ce]+=16384,yO(a,s)):yO(a,s)}var ed=-1,cc=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function V6(n){return n instanceof cc}function B6(n){return(n.flags&8)!==0}function j6(n){return(n.flags&16)!==0}var Wb={},fE=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=y0(i);let r=this.injector.get(e,Wb,i);return r!==Wb||t===Wb?r:this.parentInjector.get(e,t,i)}};function jP(n){return n!==ed}function Y_(n){return n&32767}function U6(n){return n>>16}function J_(n,e){let t=U6(n),i=e;for(;t>0;)i=i[pd],t--;return i}var pE=!0;function vO(n){let e=pE;return pE=n,e}var $6=256,UP=$6-1,$P=5,H6=0,Zs={};function z6(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Nf)&&(i=t[Nf]),i==null&&(i=t[Nf]=H6++);let r=i&UP,s=1<<r;e.data[n+(r>>$P)]|=s}function Z_(n,e){let t=HP(n,e);if(t!==-1)return t;let i=e[He];i.firstCreatePass&&(n.injectorIndex=e.length,qb(i.data,n),qb(e,null),qb(i.blueprint,null));let r=hC(n,e),s=n.injectorIndex;if(jP(r)){let o=Y_(r),a=J_(r,e),l=a[He].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function qb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function HP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function hC(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=KP(r),i===null)return ed;if(t++,r=r[pd],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return ed}function gE(n,e,t){z6(n,e,t)}function zP(n,e,t){if(t&Ge.Optional||n!==void 0)return n;ZE(e,"NodeInjector")}function GP(n,e,t,i){if(t&Ge.Optional&&i===void 0&&(i=null),!(t&(Ge.Self|Ge.Host))){let r=n[sd],s=Qr(void 0);try{return r?r.get(e,i,t&Ge.Optional):QO(e,i,t&Ge.Optional)}finally{Qr(s)}}return zP(i,e,t)}function WP(n,e,t,i=Ge.Default,r){if(n!==null){if(e[Ce]&2048&&!(i&Ge.Self)){let o=K6(n,e,t,i,Zs);if(o!==Zs)return o}let s=qP(n,e,t,i,Zs);if(s!==Zs)return s}return GP(e,t,i,r)}function qP(n,e,t,i,r){let s=W6(t);if(typeof s=="function"){if(!OP(e,n,i))return i&Ge.Host?zP(r,t,i):GP(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Ge.Optional))ZE(t);else return o}finally{LP()}}else if(typeof s=="number"){let o=null,a=HP(n,e),l=ed,c=i&Ge.Host?e[Jr][ur]:null;for((a===-1||i&Ge.SkipSelf)&&(l=a===-1?hC(n,e):e[a+8],l===ed||!bO(i,!1)?a=-1:(o=e[He],a=Y_(l),e=J_(l,e)));a!==-1;){let d=e[He];if(wO(s,a,d.data)){let h=G6(a,e,t,o,i,c);if(h!==Zs)return h}l=e[a+8],l!==ed&&bO(i,e[He].data[a+8]===c)&&wO(s,a,e)?(o=d,a=Y_(l),e=J_(l,e)):a=-1}}return r}function G6(n,e,t,i,r,s){let o=e[He],a=o.data[n+8],l=i==null?C0(a)&&pE:i!=o&&(a.type&3)!==0,c=r&Ge.Host&&s===a,d=U_(a,o,t,l,c);return d!==null?uc(e,o,d,a):Zs}function U_(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,d=s>>20,h=i?a:a+d,f=r?a+d:c;for(let p=h;p<f;p++){let y=o[p];if(p<l&&t===y||p>=l&&y.type===t)return p}if(r){let p=o[l];if(p&&Ha(p)&&p.type===t)return l}return null}function uc(n,e,t,i){let r=n[t],s=e.data;if(V6(r)){let o=r;o.resolving&&y$(_$(s[t]));let a=vO(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Qr(o.injectImpl):null,d=OP(n,i,Ge.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&F6(t,s[t],e)}finally{c!==null&&Qr(c),vO(a),o.resolving=!1,LP()}}return r}function W6(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Nf)?n[Nf]:void 0;return typeof e=="number"?e>=0?e&UP:q6:e}function wO(n,e,t){let i=1<<n;return!!(t[e+(n>>$P)]&i)}function bO(n,e){return!(n&Ge.Self)&&!(n&Ge.Host&&e)}var rc=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return WP(this._tNode,this._lView,e,y0(i),t)}};function q6(){return new rc(Ui(),vt())}function gd(n){return Uf(()=>{let e=n.prototype.constructor,t=e[H_]||mE(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[H_]||mE(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function mE(n){return HO(n)?()=>{let e=mE(Li(n));return e&&e()}:td(n)}function K6(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[Ce]&2048&&!(o[Ce]&512);){let a=qP(s,o,t,i|Ge.Self,Zs);if(a!==Zs)return a;let l=s.parent;if(!l){let c=o[pP];if(c){let d=c.get(t,Zs,i);if(d!==Zs)return d}l=KP(o),o=o[pd]}s=l}return r}function KP(n){let e=n[He],t=e.type;return t===2?e.declTNode:t===1?n[ur]:null}function EO(n,e=null,t=null,i){let r=QP(n,e,t,i);return r.resolveInjectorInitializers(),r}function QP(n,e=null,t=null,i,r=new Set){let s=[t||cr,Y$(n)];return i=i||(typeof n=="object"?void 0:Vi(n)),new Ff(s,e||b0(),i||null,r)}var di=class n{static{this.THROW_IF_NOT_FOUND=Pf}static{this.NULL=new W_}static create(e,t){if(Array.isArray(e))return EO({name:""},t,e,"");{let i=e.name??"";return EO({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=te({token:n,providedIn:"any",factory:()=>z(ZO)})}static{this.__NG_ELEMENT_ID__=-1}};var Q6=new J("");Q6.__NG_ELEMENT_ID__=n=>{let e=Ui();if(e===null)throw new ue(204,!1);if(e.type&2)return e.value;if(n&Ge.Optional)return null;throw new ue(204,!1)};var Y6="ngOriginalError";function Kb(n){return n[Y6]}var YP=!0,R0=(()=>{class n{static{this.__NG_ELEMENT_ID__=J6}static{this.__NG_ENV_ID__=t=>t}}return n})(),_E=class extends R0{constructor(e){super(),this._lView=e}onDestroy(e){return IP(this._lView,e),()=>y6(this._lView,e)}};function J6(){return new _E(vt())}var Wo=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}}return n})();var yE=class extends yt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,fP()&&(this.destroyRef=H(R0,{optional:!0})??void 0,this.pendingTasks=H(Wo,{optional:!0})??void 0)}emit(e){let t=_t(null);try{super.next(e)}finally{_t(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof hn&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},en=yE;function X_(...n){}function JP(n){let e,t;function i(){n=X_;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function CO(n){return queueMicrotask(()=>n()),()=>{n=X_}}var fC="isAngularZone",e0=fC+"_ID",Z6=0,ke=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new en(!1),this.onMicrotaskEmpty=new en(!1),this.onStable=new en(!1),this.onError=new en(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=YP}=e;if(typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,tH(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ue(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,X6,X_,X_);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},X6={};function pC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eH(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){JP(()=>{n.callbackScheduled=!1,vE(n),n.isCheckStableRunning=!0,pC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),vE(n)}function tH(n){let e=()=>{eH(n)},t=Z6++;n._inner=n._inner.fork({name:"angular",properties:{[fC]:!0,[e0]:t,[e0+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(nH(l))return i.invokeTask(s,o,a,l);try{return DO(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),IO(n)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return DO(n),i.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!iH(l)&&e(),IO(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,vE(n),pC(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function vE(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function DO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function IO(n){n._nesting--,pC(n)}var t0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new en,this.onMicrotaskEmpty=new en,this.onStable=new en,this.onError=new en}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function nH(n){return ZP(n,"__ignore_ng_zone__")}function iH(n){return ZP(n,"__scheduler_tick__")}function ZP(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function rH(n="zone.js",e){return n==="noop"?new t0:n==="zone.js"?new ke(e):n}var Bo=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Kb(e);for(;t&&Kb(t);)t=Kb(t);return t||null}},sH=new J("",{providedIn:"root",factory:()=>{let n=H(ke),e=H(Bo);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function oH(){return md(Ui(),vt())}function md(n,e){return new Di(es(n,e))}var Di=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=oH}}return n})();function aH(n){return n instanceof Di?n.nativeElement:n}function lH(){return this._results[Symbol.iterator]()}var wE=class n{get changes(){return this._changes??=new en}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=lH)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=x$(e);(this._changesDetected=!A$(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function XP(n){return(n.flags&128)===128}var ek=new Map,cH=0;function uH(){return cH++}function dH(n){ek.set(n[E0],n)}function bE(n){ek.delete(n[E0])}var TO="__ngContext__";function za(n,e){Ua(e)?(n[TO]=e[E0],dH(e)):n[TO]=e}function tk(n){return ik(n[Vf])}function nk(n){return ik(n[Is])}function ik(n){for(;n!==null&&!Go(n);)n=n[Is];return n}var EE;function rk(n){EE=n}function hH(){if(EE!==void 0)return EE;if(typeof document<"u")return document;throw new ue(210,!1)}var N0=new J("",{providedIn:"root",factory:()=>fH}),fH="ng",gC=new J(""),Hn=new J("",{providedIn:"platform",factory:()=>"unknown"});var mC=new J("",{providedIn:"root",factory:()=>hH().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pH="h",gH="b";var mH=()=>null;function _C(n,e,t=!1){return mH(n,e,t)}var sk=!1,_H=new J("",{providedIn:"root",factory:()=>sk});var n0=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${UO})`}};function Hf(n){return n instanceof n0?n.changingThisBreaksApplicationSecurity:n}function ok(n,e){let t=yH(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${UO})`)}return t===e}function yH(n){return n instanceof n0&&n.getTypeName()||null}var vH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ak(n){return n=String(n),n.match(vH)?n:"unsafe:"+n}var yC=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(yC||{});function dr(n){let e=wH();return e?e.sanitize(yC.URL,n)||"":ok(n,"URL")?Hf(n):ak(_0(n))}function wH(){let n=vt();return n&&n[eo].sanitizer}var bH=/^>|^->|<!--|-->|--!>|<!-$/g,EH=/(<|>)/g,CH="\u200B$1\u200B";function DH(n){return n.replace(bH,e=>e.replace(EH,CH))}function lk(n){return n instanceof Function?n():n}function IH(n){return(n??H(di)).get(Hn)==="browser"}var jo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(jo||{}),TH;function vC(n,e){return TH(n,e)}function Ju(n,e,t,i,r){if(i!=null){let s,o=!1;Go(i)?s=i:Ua(i)&&(o=!0,i=i[zo]);let a=to(i);n===0&&t!==null?r==null?pk(e,t,a):i0(e,t,a,r||null,!0):n===1&&t!==null?i0(e,t,a,r||null,!0):n===2?jH(e,a,o):n===3&&e.destroyNode(a),s!=null&&$H(e,n,s,t,r)}}function SH(n,e){return n.createText(e)}function AH(n,e,t){n.setValue(e,t)}function xH(n,e){return n.createComment(DH(e))}function ck(n,e,t){return n.createElement(e,t)}function MH(n,e){uk(n,e),e[zo]=null,e[ur]=null}function RH(n,e,t,i,r,s){i[zo]=r,i[ur]=e,P0(n,i,t,1,r,s)}function uk(n,e){e[eo].changeDetectionScheduler?.notify(9),P0(n,e,e[pn],2,null,null)}function NH(n){let e=n[Vf];if(!e)return Qb(n[He],n);for(;e;){let t=null;if(Ua(e))t=e[Vf];else{let i=e[Ir];i&&(t=i)}if(!t){for(;e&&!e[Is]&&e!==n;)Ua(e)&&Qb(e[He],e),e=e[Ci];e===null&&(e=n),Ua(e)&&Qb(e[He],e),t=e&&e[Is]}e=t}}function OH(n,e,t,i){let r=Ir+i,s=t.length;i>0&&(t[r-1][Is]=e),i<s-Ir?(e[Is]=t[r],JO(t,Ir+i,e)):(t.push(e),e[Is]=null),e[Ci]=t;let o=e[sc];o!==null&&t!==o&&dk(o,e);let a=e[Vo];a!==null&&a.insertView(n),dE(e),e[Ce]|=128}function dk(n,e){let t=n[od],i=e[Ci];if(Ua(i))n[Ce]|=Q_.HasTransplantedViews;else{let r=i[Ci][Jr];e[Jr]!==r&&(n[Ce]|=Q_.HasTransplantedViews)}t===null?n[od]=[e]:t.push(e)}function wC(n,e){let t=n[od],i=t.indexOf(e);t.splice(i,1)}function CE(n,e){if(n.length<=Ir)return;let t=Ir+e,i=n[t];if(i){let r=i[sc];r!==null&&r!==n&&wC(r,i),e>0&&(n[t-1][Is]=i[Is]);let s=G_(n,Ir+e);MH(i[He],i);let o=s[Vo];o!==null&&o.detachView(s[He]),i[Ci]=null,i[Is]=null,i[Ce]&=-129}return i}function hk(n,e){if(!(e[Ce]&256)){let t=e[pn];t.destroyNode&&P0(n,e,t,3,null,null),NH(e)}}function Qb(n,e){if(e[Ce]&256)return;let t=_t(null);try{e[Ce]&=-129,e[Ce]|=256,e[Yr]&&vb(e[Yr]),kH(n,e),PH(n,e),e[He].type===1&&e[pn].destroy();let i=e[sc];if(i!==null&&Go(e[Ci])){i!==e[Ci]&&wC(i,e);let r=e[Vo];r!==null&&r.detachView(n)}bE(e)}finally{_t(t)}}function PH(n,e){let t=n.cleanup,i=e[q_];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[q_]=null);let r=e[ja];if(r!==null){e[ja]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function kH(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof cc)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Js(4,a,l);try{l.call(a)}finally{Js(5,a,l)}}else{Js(4,r,s);try{s.call(r)}finally{Js(5,r,s)}}}}}function fk(n,e,t){return FH(n,e.parent,t)}function FH(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[zo];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Xs.None||s===Xs.Emulated)return null}return es(i,t)}}function i0(n,e,t,i,r){n.insertBefore(e,t,i,r)}function pk(n,e,t){n.appendChild(e,t)}function SO(n,e,t,i,r){i!==null?i0(n,e,t,i,r):pk(n,e,t)}function gk(n,e){return n.parentNode(e)}function LH(n,e){return n.nextSibling(e)}function mk(n,e,t){return BH(n,e,t)}function VH(n,e,t){return n.type&40?es(n,t):null}var BH=VH,AO;function O0(n,e,t,i){let r=fk(n,i,e),s=e[pn],o=i.parent||e[ur],a=mk(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)SO(s,r,t[l],a,!1);else SO(s,r,t,a,!1);AO!==void 0&&AO(s,i,e,t,r)}function Rf(n,e){if(e!==null){let t=e.type;if(t&3)return es(e,n);if(t&4)return DE(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Rf(n,i);{let r=n[e.index];return Go(r)?DE(-1,r):to(r)}}else{if(t&128)return Rf(n,e.next);if(t&32)return vC(e,n)()||to(n[e.index]);{let i=_k(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=ac(n[Jr]);return Rf(r,i)}else return Rf(n,e.next)}}}return null}function _k(n,e){if(e!==null){let i=n[Jr][ur],r=e.projection;return i.projection[r]}return null}function DE(n,e){let t=Ir+n+1;if(t<e.length){let i=e[t],r=i[He].firstChild;if(r!==null)return Rf(i,r)}return e[oc]}function jH(n,e,t){n.removeChild(null,e,t)}function bC(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&za(to(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)bC(n,e,t.child,i,r,s,!1),Ju(e,n,r,a,s);else if(l&32){let c=vC(t,i),d;for(;d=c();)Ju(e,n,r,d,s);Ju(e,n,r,a,s)}else l&16?yk(n,e,i,t,r,s):Ju(e,n,r,a,s);t=o?t.projectionNext:t.next}}function P0(n,e,t,i,r,s){bC(t,i,n.firstChild,e,r,s,!1)}function UH(n,e,t){let i=e[pn],r=fk(n,t,e),s=t.parent||e[ur],o=mk(s,t,e);yk(i,0,e,t,r,o)}function yk(n,e,t,i,r,s){let o=t[Jr],l=o[ur].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Ju(e,n,r,d,s)}else{let c=l,d=o[Ci];XP(i)&&(c.flags|=128),bC(n,e,c,d,r,s,!0)}}function $H(n,e,t,i,r){let s=t[oc],o=to(t);s!==o&&Ju(e,n,i,s,r);for(let a=Ir;a<t.length;a++){let l=t[a];P0(l[He],l,n,e,i,s)}}function HH(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:jo.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=jo.Important),n.setStyle(t,i,r,s))}}function zH(n,e,t){n.setAttribute(e,"style",t)}function vk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function wk(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&sE(n,e,i),r!==null&&vk(n,e,r),s!==null&&zH(n,e,s)}var qo={};function ge(n=1){bk($n(),vt(),mc()+n,!1)}function bk(n,e,t,i){if(!i)if((e[Ce]&3)===3){let s=n.preOrderCheckHooks;s!==null&&B_(e,s,t)}else{let s=n.preOrderHooks;s!==null&&j_(e,s,0,t)}lc(t)}function lt(n,e=Ge.Default){let t=vt();if(t===null)return z(n,e);let i=Ui();return WP(i,t,Li(n),e)}function Ek(){let n="invalid";throw new Error(n)}function Ck(n,e,t,i,r,s){let o=_t(null);try{let a=null;r&$a.SignalBased&&(a=e[i][No]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&$a.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):mP(e,a,i,s)}finally{_t(o)}}function GH(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)lc(~r);else{let s=r,o=t[++i],a=t[++i];x6(o,s);let l=e[s];a(2,l)}}}finally{lc(-1)}}function k0(n,e,t,i,r,s,o,a,l,c,d){let h=e.blueprint.slice();return h[zo]=r,h[Ce]=i|4|128|8|64,(c!==null||n&&n[Ce]&2048)&&(h[Ce]|=2048),CP(h),h[Ci]=h[pd]=n,h[Ts]=t,h[eo]=o||n&&n[eo],h[pn]=a||n&&n[pn],h[sd]=l||n&&n[sd]||null,h[ur]=s,h[E0]=uH(),h[Lf]=d,h[pP]=c,h[Jr]=e.type==2?n[Jr]:h,h}function _d(n,e,t,i,r){let s=n.data[e];if(s===null)s=WH(n,e,t,i,r),A6()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=D6();s.injectorIndex=o===null?-1:o.injectorIndex}return gc(s,!0),s}function WH(n,e,t,i,r){let s=xP(),o=oC(),a=o?s:s&&s.parent,l=n.data[e]=ZH(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Dk(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ik(n,e,t,i,r){let s=mc(),o=i&2;try{lc(-1),o&&e.length>Zr&&bk(n,e,Zr,!1),Js(o?2:0,r),t(i,r)}finally{lc(s),Js(o?3:1,r)}}function EC(n,e,t){if(rC(e)){let i=_t(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{_t(i)}}}function CC(n,e,t){SP()&&(rz(n,e,t,es(t,e)),(t.flags&64)===64&&xk(n,e,t))}function DC(n,e,t=es){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function Tk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=IC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function IC(n,e,t,i,r,s,o,a,l,c,d){let h=Zr+i,f=h+r,p=qH(h,f),y=typeof c=="function"?c():c;return p[He]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}function qH(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:qo);return t}function KH(n,e,t,i){let s=i.get(_H,sk)||t===Xs.ShadowDom,o=n.selectRootElement(e,s);return QH(o),o}function QH(n){YH(n)}var YH=()=>null;function JH(n,e,t,i){let r=Nk(e);r.push(t),n.firstCreatePass&&Ok(n).push(i,r.length-1)}function ZH(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return AP()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xO(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=$a.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?MO(i,t,c,a,l):MO(i,t,c,a)}return i}function MO(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function XH(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let d=i;d<r;d++){let h=s[d],f=t?t.get(h):null,p=f?f.inputs:null,y=f?f.outputs:null;l=xO(0,h.inputs,d,l,p),c=xO(1,h.outputs,d,c,y);let _=l!==null&&o!==null&&!nC(e)?gz(l,d,o):null;a.push(_)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function ez(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Sk(n,e,t,i,r,s,o,a){let l=es(e,t),c=e.inputs,d;!a&&c!=null&&(d=c[i])?(SC(n,t,d,i,r),C0(e)&&tz(t,e.index)):e.type&3?(i=ez(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function tz(n,e){let t=Wa(e,n);t[Ce]&16||(t[Ce]|=64)}function TC(n,e,t,i){if(SP()){let r=i===null?null:{"":-1},s=oz(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Ak(n,e,t,o,r,a),r&&az(t,i,r)}t.mergedAttrs=kf(t.mergedAttrs,t.attrs)}function Ak(n,e,t,i,r,s){for(let c=0;c<i.length;c++)gE(Z_(t,e),n,i[c].type);cz(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let d=i[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=Dk(n,e,i.length,null);for(let c=0;c<i.length;c++){let d=i[c];t.mergedAttrs=kf(t.mergedAttrs,d.hostAttrs),uz(n,t,e,l,d),lz(l,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}XH(n,t,s)}function nz(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;iz(o)!=a&&o.push(a),o.push(t,i,s)}}function iz(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function rz(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;C0(t)&&dz(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Z_(t,e),za(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=uc(e,n,a,t);if(za(c,e),o!==null&&pz(e,a-r,c,l,t,o),Ha(l)){let d=Wa(t.index,e);d[Ts]=uc(e,n,a,t)}}}function xk(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=M6();try{lc(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];hE(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&sz(l,c)}}finally{lc(-1),hE(o)}}function sz(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function oz(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(nP(e,o.selectors,!1))if(i||(i=[]),Ha(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;IE(n,e,l)}else i.unshift(o),IE(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function IE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function az(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new ue(-301,!1);i.push(e[r],s)}}}function lz(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ha(e)&&(t[""]=n)}}function cz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function uz(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=td(r.type,!0)),o=new cc(s,Ha(r),lt);n.blueprint[i]=o,t[i]=o,nz(n,e,i,Dk(n,t,r.hostVars,qo),r)}function dz(n,e,t){let i=es(e,n),r=Tk(t),s=n[eo].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=F0(n,k0(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function hz(n,e,t,i,r,s){let o=es(n,e);fz(e[pn],o,s,n.value,t,i,r)}function fz(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?_0(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function pz(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++],h=o[a++];Ck(i,t,l,c,d,h)}}function gz(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function Mk(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Rk(n,e){let t=n.contentQueries;if(t!==null){let i=_t(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];lC(s),a.contentQueries(2,e[o],o)}}}finally{_t(i)}}}function F0(n,e){return n[Vf]?n[gO][Is]=e:n[Vf]=e,n[gO]=e,e}function TE(n,e,t){lC(0);let i=_t(null);try{e(n,t)}finally{_t(i)}}function Nk(n){return n[q_]??=[]}function Ok(n){return n.cleanup??=[]}function Pk(n,e){let t=n[sd],i=t?t.get(Bo,null):null;i&&i.handleError(e)}function SC(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],d=n.data[o];Ck(d,c,i,a,l,r)}}function mz(n,e,t){let i=bP(e,n);AH(n[pn],i,t)}function _z(n,e){let t=Wa(e,n),i=t[He];yz(i,t);let r=t[zo];r!==null&&t[Lf]===null&&(t[Lf]=_C(r,t[sd])),AC(i,t,t[Ts])}function yz(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function AC(n,e,t){cC(e);try{let i=n.viewQuery;i!==null&&TE(1,i,t);let r=n.template;r!==null&&Ik(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Vo]?.finishViewCreation(n),n.staticContentQueries&&Rk(n,e),n.staticViewQueries&&TE(2,n.viewQuery,t);let s=n.components;s!==null&&vz(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ce]&=-5,uC()}}function vz(n,e){for(let t=0;t<e.length;t++)_z(n,e[t])}function kk(n,e,t,i){let r=_t(null);try{let s=e.tView,a=n[Ce]&4096?4096:16,l=k0(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[sc]=c;let d=n[Vo];return d!==null&&(l[Vo]=d.createEmbeddedView(s)),AC(s,l,t),l}finally{_t(r)}}function SE(n,e){return!e||e.firstChild===null||XP(n)}function Fk(n,e,t,i=!0){let r=e[He];if(OH(r,e,n,t),i){let o=DE(t,n),a=e[pn],l=gk(a,n[oc]);l!==null&&RH(r,n[ur],a,e,l,o)}let s=e[Lf];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function r0(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(to(s)),Go(s)&&wz(s,i);let o=t.type;if(o&8)r0(n,e,t.child,i);else if(o&32){let a=vC(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=_k(e,t);if(Array.isArray(a))i.push(...a);else{let l=ac(e[Jr]);r0(l[He],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function wz(n,e){for(let t=Ir;t<n.length;t++){let i=n[t],r=i[He].firstChild;r!==null&&r0(i[He],i,r,e)}n[oc]!==n[zo]&&e.push(n[oc])}var Lk=[];function bz(n){return n[Yr]??Ez(n)}function Ez(n){let e=Lk.pop()??Object.create(Dz);return e.lView=n,e}function Cz(n){n.lView[Yr]!==n&&(n.lView=null,Lk.push(n))}var Dz=Pe(K({},If),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{T0(n.lView)},consumerOnSignalRead(){this.lView[Yr]=this}});function Iz(n){let e=n[Yr]??Object.create(Tz);return e.lView=n,e}var Tz=Pe(K({},If),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ac(n.lView);for(;e&&!Vk(e[He]);)e=ac(e);e&&DP(e)},consumerOnSignalRead(){this.lView[Yr]=this}});function Vk(n){return n.type!==2}var Sz=100;function Bk(n,e=!0,t=0){let i=n[eo],r=i.rendererFactory,s=!1;s||r.begin?.();try{Az(n,t)}catch(o){throw e&&Pk(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function Az(n,e){let t=MP();try{_O(!0),AE(n,e);let i=0;for(;I0(n);){if(i===Sz)throw new ue(103,!1);i++,AE(n,1)}}finally{_O(t)}}function xz(n,e,t,i){let r=e[Ce];if((r&256)===256)return;let s=!1,o=!1;!s&&e[eo].inlineEffectRunner?.flush(),cC(e);let a=!0,l=null,c=null;s||(Vk(n)?(c=bz(e),l=r_(c)):IN()===null?(a=!1,c=Iz(e),l=r_(c)):e[Yr]&&(vb(e[Yr]),e[Yr]=null));try{CP(e),S6(n.bindingStartIndex),t!==null&&Ik(n,e,t,2,i);let d=(r&3)===3;if(!s)if(d){let p=n.preOrderCheckHooks;p!==null&&B_(e,p,null)}else{let p=n.preOrderHooks;p!==null&&j_(e,p,0,null),Gb(e,0)}if(o||Mz(e),jk(e,0),n.contentQueries!==null&&Rk(n,e),!s)if(d){let p=n.contentCheckHooks;p!==null&&B_(e,p)}else{let p=n.contentHooks;p!==null&&j_(e,p,1),Gb(e,1)}GH(n,e);let h=n.components;h!==null&&$k(e,h,0);let f=n.viewQuery;if(f!==null&&TE(2,f,i),!s)if(d){let p=n.viewCheckHooks;p!==null&&B_(e,p)}else{let p=n.viewHooks;p!==null&&j_(e,p,2),Gb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[zb]){for(let p of e[zb])p();e[zb]=null}s||(e[Ce]&=-73)}catch(d){throw s||T0(e),d}finally{c!==null&&(_b(c,l),a&&Cz(c)),uC()}}function jk(n,e){for(let t=tk(n);t!==null;t=nk(t))for(let i=Ir;i<t.length;i++){let r=t[i];Uk(r,e)}}function Mz(n){for(let e=tk(n);e!==null;e=nk(e)){if(!(e[Ce]&Q_.HasTransplantedViews))continue;let t=e[od];for(let i=0;i<t.length;i++){let r=t[i];DP(r)}}}function Rz(n,e,t){let i=Wa(e,n);Uk(i,t)}function Uk(n,e){sC(n)&&AE(n,e)}function AE(n,e){let i=n[He],r=n[Ce],s=n[Yr],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&yb(s)),o||=!1,s&&(s.dirty=!1),n[Ce]&=-9217,o)xz(i,n,i.template,n[Ts]);else if(r&8192){jk(n,1);let a=i.components;a!==null&&$k(n,a,1)}}function $k(n,e,t){for(let i=0;i<e.length;i++)Rz(n,e[i],t)}function xC(n,e){let t=MP()?64:1088;for(n[eo].changeDetectionScheduler?.notify(e);n;){n[Ce]|=t;let i=ac(n);if(cE(n)&&!i)return n;n=i}return null}var dc=class{get rootNodes(){let e=this._lView,t=e[He];return r0(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ts]}set context(e){this._lView[Ts]=e}get destroyed(){return(this._lView[Ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ci];if(Go(e)){let t=e[K_],i=t?t.indexOf(this):-1;i>-1&&(CE(e,i),G_(t,i))}this._attachedToViewContainer=!1}hk(this._lView[He],this._lView)}onDestroy(e){IP(this._lView,e)}markForCheck(){xC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ce]&=-129}reattach(){dE(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,Bk(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=cE(this._lView),t=this._lView[sc];t!==null&&!e&&wC(t,this._lView),uk(this._lView[He],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=e;let t=cE(this._lView),i=this._lView[sc];i!==null&&!t&&dk(i,this._lView),dE(this._lView)}},Uo=(()=>{class n{static{this.__NG_ELEMENT_ID__=Pz}}return n})(),Nz=Uo,Oz=class extends Nz{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=kk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new dc(r)}};function Pz(){return L0(Ui(),vt())}function L0(n,e){return n.type&4?new Oz(e,n,md(n,e)):null}var Jde=new RegExp(`^(\\d+)*(${gH}|${pH})*(.*)`);var kz=()=>null;function xE(n,e){return kz(n,e)}var ld=class{},MC=new J("",{providedIn:"root",factory:()=>!1});var Hk=new J(""),zk=new J(""),ME=class{},s0=class{};function Fz(n){let e=Error(`No component factory found for ${Vi(n)}.`);return e[Lz]=n,e}var Lz="ngComponent";var RE=class{resolveComponentFactory(e){throw Fz(e)}},cd=class{static{this.NULL=new RE}},ud=class{},yc=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Vz()}}return n})();function Vz(){let n=vt(),e=Ui(),t=Wa(e.index,n);return(Ua(t)?t:n)[pn]}var Bz=(()=>{class n{static{this.\u0275prov=te({token:n,providedIn:"root",factory:()=>null})}}return n})();function o0(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=tE(r,a);else if(s==2){let l=a,c=e[++o];i=tE(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var a0=class extends cd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Lo(e);return new hc(t,this.ngModule)}};function RO(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:$a.None;e?t.push({propName:o,templateName:i,isSignal:(a&$a.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function jz(n){let e=n.toLowerCase();return e==="svg"?wP:e==="math"?f6:null}var hc=class extends s0{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=RO(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return RO(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=G$(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=_t(null);try{r=r||this.ngModule;let o=r instanceof Xn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new fE(e,o):e,l=a.get(ud,null);if(l===null)throw new ue(407,!1);let c=a.get(Bz,null),d=a.get(ld,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",y=i?KH(f,i,this.componentDef.encapsulation,a):ck(f,p,jz(p)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let w=null;y!==null&&(w=_C(y,a,!0));let A=IC(0,null,null,1,0,null,null,null,null,null,null),M=k0(null,A,null,_,null,null,h,f,a,null,w);cC(M);let x,R,P=null;try{let N=this.componentDef,C,b=null;N.findHostDirectiveDefs?(C=[],b=new Map,N.findHostDirectiveDefs(N,C,b),C.push(N)):C=[N];let v=Uz(M,y);P=$z(v,y,N,C,M,h,f),R=EP(A,Zr),y&&Gz(f,N,y,i),t!==void 0&&Wz(R,this.ngContentSelectors,t),x=zz(P,N,C,b,M,[qz]),AC(A,M,null)}catch(N){throw P!==null&&bE(P),bE(M),N}finally{uC()}return new NE(this.componentType,x,md(R,M),M,R)}finally{_t(s)}}},NE=class extends ME{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new dc(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;SC(s[He],s,r,e,t),this.previousInputValues.set(e,t);let o=Wa(this._tNode.index,s);xC(o,1)}}get injector(){return new rc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Uz(n,e){let t=n[He],i=Zr;return n[i]=e,_d(t,i,2,"#host",null)}function $z(n,e,t,i,r,s,o){let a=r[He];Hz(i,n,e,o);let l=null;e!==null&&(l=_C(e,r[sd]));let c=s.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let h=k0(r,Tk(t),null,d,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&IE(a,n,i.length-1),F0(r,h),r[n.index]=h}function Hz(n,e,t,i){for(let r of n)e.mergedAttrs=kf(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(o0(e,e.mergedAttrs,!0),t!==null&&wk(i,t,e))}function zz(n,e,t,i,r,s){let o=Ui(),a=r[He],l=es(o,r);Ak(a,r,o,t,null,i);for(let d=0;d<t.length;d++){let h=o.directiveStart+d,f=uc(r,a,h,o);za(f,r)}xk(a,r,o),l&&za(l,r);let c=uc(r,a,o.directiveStart+o.componentOffset,o);if(n[Ts]=r[Ts]=c,s!==null)for(let d of s)d(c,e);return EC(a,o,r),c}function Gz(n,e,t,i){if(i)sE(n,t,["ng-version","18.2.13"]);else{let{attrs:r,classes:s}=W$(e.selectors[0]);r&&sE(n,t,r),s&&s.length>0&&vk(n,t,s.join(" "))}}function Wz(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function qz(){let n=Ui();M0(vt()[He],n)}var Ko=(()=>{class n{static{this.__NG_ELEMENT_ID__=Kz}}return n})();function Kz(){let n=Ui();return Wk(n,vt())}var Qz=Ko,Gk=class extends Qz{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new rc(this._hostTNode,this._hostLView)}get parentInjector(){let e=hC(this._hostTNode,this._hostLView);if(jP(e)){let t=J_(e,this._hostLView),i=Y_(e),r=t[He].data[i+8];return new rc(r,t)}else return new rc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=NO(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=xE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,SE(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!c6(e),a;if(o)a=t;else{let y=t||{};a=y.index,i=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let l=o?e:new hc(Lo(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let _=(o?c:this.parentInjector).get(Xn,null);_&&(s=_)}let d=Lo(l.componentType??{}),h=xE(this._lContainer,d?.id??null),f=h?.firstChild??null,p=l.create(c,r,f,s);return this.insertImpl(p.hostView,a,SE(this._hostTNode,h)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(m6(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Ci],c=new Gk(l,l[ur],l[Ci]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Fk(o,r,s,i),e.attachToViewContainerRef(),JO(Yb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=NO(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=CE(this._lContainer,t);i&&(G_(Yb(this._lContainer),t),hk(i[He],i))}detach(e){let t=this._adjustIndex(e,-1),i=CE(this._lContainer,t);return i&&G_(Yb(this._lContainer),t)!=null?new dc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function NO(n){return n[K_]}function Yb(n){return n[K_]||(n[K_]=[])}function Wk(n,e){let t,i=e[n.index];return Go(i)?t=i:(t=Mk(i,e,null,n),e[n.index]=t,F0(e,t)),Jz(t,e,n,i),new Gk(t,n,e)}function Yz(n,e){let t=n[pn],i=t.createComment(""),r=es(e,n),s=gk(t,r);return i0(t,s,i,LH(t,r),!1),i}var Jz=e7,Zz=()=>!1;function Xz(n,e,t){return Zz(n,e,t)}function e7(n,e,t,i){if(n[oc])return;let r;t.type&8?r=to(i):r=Yz(e,t),n[oc]=r}var OE=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},PE=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)RC(e,t).matches!==null&&this.queries[t].setDirty()}},kE=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=l7(e):this.predicate=e}},FE=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},LE=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,t7(t,s)),this.matchTNodeWithReadOption(e,t,U_(t,e,s,!1,!1))}else i===Uo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,U_(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Di||r===Ko||r===Uo&&t.type&4)this.addMatch(t.index,-2);else{let s=U_(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function t7(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function n7(n,e){return n.type&11?md(n,e):n.type&4?L0(n,e):null}function i7(n,e,t,i){return t===-1?n7(e,n):t===-2?r7(n,e,i):uc(n,n[He],t,e)}function r7(n,e,t){if(t===Di)return md(e,n);if(t===Uo)return L0(e,n);if(t===Ko)return Wk(e,n)}function qk(n,e,t,i){let r=e[Vo].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(i7(e,d,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function VE(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=qk(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let h=Ir;h<d.length;h++){let f=d[h];f[sc]===f[Ci]&&VE(f[He],f,c,i)}if(d[od]!==null){let h=d[od];for(let f=0;f<h.length;f++){let p=h[f];VE(p[He],p,c,i)}}}}}return i}function s7(n,e){return n[Vo].queries[e].queryList}function o7(n,e,t){let i=new wE((t&4)===4);return JH(n,e,i,i.destroy),(e[Vo]??=new PE).queries.push(new OE(i))-1}function a7(n,e,t){let i=$n();return i.firstCreatePass&&(c7(i,new kE(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),o7(i,vt(),e)}function l7(n){return n.split(",").map(e=>e.trim())}function c7(n,e,t){n.queries===null&&(n.queries=new FE),n.queries.track(new LE(e,t))}function RC(n,e){return n.queries.getByIndex(e)}function u7(n,e){let t=n[He],i=RC(t,e);return i.crossesNgTemplate?VE(t,n,e,[]):qk(t,n,i,e)}var OO=new Set;function yd(n){OO.has(n)||(OO.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function d7(n){return typeof n=="function"&&n[No]!==void 0}function V0(n,e){yd("NgSignals");let t=FN(n),i=t[No];return e?.equal&&(i.equal=e.equal),t.set=r=>wb(i,r),t.update=r=>LN(i,r),t.asReadonly=h7.bind(t),t}function h7(){let n=this[No];if(n.readonlyFn===void 0){let e=()=>this();e[No]=n,n.readonlyFn=e}return n.readonlyFn}function Kk(n){return d7(n)&&typeof n.set=="function"}function f7(n){let e=[],t=new Map;function i(r){let s=t.get(r);if(!s){let o=n(r);t.set(r,s=o.then(_7))}return s}return l0.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((h,f)=>{a.push(""),o.push(i(h).then(p=>{a[c+f]=p,d.splice(d.indexOf(h),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>y7(s));e.push(l)}),g7(),Promise.all(e).then(()=>{})}var l0=new Map,p7=new Set;function g7(){let n=l0;return l0=new Map,n}function m7(){return l0.size===0}function _7(n){return typeof n=="string"?n:n.text()}function y7(n){p7.delete(n)}function v7(n){return Object.getPrototypeOf(n.prototype).constructor}function vc(n){let e=v7(n.type),t=!0,i=[n];for(;e;){let r;if(Ha(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ue(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=P_(n.inputs),o.inputTransforms=P_(n.inputTransforms),o.declaredInputs=P_(n.declaredInputs),o.outputs=P_(n.outputs);let a=r.hostBindings;a&&D7(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&E7(n,l),c&&C7(n,c),w7(n,r),c$(n.outputs,r.outputs),Ha(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===vc&&(t=!1)}}e=Object.getPrototypeOf(e)}b7(i)}function w7(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function b7(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=kf(r.hostAttrs,t=kf(t,r.hostAttrs))}}function P_(n){return n===nd?{}:n===cr?[]:n}function E7(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function C7(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function D7(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}var Ga=class{},Bf=class{};var c0=class extends Ga{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a0(this);let s=oP(e);this._bootstrapComponents=lk(s.bootstrap),this._r3Injector=QP(e,t,[{provide:Ga,useValue:this},{provide:cd,useValue:this.componentFactoryResolver},...i],Vi(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},u0=class extends Bf{constructor(e){super(),this.moduleType=e}create(e){return new c0(this.moduleType,e,[])}};function I7(n,e,t){return new c0(n,e,t,!1)}var BE=class extends Ga{constructor(e){super(),this.componentFactoryResolver=new a0(this),this.instance=null;let t=new Ff([...e.providers,{provide:Ga,useValue:this},{provide:cd,useValue:this.componentFactoryResolver}],e.parent||b0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function B0(n,e,t=null){return new BE({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function Qk(n){return S7(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function T7(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function S7(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function A7(n,e,t){return n[e]=t}function wc(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function x7(n){return(n.flags&32)===32}function M7(n,e,t,i,r,s,o,a,l){let c=e.consts,d=_d(e,n,4,o||null,a||null);TC(e,t,d,ad(c,l)),M0(e,d);let h=d.tView=IC(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function Yk(n,e,t,i,r,s,o,a,l,c){let d=t+Zr,h=e.firstCreatePass?M7(d,e,n,i,r,s,o,a,l):e.data[d];gc(h,!1);let f=R7(e,n,h,t);A0()&&O0(e,n,f,h),za(f,n);let p=Mk(f,n,f,h);return n[d]=p,F0(n,p),Xz(p,h,n),D0(h)&&CC(e,n,h),l!=null&&DC(n,h,c),h}function ei(n,e,t,i,r,s,o,a){let l=vt(),c=$n(),d=ad(c.consts,s);return Yk(l,c,n,e,t,i,r,d,o,a),ei}var R7=N7;function N7(n,e,t,i){return x0(!0),e[pn].createComment("")}var Zu=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Zu||{}),Jk=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}}return n})(),jE=class n{constructor(){this.ngZone=H(ke),this.scheduler=H(ld),this.errorHandler=H(Bo,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Zu.EarlyRead,Zu.Write,Zu.MixedReadWrite,Zu.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}},UE=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function NC(n,e){!e?.injector&&a6(NC);let t=e?.injector??H(di);return IH(t)?(yd("NgAfterNextRender"),P7(n,t,e,!0)):k7}function O7(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function P7(n,e,t,i){let r=e.get(Jk);r.impl??=e.get(jE);let s=t?.phase??Zu.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(R0):null,a=new UE(r.impl,O7(n,s),i,o);return r.impl.register(a),a}var k7={destroy(){}};function zf(n,e,t,i){let r=vt(),s=S0();if(wc(r,s,e)){let o=$n(),a=dC();hz(a,r,n,e,t,i)}return zf}function F7(n,e,t,i){return wc(n,S0(),t)?e+_0(t)+i:qo}function k_(n,e){return n<<17|e<<2}function fc(n){return n>>17&32767}function L7(n){return(n&2)==2}function V7(n,e){return n&131071|e<<17}function $E(n){return n|2}function dd(n){return(n&131068)>>2}function Jb(n,e){return n&-131069|e<<2}function B7(n){return(n&1)===1}function HE(n){return n|1}function j7(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=fc(o),l=dd(o);n[i]=t;let c=!1,d;if(Array.isArray(t)){let h=t;d=h[1],(d===null||$f(h,d)>0)&&(c=!0)}else d=t;if(r)if(l!==0){let f=fc(n[a+1]);n[i+1]=k_(f,a),f!==0&&(n[f+1]=Jb(n[f+1],i)),n[a+1]=V7(n[a+1],i)}else n[i+1]=k_(a,0),a!==0&&(n[a+1]=Jb(n[a+1],i)),a=i;else n[i+1]=k_(l,0),a===0?a=i:n[l+1]=Jb(n[l+1],i),l=i;c&&(n[i+1]=$E(n[i+1])),PO(n,d,i,!0),PO(n,d,i,!1),U7(e,d,n,i,s),o=k_(a,l),s?e.classBindings=o:e.styleBindings=o}function U7(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&$f(s,e)>=0&&(t[i+1]=HE(t[i+1]))}function PO(n,e,t,i){let r=n[t+1],s=e===null,o=i?fc(r):dd(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];$7(l,e)&&(a=!0,n[o+1]=i?HE(c):$E(c)),o=i?fc(c):dd(c)}a&&(n[t+1]=i?$E(r):HE(r))}function $7(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?$f(n,e)>=0:!1}var Ds={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function H7(n){return n.substring(Ds.key,Ds.keyEnd)}function z7(n){return G7(n),Zk(n,Xk(n,0,Ds.textEnd))}function Zk(n,e){let t=Ds.textEnd;return t===e?-1:(e=Ds.keyEnd=W7(n,Ds.key=e,t),Xk(n,e,t))}function G7(n){Ds.key=0,Ds.keyEnd=0,Ds.value=0,Ds.valueEnd=0,Ds.textEnd=n.length}function Xk(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function W7(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Fe(n,e,t){let i=vt(),r=S0();if(wc(i,r,e)){let s=$n(),o=dC();Sk(s,o,i,n,e,i[pn],t,!1)}return Fe}function zE(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";SC(n,t,s[o],o,i)}function vd(n,e){return K7(n,e,null,!0),vd}function Qo(n){Q7(tG,q7,n,!0)}function q7(n,e){for(let t=z7(e);t>=0;t=Zk(e,t))tC(n,H7(e),!0)}function K7(n,e,t,i){let r=vt(),s=$n(),o=RP(2);if(s.firstUpdatePass&&t2(s,n,o,i),e!==qo&&wc(r,o,e)){let a=s.data[mc()];n2(s,a,r,r[pn],n,r[o+1]=iG(e,t),i,o)}}function Q7(n,e,t,i){let r=$n(),s=RP(2);r.firstUpdatePass&&t2(r,null,s,i);let o=vt();if(t!==qo&&wc(o,s,t)){let a=r.data[mc()];if(i2(a,i)&&!e2(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=tE(l,t||"")),zE(r,a,o,t,i)}else nG(r,a,o,o[pn],o[s+1],o[s+1]=eG(n,e,t),i,s)}}function e2(n,e){return e>=n.expandoStartIndex}function t2(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[mc()],o=e2(n,t);i2(s,i)&&e===null&&!o&&(e=!1),e=Y7(r,s,e,i),j7(r,s,e,t,o,i)}}function Y7(n,e,t,i){let r=R6(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Zb(null,n,e,t,i),t=jf(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=Zb(r,n,e,t,i),s===null){let l=J7(n,e,i);l!==void 0&&Array.isArray(l)&&(l=Zb(null,n,e,l[1],i),l=jf(l,e.attrs,i),Z7(n,e,i,l))}else s=X7(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function J7(n,e,t){let i=t?e.classBindings:e.styleBindings;if(dd(i)!==0)return n[fc(i)]}function Z7(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[fc(r)]=i}function X7(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=jf(i,o,t)}return jf(i,e.attrs,t)}function Zb(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=jf(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function jf(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),tC(n,o,t?!0:e[++s]))}return n===void 0?null:n}function eG(n,e,t){if(t==null||t==="")return cr;let i=[],r=Hf(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function tG(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&tC(n,i,t)}function nG(n,e,t,i,r,s,o,a){r===qo&&(r=cr);let l=0,c=0,d=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let f=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0,y=null,_;d===h?(l+=2,c+=2,f!==p&&(y=h,_=p)):h===null||d!==null&&d<h?(l+=2,y=d):(c+=2,y=h,_=p),y!==null&&n2(n,e,t,i,y,_,o,a),d=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}function n2(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=B7(c)?kO(l,e,t,r,dd(c),o):void 0;if(!d0(d)){d0(s)||L7(c)&&(s=kO(l,null,t,r,a,o));let h=bP(mc(),t);HH(i,o,h,r,s)}}function kO(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),d=c?l[1]:l,h=d===null,f=t[r+1];f===qo&&(f=h?cr:void 0);let p=h?$b(f,i):d===i?f:void 0;if(c&&!d0(p)&&(p=$b(l,i)),d0(p)&&(a=p,o))return a;let y=n[r+1];r=o?fc(y):dd(y)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=$b(l,i))}return a}function d0(n){return n!==void 0}function iG(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Vi(Hf(n)))),n}function i2(n,e){return(n.flags&(e?8:16))!==0}function rG(n,e,t,i,r,s){let o=e.consts,a=ad(o,r),l=_d(e,n,2,i,a);return TC(e,t,l,ad(o,s)),l.attrs!==null&&o0(l,l.attrs,!1),l.mergedAttrs!==null&&o0(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function L(n,e,t,i){let r=vt(),s=$n(),o=Zr+n,a=r[pn],l=s.firstCreatePass?rG(o,s,r,e,t,i):s.data[o],c=sG(s,r,l,a,e,n);r[o]=c;let d=D0(l);return gc(l,!0),wk(a,c,l),!x7(l)&&A0()&&O0(s,r,c,l),v6()===0&&za(c,r),w6(),d&&(CC(s,r,l),EC(s,l,r)),i!==null&&DC(r,l),L}function F(){let n=Ui();oC()?aC():(n=n.parent,gc(n,!1));let e=n;E6(e)&&C6(),b6();let t=$n();return t.firstCreatePass&&(M0(t,n),rC(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&B6(e)&&zE(t,e,vt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&j6(e)&&zE(t,e,vt(),e.stylesWithoutHost,!1),F}function de(n,e,t,i){return L(n,e,t,i),F(),de}var sG=(n,e,t,i,r,s)=>(x0(!0),ck(i,r,k6()));function oG(n,e,t,i,r){let s=e.consts,o=ad(s,i),a=_d(e,n,8,"ng-container",o);o!==null&&o0(a,o,!0);let l=ad(s,r);return TC(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Gf(n,e,t){let i=vt(),r=$n(),s=n+Zr,o=r.firstCreatePass?oG(s,r,i,e,t):r.data[s];gc(o,!0);let a=aG(r,i,o,n);return i[s]=a,A0()&&O0(r,i,a,o),za(a,i),D0(o)&&(CC(r,i,o),EC(r,o,i)),t!=null&&DC(i,o),Gf}function Wf(){let n=Ui(),e=$n();return oC()?aC():(n=n.parent,gc(n,!1)),e.firstCreatePass&&(M0(e,n),rC(n)&&e.queries.elementEnd(n)),Wf}var aG=(n,e,t,i)=>(x0(!0),xH(e[pn],""));function hr(){return vt()}var h0="en-US";var lG=h0;function cG(n){typeof n=="string"&&(lG=n.toLowerCase().replace(/_/g,"-"))}var uG=(n,e,t)=>{};function fi(n,e,t,i){let r=vt(),s=$n(),o=Ui();return r2(s,r,r[pn],o,n,e,i),fi}function dG(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[q_],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function r2(n,e,t,i,r,s,o){let a=D0(i),c=n.firstCreatePass&&Ok(n),d=e[Ts],h=Nk(e),f=!0;if(i.type&3||o){let _=es(i,e),w=o?o(_):_,A=h.length,M=o?R=>o(to(R[i.index])):i.index,x=null;if(!o&&a&&(x=dG(n,e,r,i.index)),x!==null){let R=x.__ngLastListenerFn__||x;R.__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,f=!1}else{s=LO(i,e,d,s),uG(_,r,s);let R=t.listen(w,r,s);h.push(s,R),c&&c.push(r,M,A,A+1)}}else s=LO(i,e,d,s);let p=i.outputs,y;if(f&&p!==null&&(y=p[r])){let _=y.length;if(_)for(let w=0;w<_;w+=2){let A=y[w],M=y[w+1],P=e[A][M].subscribe(s),N=h.length;h.push(s,P),c&&c.push(r,i.index,N,-(N+1))}}}function FO(n,e,t,i){let r=_t(null);try{return Js(6,e,t),t(i)!==!1}catch(s){return Pk(n,s),!1}finally{Js(7,e,t),_t(r)}}function LO(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Wa(n.index,e):e;xC(o,5);let a=FO(e,t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=FO(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function rt(n=1){return O6(n)}function hG(n,e){let t=null,i=j$(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?nP(n,s,!0):H$(i,s))return r}return t}function s2(n){let e=vt()[Jr][ur];if(!e.projection){let t=n?n.length:1,i=e.projection=M$(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?hG(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function o2(n,e=0,t,i,r,s){let o=vt(),a=$n(),l=i?n+1:null;l!==null&&Yk(o,a,l,i,r,s,null,t);let c=_d(a,Zr+n,16,null,t||null);c.projection===null&&(c.projection=e),aC();let h=!o[Lf]||AP();o[Jr][ur].projection[c.projection]===null&&l!==null?fG(o,a,l):h&&(c.flags&32)!==32&&UH(a,o,c)}function fG(n,e,t){let i=Zr+t,r=e.data[i],s=n[i],o=xE(s,r.tView.ssrId),a=kk(n,r,void 0,{dehydratedView:o});Fk(s,a,0,SE(r,o))}function a2(n,e,t){a7(n,e,t)}function OC(n){let e=vt(),t=$n(),i=NP();lC(i+1);let r=RC(t,i);if(n.dirty&&g6(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=u7(e,i);n.reset(s,aH),n.notifyOnChanges()}return!0}return!1}function PC(){return s7(vt(),NP())}function j0(n){let e=I6();return p6(e,Zr+n)}function W(n,e=""){let t=vt(),i=$n(),r=n+Zr,s=i.firstCreatePass?_d(i,r,1,e,null):i.data[r],o=pG(i,t,s,e,n);t[r]=o,A0()&&O0(i,t,o,s),gc(s,!1)}var pG=(n,e,t,i,r)=>(x0(!0),SH(e[pn],i));function fr(n){return Ka("",n,""),fr}function Ka(n,e,t){let i=vt(),r=F7(i,n,e,t);return r!==qo&&mz(i,mc(),r),Ka}function wd(n,e,t){Kk(e)&&(e=e());let i=vt(),r=S0();if(wc(i,r,e)){let s=$n(),o=dC();Sk(s,o,i,n,e,i[pn],t,!1)}return wd}function qf(n,e){let t=Kk(n);return t&&n.set(e),t}function bd(n,e){let t=vt(),i=$n(),r=Ui();return r2(i,t,t[pn],r,n,e),bd}function gG(n,e,t){let i=$n();if(i.firstCreatePass){let r=Ha(n);GE(t,i.data,i.blueprint,r,!0),GE(e,i.data,i.blueprint,r,!1)}}function GE(n,e,t,i,r){if(n=Li(n),Array.isArray(n))for(let s=0;s<n.length;s++)GE(n[s],e,t,i,r);else{let s=$n(),o=vt(),a=Ui(),l=rd(n)?n:Li(n.provide),c=hP(n),d=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(rd(n)||!n.multi){let p=new cc(c,r,lt),y=eE(l,e,r?d:d+f,h);y===-1?(gE(Z_(a,o),s,l),Xb(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[y]=p,o[y]=p)}else{let p=eE(l,e,d+f,h),y=eE(l,e,d,d+f),_=p>=0&&t[p],w=y>=0&&t[y];if(r&&!w||!r&&!_){gE(Z_(a,o),s,l);let A=yG(r?_G:mG,t.length,r,i,c);!r&&w&&(t[y].providerFactory=A),Xb(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(A),o.push(A)}else{let A=l2(t[r?y:p],c,!r&&i);Xb(s,n,p>-1?p:y,A)}!r&&i&&w&&t[y].componentProviders++}}}function Xb(n,e,t,i){let r=rd(e),s=e6(e);if(r||s){let l=(s?Li(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[i,l]):c[d+1].push(i,l)}else c.push(t,l)}}}function l2(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function eE(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function mG(n,e,t,i){return WE(this.multi,[])}function _G(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=uc(t,t[He],this.providerFactory.index,i);s=a.slice(0,o),WE(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],WE(r,s);return s}function WE(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function yG(n,e,t,i,r){let s=new cc(n,t,lt);return s.multi=[],s.index=e,s.componentProviders=0,l2(s,r,i&&!t),s}function U0(n,e=[]){return t=>{t.providersResolver=(i,r)=>gG(i,r?r(n):n,e)}}var vG=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=cP(!1,t.type),r=i.length>0?B0([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=te({token:n,providedIn:"environment",factory:()=>new n(z(Xn))})}}return n})();function Kf(n){yd("NgStandalone"),n.getStandaloneInjector=e=>e.get(vG).getOrCreateStandaloneInjector(n)}function $0(n,e,t,i){return bG(vt(),T6(),n,e,t,i)}function wG(n,e){let t=n[e];return t===qo?void 0:t}function bG(n,e,t,i,r,s){let o=e+t;return wc(n,o,r)?A7(n,o+1,s?i.call(s,r):i(r)):wG(n,o+1)}function H0(n,e){return L0(n,e)}var F_=null;function EG(n){F_!==null&&(n.defaultEncapsulation!==F_.defaultEncapsulation||n.preserveWhitespaces!==F_.preserveWhitespaces)||(F_=n)}var $o=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},c2=new $o("18.2.13");var z0=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var kC=new J(""),Qf=new J(""),G0=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,FC||(CG(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(z(ke),z(W0),z(Qf))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),W0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return FC?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function CG(n){FC=n}var FC;function bc(n){return!!n&&typeof n.then=="function"}function u2(n){return!!n&&typeof n.subscribe=="function"}var q0=new J(""),d2=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=H(q0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let s=r();if(bc(s))t.push(s);else if(u2(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),K0=new J("");function DG(){kN(()=>{throw new ue(600,!1)})}function IG(n){return n.isBoundToModule}var TG=10;function SG(n,e,t){try{let i=t();return bc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}function h2(n,e){return Array.isArray(e)?e.reduce(h2,n):K(K({},n),e)}var Ss=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(sH),this.afterRenderManager=H(Jk),this.zonelessEnabled=H(MC),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new yt,this.afterTick=new yt,this.componentTypes=[],this.components=[],this.isStable=H(Wo).hasPendingTasks.pipe(ne(t=>!t)),this._injector=H(Xn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof s0;if(!this._injector.get(d2).done){let f=!r&&sP(t),p=!1;throw new ue(405,p)}let o;r?o=t:o=this._injector.get(cd).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=IG(o)?void 0:this._injector.get(Ga),l=i||o.selector,c=o.create(di.NULL,[],l,a),d=c.location.nativeElement,h=c.injector.get(kC,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),$_(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ue(101,!1);let t=_t(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,_t(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ud,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<TG;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)AG(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>I0(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;$_(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(K0,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ue(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $_(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function AG(n,e,t,i){if(!t&&!I0(n))return;Bk(n,e,t&&!i?0:1)}var qE=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Q0=(()=>{class n{compileModuleSync(t){return new u0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=oP(t),s=lk(r.declarations).reduce((o,a)=>{let l=Lo(a);return l&&o.push(new hc(l)),o},[]);return new qE(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xG=new J("");function MG(n,e,t){let i=new u0(t);return Promise.resolve(i)}function VO(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var RG=(()=>{class n{constructor(){this.zone=H(ke),this.changeDetectionScheduler=H(ld),this.applicationRef=H(Ss)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function NG({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ke(Pe(K({},f2()),{scheduleInRootZone:t})),[{provide:ke,useFactory:n},{provide:id,multi:!0,useFactory:()=>{let i=H(RG,{optional:!0});return()=>i.initialize()}},{provide:id,multi:!0,useFactory:()=>{let i=H(OG);return()=>{i.initialize()}}},e===!0?{provide:Hk,useValue:!0}:[],{provide:zk,useValue:t??YP}]}function f2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var OG=(()=>{class n{constructor(){this.subscription=new hn,this.initialized=!1,this.zone=H(ke),this.pendingTasks=H(Wo)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var PG=(()=>{class n{constructor(){this.appRef=H(Ss),this.taskService=H(Wo),this.ngZone=H(ke),this.zonelessEnabled=H(MC),this.disableScheduling=H(Hk,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new hn,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(e0):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(H(zk,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof t0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?CO:JP;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(e0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,CO(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kG(){return typeof $localize<"u"&&$localize.locale||h0}var Y0=new J("",{providedIn:"root",factory:()=>H(Y0,Ge.Optional|Ge.SkipSelf)||kG()});var f0=new J("");function L_(n){return!n.moduleRef}function FG(n){let e=L_(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ke);return t.run(()=>{L_(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Bo,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),L_(n)){let s=()=>e.destroy(),o=n.platformInjector.get(f0);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(f0);o.add(s),n.moduleRef.onDestroy(()=>{$_(n.allPlatformModules,n.moduleRef),r.unsubscribe(),o.delete(s)})}return SG(i,t,()=>{let s=e.get(d2);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Y0,h0);if(cG(o||h0),L_(n)){let a=e.get(Ss);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return LG(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function LG(n,e){let t=n.injector.get(Ss);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ue(-403,!1);e.push(n)}var p2=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let r=i?.scheduleInRootZone,s=()=>rH(i?.ngZone,Pe(K({},f2({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),o=i?.ignoreChangesOutsideZone,a=[NG({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:ld,useExisting:PG}],l=I7(t.moduleType,this.injector,a);return FG({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,i=[]){let r=h2({},i);return MG(this.injector,r,t).then(s=>this.bootstrapModuleFactory(s,r))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(f0,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(z(di))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Of=null,g2=new J("");function VG(n){if(Of&&!Of.get(g2,!1))throw new ue(400,!1);DG(),Of=n;let e=n.get(p2);return UG(n),e}function LC(n,e,t=[]){let i=`Platform: ${e}`,r=new J(i);return(s=[])=>{let o=m2();if(!o||o.injector.get(g2,!1)){let a=[...t,...s,{provide:r,useValue:!0}];n?n(a):VG(BG(a,i))}return jG(r)}}function BG(n=[],e){return di.create({name:e,providers:[{provide:w0,useValue:"platform"},{provide:f0,useValue:new Set([()=>Of=null])},...n]})}function jG(n){let e=m2();if(!e)throw new ue(401,!1);return e}function m2(){return Of?.get(p2)??null}function UG(n){n.get(gC,null)?.forEach(t=>t())}function VC(){return!1}var Yo=(()=>{class n{static{this.__NG_ELEMENT_ID__=$G}}return n})();function $G(n){return HG(Ui(),vt(),(n&16)===16)}function HG(n,e,t){if(C0(n)&&!t){let i=Wa(n.index,e);return new dc(i,i)}else if(n.type&175){let i=e[Jr];return new dc(i,e)}return null}var KE=class{constructor(){}supports(e){return Qk(e)}create(e){return new QE(e)}},zG=(n,e)=>e,QE=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zG}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<BO(i,r,s)?t:i,a=BO(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,d=l-r;if(c!=d){for(let f=0;f<c;f++){let p=f<s.length?s[f]:s[f]=0,y=p+f;d<=y&&y<c&&(s[f]=p+1)}let h=o.previousIndex;s[h]=d-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Qk(e))throw new ue(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,T7(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new YE(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new p0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new p0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},YE=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},JE=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},p0=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new JE,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function BO(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function jO(){return new BC([new KE])}var BC=(()=>{class n{static{this.\u0275prov=te({token:n,providedIn:"root",factory:jO})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||jO()),deps:[[n,new XE,new fd]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new ue(901,!1)}}return n})();var _2=LC(null,"core",[]),y2=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(z(Ss))}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();function J0(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Z0(n,e){yd("NgSignals");let t=NN(n);return e?.equal&&(t[No].equal=e.equal),t}function Qa(n){let e=_t(null);try{return n()}finally{_t(e)}}function X0(n,e){let t=Lo(n),i=e.elementInjector||b0();return new hc(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function v2(n){let e=Lo(n);if(!e)return null;let t=new hc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var T2=null;function no(){return T2}function S2(n){T2??=n}var ey=class{};var Nn=new J(""),GC=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:()=>H(KG),providedIn:"platform"})}}return n})(),A2=new J(""),KG=(()=>{class n extends GC{constructor(){super(),this._doc=H(Nn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return no().getBaseHref(this._doc)}onPopState(t){let i=no().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=no().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function WC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function w2(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Jo(n){return n&&n[0]!=="?"?"?"+n:n}var Ec=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:()=>H(qC),providedIn:"root"})}}return n})(),x2=new J(""),qC=(()=>{class n extends Ec{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??H(Nn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return WC(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Jo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Jo(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Jo(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(z(GC),z(x2,8))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),M2=(()=>{class n extends Ec{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=WC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Jo(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Jo(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(z(GC),z(x2,8))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),Cd=(()=>{class n{constructor(t){this._subject=new en,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=JG(w2(b2(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Jo(i))}normalize(t){return n.stripTrailingSlash(YG(this._basePath,b2(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Jo}static{this.joinWithSlash=WC}static{this.stripTrailingSlash=w2}static{this.\u0275fac=function(i){return new(i||n)(z(Ec))}}static{this.\u0275prov=te({token:n,factory:()=>QG(),providedIn:"root"})}}return n})();function QG(){return new Cd(z(Ec))}function YG(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function b2(n){return n.replace(/\/index.html$/,"")}function JG(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function ty(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var jC=/\s+/,E2=[],R2=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=E2,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(jC):E2}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(jC):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(jC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(lt(Di),lt(yc))}}static{this.\u0275dir=Tr({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var UC=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ny=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new UC(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),C2(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);C2(s,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(lt(Ko),lt(Uo),lt(BC))}}static{this.\u0275dir=Tr({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function C2(n,e){n.context.$implicit=e.item}var iy=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new $C,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D2("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D2("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(lt(Ko),lt(Uo))}}static{this.\u0275dir=Tr({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),$C=class{constructor(){this.$implicit=null,this.ngIf=null}};function D2(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Vi(e)}'.`)}var N2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})(),KC="browser",ZG="server";function O2(n){return n===KC}function Ya(n){return n===ZG}var P2=(()=>{class n{static{this.\u0275prov=te({token:n,providedIn:"root",factory:()=>O2(H(Hn))?new HC(H(Nn),window):new zC})}}return n})(),HC=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=XG(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function XG(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var zC=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ed=class{};var Jf=class{},oy=class{},Zo=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var YC=class{encodeKey(e){return k2(e)}encodeValue(e){return k2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function eW(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var tW=/%(\d[a-f0-9])/gi,nW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function k2(n){return encodeURIComponent(n).replace(tW,(e,t)=>nW[t]??e)}function sy(n){return`${n}`}var Za=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new YC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=eW(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(sy):[sy(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(sy(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(sy(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var JC=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function iW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function F2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function L2(n){return typeof Blob<"u"&&n instanceof Blob}function V2(n){return typeof FormData<"u"&&n instanceof FormData}function rW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Yf=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(iW(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Zo,this.context??=new JC,!this.params)this.params=new Za,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||F2(this.body)||L2(this.body)||V2(this.body)||rW(this.body)?this.body:this.body instanceof Za?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||V2(this.body)?null:L2(this.body)?this.body.type||null:F2(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Za?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),d)),new n(t,i,o,{params:d,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Xa=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Xa||{}),Zf=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Zo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ay=class n extends Zf{constructor(e={}){super(e),this.type=Xa.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xf=class n extends Zf{constructor(e={}){super(e),this.type=Xa.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ja=class extends Zf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},H2=200,sW=204;function QC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var oW=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Yf)s=t;else{let l;r.headers instanceof Zo?l=r.headers:l=new Zo(r.headers);let c;r.params&&(r.params instanceof Za?c=r.params:c=new Za({fromObject:r.params})),s=new Yf(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=se(s).pipe(ko(l=>this.handler.handle(l)));if(t instanceof Yf||r.observe==="events")return o;let a=o.pipe(Kt(l=>l instanceof Xf));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ne(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ne(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ne(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(ne(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Za().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,QC(r,i))}post(t,i,r={}){return this.request("POST",t,QC(r,i))}put(t,i,r={}){return this.request("PUT",t,QC(r,i))}static{this.\u0275fac=function(i){return new(i||n)(z(Jf))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),aW=/^\)\]\}',?\n/,lW="X-Request-URL";function B2(n){if(n.url)return n.url;let e=lW.toLocaleLowerCase();return n.headers.get(e)}var cW=(()=>{class n{constructor(){this.fetchImpl=H(ZC,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=H(ke)}handle(t){return new me(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(XC,s=>i.error(new Ja({error:s}))),()=>r.abort()})}doRequest(t,i,r){return B(this,null,function*(){let s=this.createRequestInit(t),o;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,K({signal:i},s)));uW(p),r.next({type:Xa.Sent}),o=yield p}catch(p){r.error(new Ja({error:p,status:p.status??0,statusText:p.statusText,url:t.urlWithParams,headers:p.headers}));return}let a=new Zo(o.headers),l=o.statusText,c=B2(o)??t.urlWithParams,d=o.status,h=null;if(t.reportProgress&&r.next(new ay({headers:a,status:d,statusText:l,url:c})),o.body){let p=o.headers.get("content-length"),y=[],_=o.body.getReader(),w=0,A,M,x=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>B(this,null,function*(){for(;;){let{done:P,value:N}=yield _.read();if(P)break;if(y.push(N),w+=N.length,t.reportProgress){M=t.responseType==="text"?(M??"")+(A??=new TextDecoder).decode(N,{stream:!0}):void 0;let C=()=>r.next({type:Xa.DownloadProgress,total:p?+p:void 0,loaded:w,partialText:M});x?x.run(C):C()}}}));let R=this.concatChunks(y,w);try{let P=o.headers.get("Content-Type")??"";h=this.parseBody(t,R,P)}catch(P){r.error(new Ja({error:P,headers:new Zo(o.headers),status:o.status,statusText:o.statusText,url:B2(o)??t.urlWithParams}));return}}d===0&&(d=h?H2:0),d>=200&&d<300?(r.next(new Xf({body:h,headers:a,status:d,statusText:l,url:c})),r.complete()):r.error(new Ja({error:h,headers:a,status:d,statusText:l,url:c}))})}parseBody(t,i,r){switch(t.responseType){case"json":let s=new TextDecoder().decode(i).replace(aW,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>i[s]=o.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),s=0;for(let o of t)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),ZC=class{};function XC(){}function uW(n){n.then(XC,XC)}function z2(n,e){return e(n)}function dW(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function hW(n,e,t){return(i,r)=>Xr(t,()=>e(i,s=>n(s,r)))}var fW=new J(""),eD=new J(""),pW=new J(""),G2=new J("",{providedIn:"root",factory:()=>!0});function gW(){let n=null;return(e,t)=>{n===null&&(n=(H(fW,{optional:!0})??[]).reduceRight(dW,z2));let i=H(Wo);if(H(G2)){let s=i.add();return n(e,t).pipe(Fo(()=>i.remove(s)))}else return n(e,t)}}var j2=(()=>{class n extends Jf{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=H(Wo),this.contributeToStability=H(G2)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(eD),...this.injector.get(pW,[])]));this.chain=i.reduceRight((r,s)=>hW(r,s,this.injector),z2)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Fo(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(z(oy),z(Xn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})();var mW=/^\)\]\}',?\n/;function _W(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var U2=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ue(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?at(i.\u0275loadImpl()):se(null)).pipe(Mt(()=>new me(s=>{let o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((_,w)=>o.setRequestHeader(_,w.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let _=t.detectContentTypeHeader();_!==null&&o.setRequestHeader("Content-Type",_)}if(t.responseType){let _=t.responseType.toLowerCase();o.responseType=_!=="json"?_:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let _=o.statusText||"OK",w=new Zo(o.getAllResponseHeaders()),A=_W(o)||t.url;return l=new ay({headers:w,status:o.status,statusText:_,url:A}),l},d=()=>{let{headers:_,status:w,statusText:A,url:M}=c(),x=null;w!==sW&&(x=typeof o.response>"u"?o.responseText:o.response),w===0&&(w=x?H2:0);let R=w>=200&&w<300;if(t.responseType==="json"&&typeof x=="string"){let P=x;x=x.replace(mW,"");try{x=x!==""?JSON.parse(x):null}catch(N){x=P,R&&(R=!1,x={error:N,text:x})}}R?(s.next(new Xf({body:x,headers:_,status:w,statusText:A,url:M||void 0})),s.complete()):s.error(new Ja({error:x,headers:_,status:w,statusText:A,url:M||void 0}))},h=_=>{let{url:w}=c(),A=new Ja({error:_,status:o.status||0,statusText:o.statusText||"Unknown Error",url:w||void 0});s.error(A)},f=!1,p=_=>{f||(s.next(c()),f=!0);let w={type:Xa.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),t.responseType==="text"&&o.responseText&&(w.partialText=o.responseText),s.next(w)},y=_=>{let w={type:Xa.UploadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),s.next(w)};return o.addEventListener("load",d),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),t.reportProgress&&(o.addEventListener("progress",p),a!==null&&o.upload&&o.upload.addEventListener("progress",y)),o.send(a),s.next({type:Xa.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",d),o.removeEventListener("timeout",h),t.reportProgress&&(o.removeEventListener("progress",p),a!==null&&o.upload&&o.upload.removeEventListener("progress",y)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(z(Ed))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),W2=new J(""),yW="XSRF-TOKEN",vW=new J("",{providedIn:"root",factory:()=>yW}),wW="X-XSRF-TOKEN",bW=new J("",{providedIn:"root",factory:()=>wW}),ly=class{},EW=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ty(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(z(Nn),z(Hn),z(vW))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})();function CW(n,e){let t=n.url.toLowerCase();if(!H(W2)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=H(ly).getToken(),r=H(bW);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var q2=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(q2||{});function DW(n,e){return{\u0275kind:n,\u0275providers:e}}function IW(...n){let e=[oW,U2,j2,{provide:Jf,useExisting:j2},{provide:oy,useFactory:()=>H(cW,{optional:!0})??H(U2)},{provide:eD,useValue:CW,multi:!0},{provide:W2,useValue:!0},{provide:ly,useClass:EW}];for(let t of n)e.push(...t.\u0275providers);return v0(e)}var $2=new J("");function TW(){return DW(q2.LegacyInterceptors,[{provide:$2,useFactory:gW},{provide:eD,useExisting:$2,multi:!0}])}var K2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({providers:[IW(TW())]})}}return n})();var iD=class extends ey{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rD=class n extends iD{static makeCurrent(){S2(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=SW();return t==null?null:AW(t)}resetBaseElement(){ep=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ty(document.cookie,e)}},ep=null;function SW(){return ep=ep||document.querySelector("base"),ep?ep.getAttribute("href"):null}function AW(n){return new URL(n,document.baseURI).pathname}var sD=class{addToWindow(e){Ho.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new ue(5103,!1);return s},Ho.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ho.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=Ho.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};Ho.frameworkStabilizers||(Ho.frameworkStabilizers=[]),Ho.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?no().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},xW=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),oD=new J(""),Z2=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new ue(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(z(oD),z(ke))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),cy=class{constructor(e){this._doc=e}},tD="ng-app-id",X2=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ya(s),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${tD}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(tD),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(tD,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(z(Nn),z(N0),z(mC,8),z(Hn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),nD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lD=/%COMP%/g,eF="%COMP%",MW=`_nghost-${eF}`,RW=`_ngcontent-${eF}`,NW=!0,OW=new J("",{providedIn:"root",factory:()=>NW});function PW(n){return RW.replace(lD,n)}function kW(n){return MW.replace(lD,n)}function tF(n,e){return e.map(t=>t.replace(lD,n))}var Q2=(()=>{class n{constructor(t,i,r,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Ya(a),this.defaultRenderer=new tp(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Xs.ShadowDom&&(i=Pe(K({},i),{encapsulation:Xs.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof uy?r.applyToHost(t):r instanceof np&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Xs.Emulated:s=new uy(l,c,i,this.appId,d,o,a,h);break;case Xs.ShadowDom:return new aD(l,c,t,i,o,a,this.nonce,h);default:s=new np(l,c,i,d,o,a,h);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(z(Z2),z(X2),z(N0),z(OW),z(Nn),z(Hn),z(ke),z(mC))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),tp=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(nD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Y2(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Y2(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ue(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=nD[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=nD[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(jo.DashCase|jo.Important)?e.style.setProperty(t,i,r&jo.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&jo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=no().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Y2(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var aD=class extends tp{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=tF(r.id,r.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},np=class extends tp{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?tF(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},uy=class extends np{constructor(e,t,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=PW(c),this.hostAttr=kW(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},FW=(()=>{class n extends cy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(z(Nn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),J2=["alt","control","meta","shift"],LW={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},BW=(()=>{class n extends cy{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>no().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),J2.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),o+=c+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=LW[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),J2.forEach(o=>{if(o!==r){let a=VW[o];a(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(z(Nn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})();function jW(){rD.makeCurrent()}function UW(){return new Bo}function $W(){return rk(document),document}var HW=[{provide:Hn,useValue:KC},{provide:gC,useValue:jW,multi:!0},{provide:Nn,useFactory:$W,deps:[]}],nF=LC(_2,"browser",HW),zW=new J(""),GW=[{provide:Qf,useClass:sD,deps:[]},{provide:kC,useClass:G0,deps:[ke,W0,Qf]},{provide:G0,useClass:G0,deps:[ke,W0,Qf]}],WW=[{provide:w0,useValue:"root"},{provide:Bo,useFactory:UW,deps:[]},{provide:oD,useClass:FW,multi:!0,deps:[Nn,ke,Hn]},{provide:oD,useClass:BW,multi:!0,deps:[Nn]},Q2,X2,Z2,{provide:ud,useExisting:Q2},{provide:Ed,useClass:xW,deps:[]},[]],iF=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:N0,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(z(zW,12))}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({providers:[...WW,...GW],imports:[N2,y2]})}}return n})();var rF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(z(Nn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ue="primary",_p=Symbol("RouteTitle"),fD=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function xd(n){return new fD(n)}function KW(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function QW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!io(n[t],e[t]))return!1;return!0}function io(n,e){let t=n?pD(n):void 0,i=e?pD(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!mF(n[r],e[r]))return!1;return!0}function pD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function mF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function _F(n){return n.length>0?n[n.length-1]:null}function tl(n){return Ob(n)?n:bc(n)?at(Promise.resolve(n)):se(n)}var YW={exact:vF,subset:wF},yF={exact:JW,subset:ZW,ignored:()=>!0};function oF(n,e,t){return YW[t.paths](n.root,e.root,t.matrixParams)&&yF[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function JW(n,e){return io(n,e)}function vF(n,e,t){if(!Dc(n.segments,e.segments)||!fy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!vF(n.children[i],e.children[i],t))return!1;return!0}function ZW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mF(n[t],e[t]))}function wF(n,e,t){return bF(n,e,e.segments,t)}function bF(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Dc(r,t)||e.hasChildren()||!fy(r,t,i))}else if(n.segments.length===t.length){if(!Dc(n.segments,t)||!fy(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!wF(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Dc(n.segments,r)||!fy(n.segments,r,i)||!n.children[Ue]?!1:bF(n.children[Ue],e,s,i)}}function fy(n,e,t){return e.every((i,r)=>yF[t](n[r].parameters,i.parameters))}var ea=class{constructor(e=new It([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=xd(this.queryParams),this._queryParamMap}toString(){return tq.serialize(this)}},It=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return py(this)}},Cc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=xd(this.parameters),this._parameterMap}toString(){return CF(this)}};function XW(n,e){return Dc(n,e)&&n.every((t,i)=>io(t.parameters,e[i].parameters))}function Dc(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function eq(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ue&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ue&&(t=t.concat(e(r,i)))}),t}var yp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:()=>new Md,providedIn:"root"})}}return n})(),Md=class{parse(e){let t=new mD(e);return new ea(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ip(e.root,!0)}`,i=rq(e.queryParams),r=typeof e.fragment=="string"?`#${nq(e.fragment)}`:"";return`${t}${i}${r}`}},tq=new Md;function py(n){return n.segments.map(e=>CF(e)).join("/")}function ip(n,e){if(!n.hasChildren())return py(n);if(e){let t=n.children[Ue]?ip(n.children[Ue],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ue&&i.push(`${r}:${ip(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=eq(n,(i,r)=>r===Ue?[ip(n.children[Ue],!1)]:[`${r}:${ip(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ue]!=null?`${py(n)}/${t[0]}`:`${py(n)}/(${t.join("//")})`}}function EF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dy(n){return EF(n).replace(/%3B/gi,";")}function nq(n){return encodeURI(n)}function gD(n){return EF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gy(n){return decodeURIComponent(n)}function aF(n){return gy(n.replace(/\+/g,"%20"))}function CF(n){return`${gD(n.path)}${iq(n.parameters)}`}function iq(n){return Object.entries(n).map(([e,t])=>`;${gD(e)}=${gD(t)}`).join("")}function rq(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${dy(t)}=${dy(r)}`).join("&"):`${dy(t)}=${dy(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var sq=/^[^\/()?;#]+/;function cD(n){let e=n.match(sq);return e?e[0]:""}var oq=/^[^\/()?;=#]+/;function aq(n){let e=n.match(oq);return e?e[0]:""}var lq=/^[^=?&#]+/;function cq(n){let e=n.match(lq);return e?e[0]:""}var uq=/^[^&#]+/;function dq(n){let e=n.match(uq);return e?e[0]:""}var mD=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ue]=new It(e,t)),i}parseSegment(){let e=cD(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(e),new Cc(gy(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=aq(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=cD(this.remaining);r&&(i=r,this.capture(i))}e[gy(t)]=gy(i)}parseQueryParam(e){let t=cq(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=dq(this.remaining);o&&(i=o,this.capture(i))}let r=aF(t),s=aF(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=cD(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ue(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ue);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[Ue]:new It([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ue(4011,!1)}};function DF(n){return n.segments.length>0?new It([],{[Ue]:n}):n}function IF(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=IF(r);if(i===Ue&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new It(n.segments,e);return hq(t)}function hq(n){if(n.numberOfChildren===1&&n.children[Ue]){let e=n.children[Ue];return new It(n.segments.concat(e.segments),e.children)}return n}function cp(n){return n instanceof ea}function fq(n,e,t=null,i=null){let r=TF(n);return SF(r,e,t,i)}function TF(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new It(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=DF(i);return e??r}function SF(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return uD(r,r,r,t,i);let s=pq(e);if(s.toRoot())return uD(r,r,new It([],{}),t,i);let o=gq(s,r,n),a=o.processChildren?op(o.segmentGroup,o.index,s.commands):xF(o.segmentGroup,o.index,s.commands);return uD(r,o.segmentGroup,a,t,i)}function my(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function up(n){return typeof n=="object"&&n!=null&&n.outlets}function uD(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;n===e?o=t:o=AF(n,e,t);let a=DF(IF(o));return new ea(a,s,r)}function AF(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=AF(s,e,t)}),new It(n.segments,i)}var _y=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&my(i[0]))throw new ue(4003,!1);let r=i.find(up);if(r&&r!==_F(i))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _y(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new _y(t,e,i)}var Td=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function gq(n,e,t){if(n.isAbsolute)return new Td(e,!0,0);if(!t)return new Td(e,!1,NaN);if(t.parent===null)return new Td(t,!0,0);let i=my(n.commands[0])?0:1,r=t.segments.length-1+i;return mq(t,r,n.numberOfDoubleDots)}function mq(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ue(4005,!1);r=i.segments.length}return new Td(i,!1,r-s)}function _q(n){return up(n[0])?n[0].outlets:{[Ue]:n}}function xF(n,e,t){if(n??=new It([],{}),n.segments.length===0&&n.hasChildren())return op(n,e,t);let i=yq(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new It(n.segments.slice(0,i.pathIndex),{});return s.children[Ue]=new It(n.segments.slice(i.pathIndex),n.children),op(s,0,r)}else return i.match&&r.length===0?new It(n.segments,{}):i.match&&!n.hasChildren()?_D(n,e,t):i.match?op(n,0,r):_D(n,e,t)}function op(n,e,t){if(t.length===0)return new It(n.segments,{});{let i=_q(t),r={};if(Object.keys(i).some(s=>s!==Ue)&&n.children[Ue]&&n.numberOfChildren===1&&n.children[Ue].segments.length===0){let s=op(n.children[Ue],e,t);return new It(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=xF(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new It(n.segments,r)}}function yq(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(up(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!cF(l,c,o))return s;i+=2}else{if(!cF(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function _D(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(up(s)){let l=vq(s.outlets);return new It(i,l)}if(r===0&&my(t[0])){let l=n.segments[e];i.push(new Cc(l.path,lF(t[0]))),r++;continue}let o=up(s)?s.outlets[Ue]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&my(a)?(i.push(new Cc(o,lF(a))),r+=2):(i.push(new Cc(o,{})),r++)}return new It(i,{})}function vq(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=_D(new It([],{}),0,i))}),e}function lF(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function cF(n,e,t){return n==t.path&&io(e,t.parameters)}var ap="imperative",ti=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ti||{}),ts=class{constructor(e,t){this.id=e,this.url=t}},Rd=class extends ts{constructor(e,t,i="imperative",r=null){super(e,t),this.type=ti.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ta=class extends ts{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=ti.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ar=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ar||{}),yy=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(yy||{}),Xo=class extends ts{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=ti.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},el=class extends ts{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=ti.NavigationSkipped}},dp=class extends ts{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=ti.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vy=class extends ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=ti.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yD=class extends ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=ti.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vD=class extends ts{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=ti.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wD=class extends ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=ti.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bD=class extends ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=ti.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ED=class{constructor(e){this.route=e,this.type=ti.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},CD=class{constructor(e){this.route=e,this.type=ti.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},DD=class{constructor(e){this.snapshot=e,this.type=ti.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ID=class{constructor(e){this.snapshot=e,this.type=ti.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},TD=class{constructor(e){this.snapshot=e,this.type=ti.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},SD=class{constructor(e){this.snapshot=e,this.type=ti.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wy=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=ti.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},hp=class{},Nd=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function wq(n,e){return n.providers&&!n._injector&&(n._injector=B0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function As(n){return n.outlet||Ue}function bq(n,e){let t=n.filter(i=>As(i)===e);return t.push(...n.filter(i=>As(i)!==e)),t}function vp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var AD=class{get injector(){return vp(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new wp(this.rootInjector),this.attachRef=null}},wp=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new AD(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(z(Xn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),by=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=xD(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=xD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=MD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return MD(e,this._root).map(t=>t.value)}};function xD(n,e){if(n===e.value)return e;for(let t of e.children){let i=xD(n,t);if(i)return i}return null}function MD(n,e){if(n===e.value)return[e];for(let t of e.children){let i=MD(n,t);if(i.length)return i.unshift(e),i}return[]}var Sr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Id(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ey=class extends by{constructor(e,t){super(e),this.snapshot=t,BD(this,e)}toString(){return this.snapshot.toString()}};function MF(n){let e=Eq(n),t=new Zn([new Cc("",{})]),i=new Zn({}),r=new Zn({}),s=new Zn({}),o=new Zn(""),a=new Od(t,i,s,o,r,Ue,n,e.root);return a.snapshot=e.root,new Ey(new Sr(a,[]),e)}function Eq(n){let e={},t={},i={},r="",s=new Sd([],e,i,r,t,Ue,n,null,{});return new Dy("",new Sr(s,[]))}var Od=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ne(c=>c[_p]))??se(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>xd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>xd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cy(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:K(K({},e.params),n.params),data:K(K({},e.data),n.data),resolve:K(K(K(K({},n.data),e.data),r?.data),n._resolvedData)}:i={params:K({},n.params),data:K({},n.data),resolve:K(K({},n.data),n._resolvedData??{})},r&&NF(r)&&(i.resolve[_p]=r.title),i}var Sd=class{get title(){return this.data?.[_p]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Dy=class extends by{constructor(e,t){super(t),this.url=e,BD(this,t)}toString(){return RF(this._root)}};function BD(n,e){e.value._routerState=n,e.children.forEach(t=>BD(n,t))}function RF(n){let e=n.children.length>0?` { ${n.children.map(RF).join(", ")} } `:"";return`${n.value}${e}`}function dD(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,io(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),io(e.params,t.params)||n.paramsSubject.next(t.params),QW(e.url,t.url)||n.urlSubject.next(t.url),io(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function RD(n,e){let t=io(n.params,e.params)&&XW(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||RD(n.parent,e.parent))}function NF(n){return typeof n.title=="string"||n.title===null}var jD=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ue,this.activateEvents=new en,this.deactivateEvents=new en,this.attachEvents=new en,this.detachEvents=new en,this.parentContexts=H(wp),this.location=H(Ko),this.changeDetector=H(Yo),this.inputBinder=H(xy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ND(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Tr({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pc]})}}return n})(),ND=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Od?this.route:e===wp?this.childContexts:this.parent.get(e,t)}},xy=new J(""),uF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Gu([i.queryParams,i.params,i.data]).pipe(Mt(([s,o,a],l)=>(a=K(K(K({},s),o),a),l===0?se(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let o=v2(i.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})();function Cq(n,e,t){let i=fp(n,e._root,t?t._root:void 0);return new Ey(i,e)}function fp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=Dq(n,e,t);return new Sr(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fp(n,a)),o}}let i=Iq(e.value),r=e.children.map(s=>fp(n,s));return new Sr(i,r)}}function Dq(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return fp(n,i,r);return fp(n,i)})}function Iq(n){return new Od(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}var pp=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},OF="ngNavigationCancelingError";function Iy(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=cp(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=PF(!1,Ar.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function PF(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[OF]=!0,t.cancellationCode=e,t}function Tq(n){return kF(n)&&cp(n.url)}function kF(n){return!!n&&n[OF]}var Sq=(n,e,t,i)=>ne(r=>(new OD(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),OD=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),dD(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Id(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Id(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Id(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Id(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new SD(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ID(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(dD(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dD(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Ty=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ad=class{constructor(e,t){this.component=e,this.route=t}};function Aq(n,e,t){let i=n._root,r=e?e._root:null;return rp(i,r,t,[i.value])}function xq(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function kd(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!zO(n)?n:e.get(n):i}function rp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Id(e);return n.children.forEach(o=>{Mq(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>lp(a,t.getContext(o),r)),r}function Mq(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=Rq(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ty(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?rp(n,e,a?a.children:null,i,r):rp(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ad(a.outlet.component,o))}else o&&lp(e,a,r),r.canActivateChecks.push(new Ty(i)),s.component?rp(n,null,a?a.children:null,i,r):rp(n,null,t,i,r);return r}function Rq(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Dc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Dc(n.url,e.url)||!io(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RD(n,e)||!io(n.queryParams,e.queryParams);case"paramsChange":default:return!RD(n,e)}}function lp(n,e,t){let i=Id(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?lp(o,e.children.getContext(s),t):lp(o,null,t):lp(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ad(e.outlet.component,r)):t.canDeactivateChecks.push(new Ad(null,r)):t.canDeactivateChecks.push(new Ad(null,r))}function bp(n){return typeof n=="function"}function Nq(n){return typeof n=="boolean"}function Oq(n){return n&&bp(n.canLoad)}function Pq(n){return n&&bp(n.canActivate)}function kq(n){return n&&bp(n.canActivateChild)}function Fq(n){return n&&bp(n.canDeactivate)}function Lq(n){return n&&bp(n.canMatch)}function FF(n){return n instanceof Po||n?.name==="EmptyError"}var hy=Symbol("INITIAL_VALUE");function Pd(){return Mt(n=>Gu(n.map(e=>e.pipe(lr(1),Va(hy)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===hy)return hy;if(t===!1||Vq(t))return t}return!0}),Kt(e=>e!==hy),lr(1)))}function Vq(n){return cp(n)||n instanceof pp}function Bq(n,e){return Xt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?se(Pe(K({},t),{guardsResult:!0})):jq(o,i,r,n).pipe(Xt(a=>a&&Nq(a)?Uq(i,s,n,e):se(a)),ne(a=>Pe(K({},t),{guardsResult:a})))})}function jq(n,e,t,i){return at(n).pipe(Xt(r=>Wq(r.component,r.route,t,e,i)),Kr(r=>r!==!0,!0))}function Uq(n,e,t,i){return at(e).pipe(ko(r=>ka(Hq(r.route.parent,i),$q(r.route,i),Gq(n,r.path,t),zq(n,r.route,t))),Kr(r=>r!==!0,!0))}function $q(n,e){return n!==null&&e&&e(new TD(n)),se(!0)}function Hq(n,e){return n!==null&&e&&e(new DD(n)),se(!0)}function zq(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return se(!0);let r=i.map(s=>A_(()=>{let o=vp(e)??t,a=kd(s,o),l=Pq(a)?a.canActivate(e,n):Xr(o,()=>a(e,n));return tl(l).pipe(Kr())}));return se(r).pipe(Pd())}function Gq(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>xq(o)).filter(o=>o!==null).map(o=>A_(()=>{let a=o.guards.map(l=>{let c=vp(o.node)??t,d=kd(l,c),h=kq(d)?d.canActivateChild(i,n):Xr(c,()=>d(i,n));return tl(h).pipe(Kr())});return se(a).pipe(Pd())}));return se(s).pipe(Pd())}function Wq(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return se(!0);let o=s.map(a=>{let l=vp(e)??r,c=kd(a,l),d=Fq(c)?c.canDeactivate(n,e,t,i):Xr(l,()=>c(n,e,t,i));return tl(d).pipe(Kr())});return se(o).pipe(Pd())}function qq(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return se(!0);let s=r.map(o=>{let a=kd(o,n),l=Oq(a)?a.canLoad(e,t):Xr(n,()=>a(e,t));return tl(l)});return se(s).pipe(Pd(),LF(i))}function LF(n){return Tb(fn(e=>{if(typeof e!="boolean")throw Iy(n,e)}),ne(e=>e===!0))}function Kq(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return se(!0);let s=r.map(o=>{let a=kd(o,n),l=Lq(a)?a.canMatch(e,t):Xr(n,()=>a(e,t));return tl(l)});return se(s).pipe(Pd(),LF(i))}var gp=class{constructor(e){this.segmentGroup=e||null}},mp=class extends Error{constructor(e){super(),this.urlTree=e}};function Dd(n){return Hu(new gp(n))}function Qq(n){return Hu(new ue(4e3,!1))}function Yq(n){return Hu(PF(!1,Ar.GuardRejected))}var PD=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return se(i);if(r.numberOfChildren>1||!r.children[Ue])return Qq(`${e.redirectTo}`);r=r.children[Ue]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:d,url:h,outlet:f,params:p,data:y,title:_}=r,w=Xr(s,()=>a({params:p,data:y,queryParams:l,fragment:c,routeConfig:d,url:h,outlet:f,title:_}));if(w instanceof ea)throw new mp(w);t=w}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new mp(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new ea(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new It(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new ue(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},kD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jq(n,e,t,i,r){let s=VF(n,e,t);return s.matched?(i=wq(e,i),Kq(i,e,t,r).pipe(ne(o=>o===!0?s:K({},kD)))):se(s)}function VF(n,e,t){if(e.path==="**")return Zq(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?K({},kD):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||KW)(t,n,e);if(!r)return K({},kD);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?K(K({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Zq(n){return{matched:!0,parameters:n.length>0?_F(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function dF(n,e,t,i){return t.length>0&&tK(n,t,i)?{segmentGroup:new It(e,eK(i,new It(t,n.children))),slicedSegments:[]}:t.length===0&&nK(n,t,i)?{segmentGroup:new It(n.segments,Xq(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new It(n.segments,n.children),slicedSegments:t}}function Xq(n,e,t,i){let r={};for(let s of t)if(My(n,e,s)&&!i[As(s)]){let o=new It([],{});r[As(s)]=o}return K(K({},i),r)}function eK(n,e){let t={};t[Ue]=e;for(let i of n)if(i.path===""&&As(i)!==Ue){let r=new It([],{});t[As(i)]=r}return t}function tK(n,e,t){return t.some(i=>My(n,e,i)&&As(i)!==Ue)}function nK(n,e,t){return t.some(i=>My(n,e,i))}function My(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function iK(n,e,t){return e.length===0&&!n.children[t]}var FD=class{};function rK(n,e,t,i,r,s,o="emptyOnly"){return new LD(n,e,t,i,r,o,s).recognize()}var sK=31,LD=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new PD(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ue(4002,`'${e.segmentGroup}'`)}recognize(){let e=dF(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:i})=>{let r=new Sr(i,t),s=new Dy("",r),o=fq(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Sd([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ue,t).pipe(ne(i=>({children:i,rootSnapshot:t})),Fa(i=>{if(i instanceof mp)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof gp?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(ne(o=>o instanceof Sr?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return at(s).pipe(ko(o=>{let a=i.children[o],l=bq(t,o);return this.processSegmentGroup(e,l,a,o,r)}),Ys((o,a)=>(o.push(...a),o)),La(null),Bb(),Xt(o=>{if(o===null)return Dd(i);let a=BF(o);return oK(a),se(a)}))}processSegment(e,t,i,r,s,o,a){return at(t).pipe(ko(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(Fa(c=>{if(c instanceof gp)return se(null);throw c}))),Kr(l=>!!l),Fa(l=>{if(FF(l))return iK(i,r,s)?se(new FD):Dd(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return As(i)!==o&&(o===Ue||!My(r,s,i))?Dd(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):Dd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=VF(t,r,s);if(!l)return Dd(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sK&&(this.allowRedirects=!1));let p=new Sd(s,c,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,hF(r),As(r),r.component??r._loadedComponent??null,r,fF(r)),y=Cy(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let _=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,p,e);return this.applyRedirects.lineralizeSegments(r,_).pipe(Xt(w=>this.processSegment(e,i,t,w.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=Jq(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Mt(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Mt(({routes:c})=>{let d=i._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:p}=l,y=new Sd(f,h,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,hF(i),As(i),i.component??i._loadedComponent??null,i,fF(i)),_=Cy(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:w,slicedSegments:A}=dF(t,f,p,c);if(A.length===0&&w.hasChildren())return this.processChildren(d,c,w,y).pipe(ne(x=>new Sr(y,x)));if(c.length===0&&A.length===0)return se(new Sr(y,[]));let M=As(i)===s;return this.processSegment(d,c,w,A,M?Ue:s,!0,y).pipe(ne(x=>new Sr(y,x instanceof Sr?[x]:[])))}))):Dd(t)))}getChildConfig(e,t,i){return t.children?se({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?se({routes:t._loadedRoutes,injector:t._loadedInjector}):qq(e,t,i,this.urlSerializer).pipe(Xt(r=>r?this.configLoader.loadChildren(e,t).pipe(fn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Yq(t))):se({routes:[],injector:e})}};function oK(n){n.sort((e,t)=>e.value.outlet===Ue?-1:t.value.outlet===Ue?1:e.value.outlet.localeCompare(t.value.outlet))}function aK(n){let e=n.value.routeConfig;return e&&e.path===""}function BF(n){let e=[],t=new Set;for(let i of n){if(!aK(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=BF(i.children);e.push(new Sr(i.value,r))}return e.filter(i=>!t.has(i))}function hF(n){return n.data||{}}function fF(n){return n.resolve||{}}function lK(n,e,t,i,r,s){return Xt(o=>rK(n,e,t,i,o.extractedUrl,r,s).pipe(ne(({state:a,tree:l})=>Pe(K({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function cK(n,e){return Xt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return se(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of jF(l))o.add(c);let a=0;return at(o).pipe(ko(l=>s.has(l)?uK(l,i,n,e):(l.data=Cy(l,l.parent,n).resolve,se(void 0))),fn(()=>a++),qu(1),Xt(l=>a===o.size?se(t):Un))})}function jF(n){let e=n.children.map(t=>jF(t)).flat();return[n,...e]}function uK(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!NF(r)&&(s[_p]=r.title),dK(s,n,e,i).pipe(ne(o=>(n._resolvedData=o,n.data=Cy(n,n.parent,t).resolve,null)))}function dK(n,e,t,i){let r=pD(n);if(r.length===0)return se({});let s={};return at(r).pipe(Xt(o=>hK(n[o],e,t,i).pipe(Kr(),fn(a=>{if(a instanceof pp)throw Iy(new Md,a);s[o]=a}))),qu(1),Lb(s),Fa(o=>FF(o)?Un:Hu(o)))}function hK(n,e,t,i){let r=vp(e)??i,s=kd(n,r),o=s.resolve?s.resolve(e,t):Xr(r,()=>s(e,t));return tl(o)}function hD(n){return Mt(e=>{let t=n(e);return t?at(t).pipe(ne(()=>e)):se(e)})}var UF=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ue);return i}getResolvedTitleForRoute(t){return t.data[_p]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:()=>H(fK),providedIn:"root"})}}return n})(),fK=(()=>{class n extends UF{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(z(rF))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ep=new J("",{providedIn:"root",factory:()=>({})}),pK=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=hi({type:n,selectors:[["ng-component"]],standalone:!0,features:[Kf],decls:1,vars:0,template:function(i,r){i&1&&de(0,"router-outlet")},dependencies:[jD],encapsulation:2})}}return n})();function UD(n){let e=n.children&&n.children.map(UD),t=e?Pe(K({},n),{children:e}):K({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ue&&(t.component=pK),t}var Sy=new J(""),$D=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(Q0)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return se(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=tl(t.loadComponent()).pipe(ne($F),fn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Fo(()=>{this.componentLoaders.delete(t)})),r=new Vu(i,()=>new yt).pipe(Lu());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=gK(i,this.compiler,t,this.onLoadEndListener).pipe(Fo(()=>{this.childrenLoaders.delete(i)})),o=new Vu(s,()=>new yt).pipe(Lu());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gK(n,e,t,i){return tl(n.loadChildren()).pipe(ne($F),Xt(r=>r instanceof Bf||Array.isArray(r)?se(r):at(e.compileModuleAsync(r))),ne(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(Sy,[],{optional:!0,self:!0}).flat()),{routes:o.map(UD),injector:s}}))}function mK(n){return n&&typeof n=="object"&&"default"in n}function $F(n){return mK(n)?n.default:n}var HD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:()=>H(_K),providedIn:"root"})}}return n})(),_K=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HF=new J(""),zF=new J("");function yK(n,e,t){let i=n.get(zF),r=n.get(Nn);return n.get(ke).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),vK(n))),{onViewTransitionCreated:l}=i;return l&&Xr(n,()=>l({transition:a,from:e,to:t})),o})}function vK(n){return new Promise(e=>{NC({read:()=>setTimeout(e)},{injector:n})})}var wK=new J(""),zD=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yt,this.transitionAbortSubject=new yt,this.configLoader=H($D),this.environmentInjector=H(Xn),this.urlSerializer=H(yp),this.rootContexts=H(wp),this.location=H(Cd),this.inputBindingEnabled=H(xy,{optional:!0})!==null,this.titleStrategy=H(UF),this.options=H(Ep,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=H(HD),this.createViewTransition=H(HF,{optional:!0}),this.navigationErrorHandler=H(wK,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let t=r=>this.events.next(new ED(r)),i=r=>this.events.next(new CD(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Pe(K(K({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Zn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ap,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kt(s=>s.id!==0),ne(s=>Pe(K({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Mt(s=>{let o=!1,a=!1;return se(s).pipe(Mt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ar.SupersededByNewNavigation),Un;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Pe(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload"){let h="";return this.events.next(new el(l.id,this.urlSerializer.serialize(l.rawUrl),h,yy.IgnoredSameUrlNavigation)),l.resolve(!1),Un}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return se(l).pipe(Mt(h=>{let f=this.transitions?.getValue();return this.events.next(new Rd(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Un:Promise.resolve(h)}),lK(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),fn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Pe(K({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new vy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:y,extras:_}=l,w=new Rd(h,this.urlSerializer.serialize(f),p,y);this.events.next(w);let A=MF(this.rootComponentType).snapshot;return this.currentTransition=s=Pe(K({},l),{targetSnapshot:A,urlAfterRedirects:f,extras:Pe(K({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,se(s)}else{let h="";return this.events.next(new el(l.id,this.urlSerializer.serialize(l.extractedUrl),h,yy.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Un}}),fn(l=>{let c=new yD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ne(l=>(this.currentTransition=s=Pe(K({},l),{guards:Aq(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Bq(this.environmentInjector,l=>this.events.next(l)),fn(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Iy(this.urlSerializer,l.guardsResult);let c=new vD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Kt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ar.GuardRejected),!1)),hD(l=>{if(l.guards.canActivateChecks.length)return se(l).pipe(fn(c=>{let d=new wD(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Mt(c=>{let d=!1;return se(c).pipe(cK(this.paramsInheritanceStrategy,this.environmentInjector),fn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",Ar.NoDataFromResolver)}}))}),fn(c=>{let d=new bD(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),hD(l=>{let c=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(fn(f=>{d.component=f}),ne(()=>{})));for(let f of d.children)h.push(...c(f));return h};return Gu(c(l.targetSnapshot.root)).pipe(La(null),lr(1))}),hD(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?at(d).pipe(ne(()=>s)):se(s)}),ne(l=>{let c=Cq(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Pe(K({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),fn(()=>{this.events.next(new hp)}),Sq(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),lr(1),fn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ta(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Ei(this.transitionAbortSubject.pipe(fn(l=>{throw l}))),Fo(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ar.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fa(l=>{if(a=!0,kF(l))this.events.next(new Xo(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),Tq(l)?this.events.next(new Nd(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let c=new dp(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=Xr(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof pp){let{message:h,cancellationCode:f}=Iy(this.urlSerializer,d);this.events.next(new Xo(s.id,this.urlSerializer.serialize(s.extractedUrl),h,f)),this.events.next(new Nd(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(c);let h=t.errorHandler(l);s.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Un}))}))}cancelNavigationTransition(t,i,r){let s=new Xo(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bK(n){return n!==ap}var EK=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:()=>H(CK),providedIn:"root"})}}return n})(),VD=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},CK=(()=>{class n extends VD{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=gd(n)))(r||n)}})()}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:()=>H(DK),providedIn:"root"})}}return n})(),DK=(()=>{class n extends GF{constructor(){super(...arguments),this.location=H(Cd),this.urlSerializer=H(yp),this.options=H(Ep,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=H(HD),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ea,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=MF(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Rd)this.stateMemento=this.createStateMemento();else if(t instanceof el)this.rawUrlTree=i.initialUrl;else if(t instanceof vy){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof hp?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Xo&&(t.code===Ar.GuardRejected||t.code===Ar.NoDataFromResolver)?this.restoreHistory(i):t instanceof dp?this.restoreHistory(i,!0):t instanceof ta&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof ea?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=K(K({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=K(K({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=gd(n)))(r||n)}})()}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(sp||{});function WF(n,e){n.events.pipe(Kt(t=>t instanceof ta||t instanceof Xo||t instanceof dp||t instanceof el),ne(t=>t instanceof ta||t instanceof el?sp.COMPLETE:(t instanceof Xo?t.code===Ar.Redirect||t.code===Ar.SupersededByNewNavigation:!1)?sp.REDIRECTING:sp.FAILED),Kt(t=>t!==sp.REDIRECTING),lr(1)).subscribe(()=>{e()})}function IK(n){throw n}var TK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},SK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xs=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=H(z0),this.stateManager=H(GF),this.options=H(Ep,{optional:!0})||{},this.pendingTasks=H(Wo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=H(zD),this.urlSerializer=H(yp),this.location=H(Cd),this.urlHandlingStrategy=H(HD),this._events=new yt,this.errorHandler=this.options.errorHandler||IK,this.navigated=!1,this.routeReuseStrategy=H(EK),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=H(Sy,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!H(xy,{optional:!0}),this.eventsSubscription=new hn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Xo&&i.code!==Ar.Redirect&&i.code!==Ar.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ta)this.navigated=!0;else if(i instanceof Nd){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=K({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bK(r.source)},o);this.scheduleNavigation(a,ap,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}xK(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ap,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=K({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(UD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=K(K({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=r?r.snapshot:this.routerState.snapshot.root;h=TF(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return SF(h,t,d,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=cp(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ap,null,i)}navigate(t,i={skipLocationChange:!1}){return AK(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=K({},TK):i===!1?r=K({},SK):r=i,cp(t))return oF(this.currentUrlTree,t,r);let s=this.parseUrl(t);return oF(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,l=f});let d=this.pendingTasks.add();return WF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function AK(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ue(4008,!1)}function xK(n){return!(n instanceof hp)&&!(n instanceof Nd)}var Ay=class{};var MK=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Kt(t=>t instanceof ta),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=B0(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return at(r).pipe(Pa())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=se(null);let s=r.pipe(Xt(o=>o===null?se(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return at([s,o]).pipe(Pa())}else return s})}static{this.\u0275fac=function(i){return new(i||n)(z(xs),z(Q0),z(Xn),z(Ay),z($D))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qF=new J(""),RK=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ta?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof el&&t.code===yy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wy&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wy(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){Ek()}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})();function NK(n){return n.routerState.root}function Cp(n,e){return{\u0275kind:n,\u0275providers:e}}function OK(){let n=H(di);return e=>{let t=n.get(Ss);if(e!==t.components[0])return;let i=n.get(xs),r=n.get(KF);n.get(GD)===1&&i.initialNavigation(),n.get(QF,null,Ge.Optional)?.setUpPreloading(),n.get(qF,null,Ge.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var KF=new J("",{factory:()=>new yt}),GD=new J("",{providedIn:"root",factory:()=>1});function PK(){return Cp(2,[{provide:GD,useValue:0},{provide:q0,multi:!0,deps:[di],useFactory:e=>{let t=e.get(A2,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(xs),s=e.get(KF);WF(r,()=>{i(!0)}),e.get(zD).afterPreactivation=()=>(i(!0),s.closed?se(void 0):s),r.initialNavigation()}))}}])}function kK(){return Cp(3,[{provide:q0,multi:!0,useFactory:()=>{let e=H(xs);return()=>{e.setUpLocationChangeListener()}}},{provide:GD,useValue:2}])}var QF=new J("");function FK(n){return Cp(0,[{provide:QF,useExisting:MK},{provide:Ay,useExisting:n}])}function LK(){return Cp(8,[uF,{provide:xy,useExisting:uF}])}function VK(n){let e=[{provide:HF,useValue:yK},{provide:zF,useValue:K({skipNextTransition:!!n?.skipInitialTransition},n)}];return Cp(9,e)}var pF=new J("ROUTER_FORROOT_GUARD"),BK=[Cd,{provide:yp,useClass:Md},xs,wp,{provide:Od,useFactory:NK,deps:[xs]},$D,[]],WD=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[BK,[],{provide:Sy,multi:!0,useValue:t},{provide:pF,useFactory:HK,deps:[[xs,new fd,new XE]]},{provide:Ep,useValue:i||{}},i?.useHash?UK():$K(),jK(),i?.preloadingStrategy?FK(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?zK(i):[],i?.bindToComponentInputs?LK().\u0275providers:[],i?.enableViewTransitions?VK().\u0275providers:[],GK()]}}static forChild(t){return{ngModule:n,providers:[{provide:Sy,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(z(pF,8))}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();function jK(){return{provide:qF,useFactory:()=>{let n=H(P2),e=H(ke),t=H(Ep),i=H(zD),r=H(yp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new RK(r,i,n,e,t)}}}function UK(){return{provide:Ec,useClass:M2}}function $K(){return{provide:Ec,useClass:qC}}function HK(n){return"guarded"}function zK(n){return[n.initialNavigation==="disabled"?kK().\u0275providers:[],n.initialNavigation==="enabledBlocking"?PK().\u0275providers:[]]}var gF=new J("");function GK(){return[{provide:gF,useFactory:OK},{provide:K0,multi:!0,useExisting:gF}]}var qV=I9(YF());function na(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var _r={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ld={duration:.5,overwrite:!1,delay:0},fI,Ii,Qt,is=1e8,Bt=1/is,nI=Math.PI*2,WK=nI/4,qK=0,sL=Math.sqrt,KK=Math.cos,QK=Math.sin,zn=function(e){return typeof e=="string"},gn=function(e){return typeof e=="function"},ra=function(e){return typeof e=="number"},jy=function(e){return typeof e>"u"},oo=function(e){return typeof e=="object"},mr=function(e){return e!==!1},pI=function(){return typeof window<"u"},Ry=function(e){return gn(e)||zn(e)},oL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ti=Array.isArray,iI=/(?:-?\.?\d|\.)+/gi,gI=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xc=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,QD=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,mI=/[+-]=-?[.\d]+/,aL=/[^,'"\[\]\s]+/gi,YK=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,tn,ro,rI,_I,Mr={},ky={},lL,cL=function(e){return(ky=Ac(e,Mr))&&Si},Uy=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Mp=function(e,t){return!t&&console.warn(e)},uL=function(e,t){return e&&(Mr[e]=t)&&ky&&(ky[e]=t)||Mr},Rp=function(){return 0},JK={suppressEvents:!0,isStart:!0,kill:!1},Ny={suppressEvents:!0,kill:!1},ZK={suppressEvents:!0},yI={},il=[],sI={},dL,pr={},YD={},JF=30,Oy=[],vI="",wI=function(e){var t=e[0],i,r;if(oo(t)||gn(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=Oy.length;r--&&!Oy[r].targetTest(t););i=Oy[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new CI(e[r],i)))||e.splice(r,1);return e},rl=function(e){return e._gsap||wI(rs(e))[0]._gsap},bI=function(e,t,i){return(i=e[t])&&gn(i)?e[t]():jy(i)&&e.getAttribute&&e.getAttribute(t)||i},$i=function(e,t){return(e=e.split(",")).forEach(t)||e},mn=function(e){return Math.round(e*1e5)/1e5||0},ni=function(e){return Math.round(e*1e7)/1e7||0},Mc=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},XK=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},Fy=function(){var e=il.length,t=il.slice(0),i,r;for(sI={},il.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},hL=function(e,t,i,r){il.length&&!Ii&&Fy(),e.render(t,i,r||Ii&&t<0&&(e._initted||e._startAt)),il.length&&!Ii&&Fy()},fL=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(aL).length<2?t:zn(e)?e.trim():e},pL=function(e){return e},ss=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},eQ=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},Ac=function(e,t){for(var i in t)e[i]=t[i];return e},ZF=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=oo(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},Ly=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},Sp=function(e){var t=e.parent||tn,i=e.keyframes?eQ(Ti(e.keyframes)):ss;if(mr(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},tQ=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},gL=function(e,t,i,r,s){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},$y=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},sl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ic=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},nQ=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},oI=function(e,t,i,r){return e._startAt&&(Ii?e._startAt.revert(Ny):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},iQ=function n(e){return!e||e._ts&&n(e.parent)},XF=function(e){return e._repeat?Vd(e._tTime,e=e.duration()+e._rDelay)*e:0},Vd=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},Vy=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Hy=function(e){return e._end=ni(e._start+(e._tDur/Math.abs(e._ts||e._rts||Bt)||0))},zy=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=ni(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Hy(e),i._dirty||Ic(i,e)),e},mL=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Vy(e.rawTime(),t),(!t._dur||Pp(0,t.totalDuration(),i)-t._tTime>Bt)&&t.render(i,!0)),Ic(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Bt}},so=function(e,t,i,r){return t.parent&&sl(t),t._start=ni((ra(i)?i:i||e!==tn?ns(e,i,t):e._time)+t._delay),t._end=ni(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),gL(e,t,"_first","_last",e._sort?"_start":0),aI(t)||(e._recent=t),r||mL(e,t),e._ts<0&&zy(e,e._tTime),e},_L=function(e,t){return(Mr.ScrollTrigger||Uy("scrollTrigger",t))&&Mr.ScrollTrigger.create(t,e)},yL=function(e,t,i,r,s){if(TI(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!Ii&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&dL!==gr.frame)return il.push(e),e._lazy=[s,r],1},rQ=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},aI=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},sQ=function(e,t,i,r){var s=e.ratio,o=t<0||!t&&(!e._start&&rQ(e)&&!(!e._initted&&aI(e))||(e._ts<0||e._dp._ts<0)&&!aI(e))?0:1,a=e._rDelay,l=0,c,d,h;if(a&&e._repeat&&(l=Pp(0,e._tDur,t),d=Vd(l,a),e._yoyo&&d&1&&(o=1-o),d!==Vd(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Ii||r||e._zTime===Bt||!t&&e._zTime){if(!e._initted&&yL(e,t,r,i,l))return;for(h=e._zTime,e._zTime=t||(i?Bt:0),i||(i=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&oI(e,t,i,!0),e._onUpdate&&!i&&xr(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&xr(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&sl(e,1),!i&&!Ii&&(xr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},oQ=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Bd=function(e,t,i,r){var s=e._repeat,o=ni(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:ni(o*(s+1)+e._rDelay*s):o,a>0&&!r&&zy(e,e._tTime=e._tDur*a),e.parent&&Hy(e),i||Ic(e.parent,e),e},eL=function(e){return e instanceof pi?Ic(e):Bd(e,e._dur)},aQ={_start:0,endTime:Rp,totalDuration:Rp},ns=function n(e,t,i){var r=e.labels,s=e._recent||aQ,o=e.duration()>=is?s.endTime(!1):e._dur,a,l,c;return zn(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&i&&(l=l/100*(Ti(i)?i[0]:i).totalDuration()),a>1?n(e,t.substr(0,a-1),i)+l:o+l)):t==null?o:+t},Ap=function(e,t,i){var r=ra(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,l;if(r&&(o.duration=t[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=mr(l.vars.inherit)&&l.parent;o.immediateRender=mr(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new bn(t[0],o,t[s+1])},ol=function(e,t){return e||e===0?t(e):t},Pp=function(e,t,i){return i<e?e:i>t?t:i},gi=function(e,t){return!zn(e)||!(t=YK.exec(e))?"":t[1]},lQ=function(e,t,i){return ol(i,function(r){return Pp(e,t,r)})},lI=[].slice,vL=function(e,t){return e&&oo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&oo(e[0]))&&!e.nodeType&&e!==ro},cQ=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return zn(r)&&!t||vL(r,1)?(s=i).push.apply(s,rs(r)):i.push(r)})||i},rs=function(e,t,i){return Qt&&!t&&Qt.selector?Qt.selector(e):zn(e)&&!i&&(rI||!jd())?lI.call((t||_I).querySelectorAll(e),0):Ti(e)?cQ(e,i):vL(e)?lI.call(e,0):e?[e]:[]},cI=function(e){return e=rs(e)[0]||Mp("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return rs(t,i.querySelectorAll?i:i===e?Mp("Invalid scope")||_I.createElement("div"):e)}},wL=function(e){return e.sort(function(){return .5-Math.random()})},bL=function(e){if(gn(e))return e;var t=oo(e)?e:{each:e},i=Tc(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,d=r,h=r;return zn(r)?d=h={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(d=r[0],h=r[1]),function(f,p,y){var _=(y||t).length,w=o[_],A,M,x,R,P,N,C,b,v;if(!w){if(v=t.grid==="auto"?0:(t.grid||[1,is])[1],!v){for(C=-is;C<(C=y[v++].getBoundingClientRect().left)&&v<_;);v<_&&v--}for(w=o[_]=[],A=l?Math.min(v,_)*d-.5:r%v,M=v===is?0:l?_*h/v-.5:r/v|0,C=0,b=is,N=0;N<_;N++)x=N%v-A,R=M-(N/v|0),w[N]=P=c?Math.abs(c==="y"?R:x):sL(x*x+R*R),P>C&&(C=P),P<b&&(b=P);r==="random"&&wL(w),w.max=C-b,w.min=b,w.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(v>_?_-1:c?c==="y"?_/v:v:Math.max(v,_/v))||0)*(r==="edges"?-1:1),w.b=_<0?s-_:s,w.u=gi(t.amount||t.each)||0,i=i&&_<0?ML(i):i}return _=(w[f]-w.min)/w.max||0,ni(w.b+(i?i(_):_)*w.v)+w.u}},uI=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=ni(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(ra(i)?0:gi(i))}},EL=function(e,t){var i=Ti(e),r,s;return!i&&oo(e)&&(r=i=e.radius||is,e.values?(e=rs(e.values),(s=!ra(e[0]))&&(r*=r)):e=uI(e.increment)),ol(t,i?gn(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=is,d=0,h=e.length,f,p;h--;)s?(f=e[h].x-a,p=e[h].y-l,f=f*f+p*p):f=Math.abs(e[h]-a),f<c&&(c=f,d=h);return d=!r||c<=r?e[d]:o,s||d===o||ra(o)?d:d+gi(o)}:uI(e))},CL=function(e,t,i,r){return ol(Ti(e)?!t:i===!0?!!(i=0):!r,function(){return Ti(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},uQ=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,o){return o(s)},r)}},dQ=function(e,t){return function(i){return e(parseFloat(i))+(t||gi(i))}},hQ=function(e,t,i){return IL(e,t,0,1,i)},DL=function(e,t,i){return ol(i,function(r){return e[~~t(r)]})},fQ=function n(e,t,i){var r=t-e;return Ti(e)?DL(e,n(0,e.length),t):ol(i,function(s){return(r+(s-e)%r)%r+e})},pQ=function n(e,t,i){var r=t-e,s=r*2;return Ti(e)?DL(e,n(0,e.length-1),t):ol(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},Ud=function(e){for(var t=0,i="",r,s,o,a;~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?aL:iI),i+=e.substr(t,r-t)+CL(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},IL=function(e,t,i,r,s){var o=t-e,a=r-i;return ol(s,function(l){return i+((l-e)/o*a||0)})},gQ=function n(e,t,i,r){var s=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!s){var o=zn(e),a={},l,c,d,h,f;if(i===!0&&(r=1)&&(i=null),o)e={p:e},t={p:t};else if(Ti(e)&&!Ti(t)){for(d=[],h=e.length,f=h-2,c=1;c<h;c++)d.push(n(e[c-1],e[c]));h--,s=function(y){y*=h;var _=Math.min(f,~~y);return d[_](y-_)},i=t}else r||(e=Ac(Ti(e)?[]:{},e));if(!d){for(l in t)DI.call(a,e,l,"get",t[l]);s=function(y){return xI(y,a)||(o?e.p:e)}}}return ol(i,s)},tL=function(e,t,i){var r=e.labels,s=is,o,a,l;for(o in r)a=r[o]-t,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},xr=function(e,t,i){var r=e.vars,s=r[t],o=Qt,a=e._ctx,l,c,d;if(s)return l=r[t+"Params"],c=r.callbackScope||e,i&&il.length&&Fy(),a&&(Qt=a),d=l?s.apply(c,l):s.call(c),Qt=o,d},Ip=function(e){return sl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ii),e.progress()<1&&xr(e,"onInterrupt"),e},Fd,TL=[],SL=function(e){if(e)if(e=!e.name&&e.default||e,pI()||e.headless){var t=e.name,i=gn(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Rp,render:xI,add:DI,kill:RQ,modifier:MQ,rawVars:0},o={targetTest:0,get:0,getSetter:Gy,aliases:{},register:0};if(jd(),e!==r){if(pr[t])return;ss(r,ss(Ly(e,s),o)),Ac(r.prototype,Ac(s,Ly(e,o))),pr[r.prop=t]=r,e.targetTest&&(Oy.push(r),yI[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}uL(t,r),e.register&&e.register(Si,r,Hi)}else TL.push(e)},kt=255,Tp={aqua:[0,kt,kt],lime:[0,kt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,kt],navy:[0,0,128],white:[kt,kt,kt],olive:[128,128,0],yellow:[kt,kt,0],orange:[kt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[kt,0,0],pink:[kt,192,203],cyan:[0,kt,kt],transparent:[kt,kt,kt,0]},JD=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*kt+.5|0},AL=function(e,t,i){var r=e?ra(e)?[e>>16,e>>8&kt,e&kt]:0:Tp.black,s,o,a,l,c,d,h,f,p,y;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Tp[e])r=Tp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&kt,r&kt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&kt,e&kt]}else if(e.substr(0,3)==="hsl"){if(r=y=e.match(iI),!t)l=+r[0]%360/360,c=+r[1]/100,d=+r[2]/100,o=d<=.5?d*(c+1):d+c-d*c,s=d*2-o,r.length>3&&(r[3]*=1),r[0]=JD(l+1/3,s,o),r[1]=JD(l,s,o),r[2]=JD(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(gI),i&&r.length<4&&(r[3]=1),r}else r=e.match(iI)||Tp.transparent;r=r.map(Number)}return t&&!y&&(s=r[0]/kt,o=r[1]/kt,a=r[2]/kt,h=Math.max(s,o,a),f=Math.min(s,o,a),d=(h+f)/2,h===f?l=c=0:(p=h-f,c=d>.5?p/(2-h-f):p/(h+f),l=h===s?(o-a)/p+(o<a?6:0):h===o?(a-s)/p+2:(s-o)/p+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(d*100+.5)),i&&r.length<4&&(r[3]=1),r},xL=function(e){var t=[],i=[],r=-1;return e.split(ia).forEach(function(s){var o=s.match(xc)||[];t.push.apply(t,o),i.push(r+=o.length+1)}),t.c=i,t},nL=function(e,t,i){var r="",s=(e+r).match(ia),o=t?"hsla(":"rgba(",a=0,l,c,d,h;if(!s)return e;if(s=s.map(function(f){return(f=AL(f,t,1))&&o+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(d=xL(e),l=i.c,l.join(r)!==d.c.join(r)))for(c=e.replace(ia,"1").split(xc),h=c.length-1;a<h;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(d.length?d:s.length?s:i).shift());if(!c)for(c=e.split(ia),h=c.length-1;a<h;a++)r+=c[a]+s[a];return r+c[h]},ia=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Tp)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),mQ=/hsl[a]?\(/,EI=function(e){var t=e.join(" "),i;if(ia.lastIndex=0,ia.test(t))return i=mQ.test(t),e[1]=nL(e[1],i),e[0]=nL(e[0],i,xL(e[1])),!0},Np,gr=function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,o=s,a=[],l,c,d,h,f,p,y=function _(w){var A=n()-r,M=w===!0,x,R,P,N;if((A>e||A<0)&&(i+=A-t),r+=A,P=r-i,x=P-o,(x>0||M)&&(N=++h.frame,f=P-h.time*1e3,h.time=P=P/1e3,o+=x+(x>=s?4:s-x),R=1),M||(l=c(_)),R)for(p=0;p<a.length;p++)a[p](P,f,N,w)};return h={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(w){return f/(1e3/(w||60))},wake:function(){lL&&(!rI&&pI()&&(ro=rI=window,_I=ro.document||{},Mr.gsap=Si,(ro.gsapVersions||(ro.gsapVersions=[])).push(Si.version),cL(ky||ro.GreenSockGlobals||!ro.gsap&&ro||{}),TL.forEach(SL)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),c=d||function(w){return setTimeout(w,o-h.time*1e3+1|0)},Np=1,y(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(l),Np=0,c=Rp},lagSmoothing:function(w,A){e=w||1/0,t=Math.min(A||33,e)},fps:function(w){s=1e3/(w||240),o=h.time*1e3+s},add:function(w,A,M){var x=A?function(R,P,N,C){w(R,P,N,C),h.remove(x)}:w;return h.remove(w),a[M?"unshift":"push"](x),jd(),x},remove:function(w,A){~(A=a.indexOf(w))&&a.splice(A,1)&&p>=A&&p--},_listeners:a},h}(),jd=function(){return!Np&&gr.wake()},ct={},_Q=/^[\d.\-M][\d.\-,\s]/,yQ=/["']/g,vQ=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(yQ,"").trim():+c,r=l.substr(a+1).trim();return t},wQ=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},bQ=function(e){var t=(e+"").split("("),i=ct[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[vQ(t[1])]:wQ(e).split(",").map(fL)):ct._CE&&_Q.test(e)?ct._CE("",e):i},ML=function(e){return function(t){return 1-e(1-t)}},RL=function n(e,t){for(var i=e._first,r;i;)i instanceof pi?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Tc=function(e,t){return e&&(gn(e)?e:ct[e]||bQ(e))||t},Rc=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},o;return $i(e,function(a){ct[a]=Mr[a]=s,ct[o=a.toLowerCase()]=i;for(var l in s)ct[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=ct[a+"."+l]=s[l]}),s},NL=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},ZD=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/nI*(Math.asin(1/r)||0),a=function(d){return d===1?1:r*Math.pow(2,-10*d)*QK((d-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:NL(a);return s=nI/s,l.config=function(c,d){return n(e,c,d)},l},XD=function n(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:NL(i);return r.config=function(s){return n(e,s)},r};$i("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Rc(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});ct.Linear.easeNone=ct.none=ct.Linear.easeIn;Rc("Elastic",ZD("in"),ZD("out"),ZD());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(a){return a<t?n*a*a:a<i?n*Math.pow(a-1.5/e,2)+.75:a<r?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Rc("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Rc("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Rc("Circ",function(n){return-(sL(1-n*n)-1)});Rc("Sine",function(n){return n===1?1:-KK(n*WK)+1});Rc("Back",XD("in"),XD("out"),XD());ct.SteppedEase=ct.steps=Mr.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,o=1-Bt;return function(a){return((r*Pp(0,o,a)|0)+s)*i}}};Ld.ease=ct["quad.out"];$i("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return vI+=n+","+n+"Params,"});var CI=function(e,t){this.id=qK++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:bI,this.set=t?t.getSetter:Gy},Op=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Bd(this,+t.duration,1,1),this.data=t.data,Qt&&(this._ctx=Qt,Qt.data.push(this)),Np||gr.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Bd(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(jd(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(zy(this,i),!s._dp||s.parent||mL(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&so(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Bt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),hL(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+XF(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+XF(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?Vd(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-Bt?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?Vy(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Bt?0:this._rts,this.totalTime(Pp(-Math.abs(this._delay),this._tDur,s),r!==!1),Hy(this),nQ(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(jd(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Bt&&(this._tTime-=Bt)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&so(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(mr(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Vy(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=ZK);var r=Ii;return Ii=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Ii=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,eL(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,eL(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(ns(this,i),mr(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,mr(r))},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Bt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Bt,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-Bt)},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this;return new Promise(function(s){var o=gn(i)?i:pL,a=function(){var c=r.then;r.then=null,gn(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){Ip(this)},n}();ss(Op.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Bt,_prom:0,_ps:!1,_rts:1});var pi=function(n){rL(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=mr(i.sortChildren),tn&&so(i.parent||tn,na(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&_L(na(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return Ap(0,arguments,this),this},t.from=function(r,s,o){return Ap(1,arguments,this),this},t.fromTo=function(r,s,o,a){return Ap(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,Sp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new bn(r,s,ns(this,o),1),this},t.call=function(r,s,o){return so(this,bn.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,d){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=d,o.parent=this,new bn(r,o,ns(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,d){return o.runBackwards=1,Sp(o).immediateRender=mr(o.immediateRender),this.staggerTo(r,s,o,a,l,c,d)},t.staggerFromTo=function(r,s,o,a,l,c,d,h){return a.startAt=o,Sp(a).immediateRender=mr(a.immediateRender),this.staggerTo(r,s,a,l,c,d,h)},t.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,d=r<=0?0:ni(r),h=this._zTime<0!=r<0&&(this._initted||!c),f,p,y,_,w,A,M,x,R,P,N,C;if(this!==tn&&d>l&&r>=0&&(d=l),d!==this._tTime||o||h){if(a!==this._time&&c&&(d+=this._time-a,r+=this._time-a),f=d,R=this._start,x=this._ts,A=!x,h&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(N=this._yoyo,w=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(w*100+r,s,o);if(f=ni(d%w),d===l?(_=this._repeat,f=c):(_=~~(d/w),_&&_===d/w&&(f=c,_--),f>c&&(f=c)),P=Vd(this._tTime,w),!a&&this._tTime&&P!==_&&this._tTime-P*w-this._dur<=0&&(P=_),N&&_&1&&(f=c-f,C=1),_!==P&&!this._lock){var b=N&&P&1,v=b===(N&&_&1);if(_<P&&(b=!b),a=b?0:d%c?c:d,this._lock=1,this.render(a||(C?0:ni(_*w)),s,!c)._lock=0,this._tTime=d,!s&&this.parent&&xr(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),a&&a!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,v&&(this._lock=2,a=b?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;RL(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=oQ(this,ni(a),ni(f)),M&&(d-=f-(f=M._start))),this._tTime=d,this._time=f,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&f&&!s&&!_&&(xr(this,"onStart"),this._tTime!==d))return this;if(f>=a&&r>=0)for(p=this._first;p;){if(y=p._next,(p._act||f>=p._start)&&p._ts&&M!==p){if(p.parent!==this)return this.render(r,s,o);if(p.render(p._ts>0?(f-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(f-p._start)*p._ts,s,o),f!==this._time||!this._ts&&!A){M=0,y&&(d+=this._zTime=-Bt);break}}p=y}else{p=this._last;for(var E=r<0?r:f;p;){if(y=p._prev,(p._act||E<=p._end)&&p._ts&&M!==p){if(p.parent!==this)return this.render(r,s,o);if(p.render(p._ts>0?(E-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(E-p._start)*p._ts,s,o||Ii&&(p._initted||p._startAt)),f!==this._time||!this._ts&&!A){M=0,y&&(d+=this._zTime=E?-Bt:Bt);break}}p=y}}if(M&&!s&&(this.pause(),M.render(f>=a?0:-Bt)._zTime=f>=a?1:-1,this._ts))return this._start=R,Hy(this),this.render(r,s,o);this._onUpdate&&!s&&xr(this,"onUpdate",!0),(d===l&&this._tTime>=this.totalDuration()||!d&&a)&&(R===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(d===l&&this._ts>0||!d&&this._ts<0)&&sl(this,1),!s&&!(r<0&&!a)&&(d||a||!l)&&(xr(this,d===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(ra(s)||(s=ns(this,s,r)),!(r instanceof Op)){if(Ti(r))return r.forEach(function(a){return o.add(a,s)}),this;if(zn(r))return this.addLabel(r,s);if(gn(r))r=bn.delayedCall(0,r);else return this}return this!==r?so(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-is);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof bn?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return zn(r)?this.removeLabel(r):gn(r)?this.killTweensOf(r):($y(this,r),r===this._recent&&(this._recent=this._last),Ic(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ni(gr.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=ns(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=bn.delayedCall(0,s||Rp,o);return a.data="isPause",this._hasPause=1,so(this,a,ns(this,r))},t.removePause=function(r){var s=this._first;for(r=ns(this,r);s;)s._start===r&&s.data==="isPause"&&sl(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)nl!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=rs(r),l=this._first,c=ra(s),d;l;)l instanceof bn?XK(l._targets,a)&&(c?(!nl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(d=l.getTweensOf(a,s)).length&&o.push.apply(o,d),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=ns(o,r),l=s,c=l.startAt,d=l.onStart,h=l.onStartParams,f=l.immediateRender,p,y=bn.to(o,ss({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Bt,onStart:function(){if(o.pause(),!p){var w=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());y._dur!==w&&Bd(y,w,0,1).render(y._time,!0,!0),p=1}d&&d.apply(y,h||[])}},s));return f?y.render(0):y},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,ss({startAt:{time:ns(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),tL(this,ns(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),tL(this,ns(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Bt)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return Ic(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Ic(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,l=is,c,d,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),d=a._start,d>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,so(o,a,d-a._delay,1)._lock=0):l=d,d<0&&a._ts&&(s-=d,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Bd(o,o===tn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(tn._ts&&(hL(tn,Vy(r,tn)),dL=gr.frame),gr.frame>=JF){JF+=_r.autoSleep||120;var s=tn._first;if((!s||!s._ts)&&_r.autoSleep&&gr._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||gr.sleep()}}},e}(Op);ss(pi.prototype,{_lock:0,_hasPause:0,_forcing:0});var EQ=function(e,t,i,r,s,o,a){var l=new Hi(this._pt,e,t,0,1,AI,null,s),c=0,d=0,h,f,p,y,_,w,A,M;for(l.b=i,l.e=r,i+="",r+="",(A=~r.indexOf("random("))&&(r=Ud(r)),o&&(M=[i,r],o(M,e,t),i=M[0],r=M[1]),f=i.match(QD)||[];h=QD.exec(r);)y=h[0],_=r.substring(c,h.index),p?p=(p+1)%5:_.substr(-5)==="rgba("&&(p=1),y!==f[d++]&&(w=parseFloat(f[d-1])||0,l._pt={_next:l._pt,p:_||d===1?_:",",s:w,c:y.charAt(1)==="="?Mc(w,y)-w:parseFloat(y)-w,m:p&&p<4?Math.round:0},c=QD.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(mI.test(r)||A)&&(l.e=0),this._pt=l,l},DI=function(e,t,i,r,s,o,a,l,c,d){gn(r)&&(r=r(s||0,e,o));var h=e[t],f=i!=="get"?i:gn(h)?c?e[t.indexOf("set")||!gn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,p=gn(h)?c?SQ:kL:SI,y;if(zn(r)&&(~r.indexOf("random(")&&(r=Ud(r)),r.charAt(1)==="="&&(y=Mc(f,r)+(gi(f)||0),(y||y===0)&&(r=y))),!d||f!==r||dI)return!isNaN(f*r)&&r!==""?(y=new Hi(this._pt,e,t,+f||0,r-(f||0),typeof h=="boolean"?xQ:FL,0,p),c&&(y.fp=c),a&&y.modifier(a,this,e),this._pt=y):(!h&&!(t in e)&&Uy(t,r),EQ.call(this,e,t,f,r,p,l||_r.stringFilter,c))},CQ=function(e,t,i,r,s){if(gn(e)&&(e=xp(e,s,t,i,r)),!oo(e)||e.style&&e.nodeType||Ti(e)||oL(e))return zn(e)?xp(e,s,t,i,r):e;var o={},a;for(a in e)o[a]=xp(e[a],s,t,i,r);return o},II=function(e,t,i,r,s,o){var a,l,c,d;if(pr[e]&&(a=new pr[e]).init(s,a.rawVars?t[e]:CQ(t[e],r,s,o,i),i,r,o)!==!1&&(i._pt=l=new Hi(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==Fd))for(c=i._ptLookup[i._targets.indexOf(s)],d=a._props.length;d--;)c[a._props[d]]=l;return a},nl,dI,TI=function n(e,t,i){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,d=r.runBackwards,h=r.yoyoEase,f=r.keyframes,p=r.autoRevert,y=e._dur,_=e._startAt,w=e._targets,A=e.parent,M=A&&A.data==="nested"?A.vars.targets:w,x=e._overwrite==="auto"&&!fI,R=e.timeline,P,N,C,b,v,E,S,I,T,le,ve,Ee,ae;if(R&&(!f||!s)&&(s="none"),e._ease=Tc(s,Ld.ease),e._yEase=h?ML(Tc(h===!0?s:h,Ld.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!R&&!!r.runBackwards,!R||f&&!r.stagger){if(I=w[0]?rl(w[0]).harness:0,Ee=I&&r[I.prop],P=Ly(r,yI),_&&(_._zTime<0&&_.progress(1),t<0&&d&&a&&!p?_.render(-1,!0):_.revert(d&&y?Ny:JK),_._lazy=0),o){if(sl(e._startAt=bn.set(w,ss({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!_&&mr(l),startAt:null,delay:0,onUpdate:c&&function(){return xr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ii||!a&&!p)&&e._startAt.revert(Ny),a&&y&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(d&&y&&!_){if(t&&(a=!1),C=ss({overwrite:!1,data:"isFromStart",lazy:a&&!_&&mr(l),immediateRender:a,stagger:0,parent:A},P),Ee&&(C[I.prop]=Ee),sl(e._startAt=bn.set(w,C)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ii?e._startAt.revert(Ny):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Bt,Bt);else if(!t)return}for(e._pt=e._ptCache=0,l=y&&mr(l)||l&&!y,N=0;N<w.length;N++){if(v=w[N],S=v._gsap||wI(w)[N]._gsap,e._ptLookup[N]=le={},sI[S.id]&&il.length&&Fy(),ve=M===w?N:M.indexOf(v),I&&(T=new I).init(v,Ee||P,e,ve,M)!==!1&&(e._pt=b=new Hi(e._pt,v,T.name,0,1,T.render,T,0,T.priority),T._props.forEach(function(Me){le[Me]=b}),T.priority&&(E=1)),!I||Ee)for(C in P)pr[C]&&(T=II(C,P,e,ve,v,M))?T.priority&&(E=1):le[C]=b=DI.call(e,v,C,"get",P[C],ve,M,0,r.stringFilter);e._op&&e._op[N]&&e.kill(v,e._op[N]),x&&e._pt&&(nl=e,tn.killTweensOf(v,le,e.globalTime(t)),ae=!e.parent,nl=0),e._pt&&l&&(sI[S.id]=1)}E&&MI(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!ae,f&&t<=0&&R.render(is,!0,!0)},DQ=function(e,t,i,r,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,h,f,p;if(!c)for(c=e._ptCache[t]=[],f=e._ptLookup,p=e._targets.length;p--;){if(d=f[p][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return dI=1,e.vars[t]="+=0",TI(e,a),dI=0,l?Mp(t+" not eligible for reset"):1;c.push(d)}for(p=c.length;p--;)h=c[p],d=h._pt||h,d.s=(r||r===0)&&!s?r:d.s+(r||0)+o*d.c,d.c=i-d.s,h.e&&(h.e=mn(i)+gi(h.e)),h.b&&(h.b=d.s+gi(h.b))},IQ=function(e,t){var i=e[0]?rl(e[0]).harness:0,r=i&&i.aliases,s,o,a,l;if(!r)return t;s=Ac({},t);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},TQ=function(e,t,i,r){var s=t.ease||r||"power1.inOut",o,a;if(Ti(t))a=i[e]||(i[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},xp=function(e,t,i,r,s){return gn(e)?e.call(t,i,r,s):zn(e)&&~e.indexOf("random(")?Ud(e):e},OL=vI+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",PL={};$i(OL+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return PL[n]=1});var bn=function(n){rL(e,n);function e(i,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=n.call(this,o?r:Sp(r))||this;var l=a.vars,c=l.duration,d=l.delay,h=l.immediateRender,f=l.stagger,p=l.overwrite,y=l.keyframes,_=l.defaults,w=l.scrollTrigger,A=l.yoyoEase,M=r.parent||tn,x=(Ti(i)||oL(i)?ra(i[0]):"length"in r)?[i]:rs(i),R,P,N,C,b,v,E,S;if(a._targets=x.length?wI(x):Mp("GSAP target "+i+" not found. https://gsap.com",!_r.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,y||f||Ry(c)||Ry(d)){if(r=a.vars,R=a.timeline=new pi({data:"nested",defaults:_||{},targets:M&&M.data==="nested"?M.vars.targets:x}),R.kill(),R.parent=R._dp=na(a),R._start=0,f||Ry(c)||Ry(d)){if(C=x.length,E=f&&bL(f),oo(f))for(b in f)~OL.indexOf(b)&&(S||(S={}),S[b]=f[b]);for(P=0;P<C;P++)N=Ly(r,PL),N.stagger=0,A&&(N.yoyoEase=A),S&&Ac(N,S),v=x[P],N.duration=+xp(c,na(a),P,v,x),N.delay=(+xp(d,na(a),P,v,x)||0)-a._delay,!f&&C===1&&N.delay&&(a._delay=d=N.delay,a._start+=d,N.delay=0),R.to(v,N,E?E(P,v,x):0),R._ease=ct.none;R.duration()?c=d=0:a.timeline=0}else if(y){Sp(ss(R.vars.defaults,{ease:"none"})),R._ease=Tc(y.ease||r.ease||"none");var I=0,T,le,ve;if(Ti(y))y.forEach(function(Ee){return R.to(x,Ee,">")}),R.duration();else{N={};for(b in y)b==="ease"||b==="easeEach"||TQ(b,y[b],N,y.easeEach);for(b in N)for(T=N[b].sort(function(Ee,ae){return Ee.t-ae.t}),I=0,P=0;P<T.length;P++)le=T[P],ve={ease:le.e,duration:(le.t-(P?T[P-1].t:0))/100*c},ve[b]=le.v,R.to(x,ve,I),I+=ve.duration;R.duration()<c&&R.to({},{duration:c-R.duration()})}}c||a.duration(c=R.duration())}else a.timeline=0;return p===!0&&!fI&&(nl=na(a),tn.killTweensOf(x),nl=0),so(M,na(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(h||!c&&!y&&a._start===ni(M._time)&&mr(h)&&iQ(na(a))&&M.data!=="nested")&&(a._tTime=-Bt,a.render(Math.max(0,-d)||0)),w&&_L(na(a),w),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,d=r<0,h=r>l-Bt&&!d?l:r<Bt?0:r,f,p,y,_,w,A,M,x,R;if(!c)sQ(this,r,s,o);else if(h!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d){if(f=h,x=this.timeline,this._repeat){if(_=c+this._rDelay,this._repeat<-1&&d)return this.totalTime(_*100+r,s,o);if(f=ni(h%_),h===l?(y=this._repeat,f=c):(y=~~(h/_),y&&y===ni(h/_)&&(f=c,y--),f>c&&(f=c)),A=this._yoyo&&y&1,A&&(R=this._yEase,f=c-f),w=Vd(this._tTime,_),f===a&&!o&&this._initted&&y===w)return this._tTime=h,this;y!==w&&(x&&this._yEase&&RL(x,A),this.vars.repeatRefresh&&!A&&!this._lock&&this._time!==_&&this._initted&&(this._lock=o=1,this.render(ni(_*y),!0).invalidate()._lock=0))}if(!this._initted){if(yL(this,d?r:f,o,s,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&y!==w))return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=h,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(R||this._ease)(f/c),this._from&&(this.ratio=M=1-M),f&&!a&&!s&&!y&&(xr(this,"onStart"),this._tTime!==h))return this;for(p=this._pt;p;)p.r(M,p.d),p=p._next;x&&x.render(r<0?r:x._dur*x._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(d&&oI(this,r,s,o),xr(this,"onUpdate")),this._repeat&&y!==w&&this.vars.onRepeat&&!s&&this.parent&&xr(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(d&&!this._onUpdate&&oI(this,r,!0,!0),(r||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&sl(this,1),!s&&!(d&&!a)&&(h||a||A)&&(xr(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a,l){Np||gr.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||TI(this,c),d=this._ease(c/this._dur),DQ(this,r,s,o,a,d,c,l)?this.resetTo(r,s,o,a,1):(zy(this,0),this.parent||gL(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Ip(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,nl&&nl.vars.overwrite!==!0)._first||Ip(this),this.parent&&o!==this.timeline.totalDuration()&&Bd(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?rs(r):a,c=this._ptLookup,d=this._pt,h,f,p,y,_,w,A;if((!s||s==="all")&&tQ(a,l))return s==="all"&&(this._pt=0),Ip(this);for(h=this._op=this._op||[],s!=="all"&&(zn(s)&&(_={},$i(s,function(M){return _[M]=1}),s=_),s=IQ(a,s)),A=a.length;A--;)if(~l.indexOf(a[A])){f=c[A],s==="all"?(h[A]=s,y=f,p={}):(p=h[A]=h[A]||{},y=s);for(_ in y)w=f&&f[_],w&&((!("kill"in w.d)||w.d.kill(_)===!0)&&$y(this,w,"_pt"),delete f[_]),p!=="all"&&(p[_]=1)}return this._initted&&!this._pt&&d&&Ip(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Ap(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return Ap(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return tn.killTweensOf(r,s,o)},e}(Op);ss(bn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$i("staggerTo,staggerFrom,staggerFromTo",function(n){bn[n]=function(){var e=new pi,t=lI.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var SI=function(e,t,i){return e[t]=i},kL=function(e,t,i){return e[t](i)},SQ=function(e,t,i,r){return e[t](r.fp,i)},AQ=function(e,t,i){return e.setAttribute(t,i)},Gy=function(e,t){return gn(e[t])?kL:jy(e[t])&&e.setAttribute?AQ:SI},FL=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},xQ=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},AI=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},xI=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},MQ=function(e,t,i,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,i),s=o},RQ=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?$y(this,t,"_pt"):t.dep||(i=1),t=r;return!i},NQ=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},MI=function(e){for(var t=e._pt,i,r,s,o;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=i}e._pt=s},Hi=function(){function n(t,i,r,s,o,a,l,c,d){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||FL,this.d=l||this,this.set=c||SI,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=NQ,this.m=i,this.mt=s,this.tween=r},n}();$i(vI+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return yI[n]=1});Mr.TweenMax=Mr.TweenLite=bn;Mr.TimelineLite=Mr.TimelineMax=pi;tn=new pi({sortChildren:!1,defaults:Ld,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_r.stringFilter=EI;var Sc=[],Py={},OQ=[],iL=0,PQ=0,eI=function(e){return(Py[e]||OQ).map(function(t){return t()})},hI=function(){var e=Date.now(),t=[];e-iL>2&&(eI("matchMediaInit"),Sc.forEach(function(i){var r=i.queries,s=i.conditions,o,a,l,c;for(a in r)o=ro.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&t.push(i))}),eI("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),iL=e,eI("matchMedia"))},LL=function(){function n(t,i){this.selector=i&&cI(i),this.data=[],this._r=[],this.isReverted=!1,this.id=PQ++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){gn(i)&&(s=r,r=i,i=gn);var o=this,a=function(){var c=Qt,d=o.selector,h;return c&&c!==o&&c.data.push(o),s&&(o.selector=cI(s)),Qt=o,h=r.apply(o,arguments),gn(h)&&o._r.push(h),Qt=c,o.selector=d,o.isReverted=!1,h};return o.last=a,i===gn?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var r=Qt;Qt=null,i(this),Qt=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof bn&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(d){return a.splice(a.indexOf(d),1)}));for(a.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,h){return h.g-d.g||-1/0}).forEach(function(d){return d.t.revert(i)}),l=s.data.length;l--;)c=s.data[l],c instanceof pi?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof bn)&&c.revert&&c.revert(i);s._r.forEach(function(d){return d(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=Sc.length;o--;)Sc[o].id===this.id&&Sc.splice(o,1)},e.revert=function(i){this.kill(i||{})},n}(),kQ=function(){function n(t){this.contexts=[],this.scope=t,Qt&&Qt.data.push(this)}var e=n.prototype;return e.add=function(i,r,s){oo(i)||(i={matches:i});var o=new LL(0,s||this.scope),a=o.conditions={},l,c,d;Qt&&!o.selector&&(o.selector=Qt.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(c in i)c==="all"?d=1:(l=ro.matchMedia(i[c]),l&&(Sc.indexOf(o)<0&&Sc.push(o),(a[c]=l.matches)&&(d=1),l.addListener?l.addListener(hI):l.addEventListener("change",hI)));return d&&r(o,function(h){return o.add(null,h)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),By={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return SL(r)})},timeline:function(e){return new pi(e)},getTweensOf:function(e,t){return tn.getTweensOf(e,t)},getProperty:function(e,t,i,r){zn(e)&&(e=rs(e)[0]);var s=rl(e||{}).get,o=i?pL:fL;return i==="native"&&(i=""),e&&(t?o((pr[t]&&pr[t].get||s)(e,t,i,r)):function(a,l,c){return o((pr[a]&&pr[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,i){if(e=rs(e),e.length>1){var r=e.map(function(d){return Si.quickSetter(d,t,i)}),s=r.length;return function(d){for(var h=s;h--;)r[h](d)}}e=e[0]||{};var o=pr[t],a=rl(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(d){var h=new o;Fd._pt=0,h.init(e,i?d+i:d,Fd,0,[e]),h.render(1,h),Fd._pt&&xI(1,Fd)}:a.set(e,l);return o?c:function(d){return c(e,l,i?d+i:d,a,1)}},quickTo:function(e,t,i){var r,s=Si.to(e,Ac((r={},r[t]="+=0.1",r.paused=!0,r),i||{})),o=function(l,c,d){return s.resetTo(t,l,c,d)};return o.tween=s,o},isTweening:function(e){return tn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Tc(e.ease,Ld.ease)),ZF(Ld,e||{})},config:function(e){return ZF(_r,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!pr[a]&&!Mr[a]&&Mp(t+" effect requires "+a+" plugin.")}),YD[t]=function(a,l,c){return i(rs(a),ss(l||{},s),c)},o&&(pi.prototype[t]=function(a,l,c){return this.add(YD[t](a,oo(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){ct[e]=Tc(t)},parseEase:function(e,t){return arguments.length?Tc(e,t):ct},getById:function(e){return tn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new pi(e),r,s;for(i.smoothChildTiming=mr(e.smoothChildTiming),tn.remove(i),i._dp=0,i._time=i._tTime=tn._time,r=tn._first;r;)s=r._next,(t||!(!r._dur&&r instanceof bn&&r.vars.onComplete===r._targets[0]))&&so(i,r,r._start-r._delay),r=s;return so(tn,i,0),i},context:function(e,t){return e?new LL(e,t):Qt},matchMedia:function(e){return new kQ(e)},matchMediaRefresh:function(){return Sc.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||hI()},addEventListener:function(e,t){var i=Py[e]||(Py[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=Py[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:fQ,wrapYoyo:pQ,distribute:bL,random:CL,snap:EL,normalize:hQ,getUnit:gi,clamp:lQ,splitColor:AL,toArray:rs,selector:cI,mapRange:IL,pipe:uQ,unitize:dQ,interpolate:gQ,shuffle:wL},install:cL,effects:YD,ticker:gr,updateRoot:pi.updateRoot,plugins:pr,globalTimeline:tn,core:{PropTween:Hi,globals:uL,Tween:bn,Timeline:pi,Animation:Op,getCache:rl,_removeLinkedListItem:$y,reverting:function(){return Ii},context:function(e){return e&&Qt&&(Qt.data.push(e),e._ctx=Qt),Qt},suppressOverwrites:function(e){return fI=e}}};$i("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return By[n]=bn[n]});gr.add(pi.updateRoot);Fd=By.to({},{duration:0});var FQ=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},LQ=function(e,t){var i=e._targets,r,s,o;for(r in t)for(s=i.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=FQ(o,r)),o&&o.modifier&&o.modifier(t[r],e,i[s],r))},tI=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(zn(s)&&(l={},$i(s,function(d){return l[d]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}LQ(a,s)}}}},Si=By.registerPlugin({name:"attr",init:function(e,t,i,r,s){var o,a,l;this.tween=i;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)Ii?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},tI("roundProps",uI),tI("modifiers"),tI("snap",EL))||By;bn.version=pi.version=Si.version="3.12.5";lL=1;pI()&&jd();var VQ=ct.Power0,BQ=ct.Power1,jQ=ct.Power2,UQ=ct.Power3,$Q=ct.Power4,HQ=ct.Linear,zQ=ct.Quad,GQ=ct.Cubic,WQ=ct.Quart,qQ=ct.Quint,KQ=ct.Strong,QQ=ct.Elastic,YQ=ct.Back,JQ=ct.SteppedEase,ZQ=ct.Bounce,XQ=ct.Sine,eY=ct.Expo,tY=ct.Circ;var VL,al,Hd,LI,kc,nY,BL,VI,iY=function(){return typeof window<"u"},oa={},Pc=180/Math.PI,zd=Math.PI/180,$d=Math.atan2,jL=1e8,BI=/([A-Z])/g,rY=/(left|right|width|margin|padding|x)/i,sY=/[\s,\(]\S/,ao={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},OI=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},oY=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},aY=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},lY=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},qL=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},KL=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},cY=function(e,t,i){return e.style[t]=i},uY=function(e,t,i){return e.style.setProperty(t,i)},dY=function(e,t,i){return e._gsap[t]=i},hY=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},fY=function(e,t,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},pY=function(e,t,i,r,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},nn="transform",yr=nn+"Origin",gY=function n(e,t){var i=this,r=this.target,s=r.style,o=r._gsap;if(e in oa&&s){if(this.tfm=this.tfm||{},e!=="transform")e=ao[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=sa(r,a)}):this.tfm[e]=o.x?o[e]:sa(r,e),e===yr&&(this.tfm.zOrigin=o.zOrigin);else return ao.transform.split(",").forEach(function(a){return n.call(i,a,t)});if(this.props.indexOf(nn)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(yr,t,"")),e=nn}(s||t)&&this.props.push(e,t,s[e])},QL=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},mY=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(BI,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=VI(),(!s||!s.isStart)&&!i[nn]&&(QL(i),r.zOrigin&&i[yr]&&(i[yr]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},YL=function(e,t){var i={target:e,props:[],revert:mY,save:gY};return e._gsap||Si.core.getCache(e),t&&t.split(",").forEach(function(r){return i.save(r)}),i},JL,PI=function(e,t){var i=al.createElementNS?al.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):al.createElement(e);return i&&i.style?i:al.createElement(e)},lo=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(BI,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,Gd(t)||t,1)||""},UL="O,Moz,ms,Ms,Webkit".split(","),Gd=function(e,t,i){var r=t||kc,s=r.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(UL[o]+e in s););return o<0?null:(o===3?"ms":o>=0?UL[o]:"")+e},kI=function(){iY()&&window.document&&(VL=window,al=VL.document,Hd=al.documentElement,kc=PI("div")||{style:{}},nY=PI("div"),nn=Gd(nn),yr=nn+"Origin",kc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",JL=!!Gd("perspective"),VI=Si.core.reverting,LI=1)},RI=function n(e){var t=PI("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText,o;if(Hd.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),Hd.removeChild(t),this.style.cssText=s,o},$L=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},ZL=function(e){var t;try{t=e.getBBox()}catch{t=RI.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===RI||(t=RI.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+$L(e,["x","cx","x1"])||0,y:+$L(e,["y","cy","y1"])||0,width:0,height:0}:t},XL=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ZL(e))},Fc=function(e,t){if(t){var i=e.style,r;t in oa&&t!==yr&&(t=nn),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(BI,"-$1").toLowerCase())):i.removeAttribute(t)}},ll=function(e,t,i,r,s,o){var a=new Hi(e._pt,t,i,0,1,o?KL:qL);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},HL={deg:1,rad:1,turn:1},_Y={grid:1,flex:1},cl=function n(e,t,i,r){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=kc.style,l=rY.test(t),c=e.tagName.toLowerCase()==="svg",d=(c?"client":"offset")+(l?"Width":"Height"),h=100,f=r==="px",p=r==="%",y,_,w,A;if(r===o||!s||HL[r]||HL[o])return s;if(o!=="px"&&!f&&(s=n(e,t,i,"px")),A=e.getCTM&&XL(e),(p||o==="%")&&(oa[t]||~t.indexOf("adius")))return y=A?e.getBBox()[l?"width":"height"]:e[d],mn(p?s/y*h:s/100*y);if(a[l?"width":"height"]=h+(f?o:r),_=~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,A&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===al||!_.appendChild)&&(_=al.body),w=_._gsap,w&&p&&w.width&&l&&w.time===gr.time&&!w.uncache)return mn(s/w.width*h);if(p&&(t==="height"||t==="width")){var M=e.style[t];e.style[t]=h+r,y=e[d],M?e.style[t]=M:Fc(e,t)}else(p||o==="%")&&!_Y[lo(_,"display")]&&(a.position=lo(e,"position")),_===e&&(a.position="static"),_.appendChild(kc),y=kc[d],_.removeChild(kc),a.position="absolute";return l&&p&&(w=rl(_),w.time=gr.time,w.width=_[d]),mn(f?y*s/h:y&&s?h/y*s:0)},sa=function(e,t,i,r){var s;return LI||kI(),t in ao&&t!=="transform"&&(t=ao[t],~t.indexOf(",")&&(t=t.split(",")[0])),oa[t]&&t!=="transform"?(s=Lp(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:qy(lo(e,yr))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Wy[t]&&Wy[t](e,t,i)||lo(e,t)||bI(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?cl(e,t,s,i)+i:s},yY=function(e,t,i,r){if(!i||i==="none"){var s=Gd(t,e,1),o=s&&lo(e,s,1);o&&o!==i?(t=s,i=o):t==="borderColor"&&(i=lo(e,"borderTopColor"))}var a=new Hi(this._pt,e.style,t,0,1,AI),l=0,c=0,d,h,f,p,y,_,w,A,M,x,R,P;if(a.b=i,a.e=r,i+="",r+="",r==="auto"&&(_=e.style[t],e.style[t]=r,r=lo(e,t)||r,_?e.style[t]=_:Fc(e,t)),d=[i,r],EI(d),i=d[0],r=d[1],f=i.match(xc)||[],P=r.match(xc)||[],P.length){for(;h=xc.exec(r);)w=h[0],M=r.substring(l,h.index),y?y=(y+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(y=1),w!==(_=f[c++]||"")&&(p=parseFloat(_)||0,R=_.substr((p+"").length),w.charAt(1)==="="&&(w=Mc(p,w)+R),A=parseFloat(w),x=w.substr((A+"").length),l=xc.lastIndex-x.length,x||(x=x||_r.units[t]||R,l===r.length&&(r+=x,a.e+=x)),R!==x&&(p=cl(e,t,_,x)||0),a._pt={_next:a._pt,p:M||c===1?M:",",s:p,c:A-p,m:y&&y<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?KL:qL;return mI.test(r)&&(a.e=0),this._pt=a,a},zL={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},vY=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=zL[i]||i,t[1]=zL[r]||r,t.join(" ")},wY=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],oa[a]&&(l=1,a=a==="transformOrigin"?yr:nn),Fc(i,a);l&&(Fc(i,nn),o&&(o.svg&&i.removeAttribute("transform"),Lp(i,1),o.uncache=1,QL(r)))}},Wy={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var o=e._pt=new Hi(e._pt,t,i,0,0,wY);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},Fp=[1,0,0,1,0,0],eV={},tV=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},GL=function(e){var t=lo(e,nn);return tV(t)?Fp:t.substr(7).match(gI).map(mn)},jI=function(e,t){var i=e._gsap||rl(e),r=e.style,s=GL(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Fp:s):(s===Fp&&!e.offsetParent&&e!==Hd&&!i.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Hd.appendChild(e)),s=GL(e),l?r.display=l:Fc(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Hd.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},FI=function(e,t,i,r,s,o){var a=e._gsap,l=s||jI(e,!0),c=a.xOrigin||0,d=a.yOrigin||0,h=a.xOffset||0,f=a.yOffset||0,p=l[0],y=l[1],_=l[2],w=l[3],A=l[4],M=l[5],x=t.split(" "),R=parseFloat(x[0])||0,P=parseFloat(x[1])||0,N,C,b,v;i?l!==Fp&&(C=p*w-y*_)&&(b=R*(w/C)+P*(-_/C)+(_*M-w*A)/C,v=R*(-y/C)+P*(p/C)-(p*M-y*A)/C,R=b,P=v):(N=ZL(e),R=N.x+(~x[0].indexOf("%")?R/100*N.width:R),P=N.y+(~(x[1]||x[0]).indexOf("%")?P/100*N.height:P)),r||r!==!1&&a.smooth?(A=R-c,M=P-d,a.xOffset=h+(A*p+M*_)-A,a.yOffset=f+(A*y+M*w)-M):a.xOffset=a.yOffset=0,a.xOrigin=R,a.yOrigin=P,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!i,e.style[yr]="0px 0px",o&&(ll(o,a,"xOrigin",c,R),ll(o,a,"yOrigin",d,P),ll(o,a,"xOffset",h,a.xOffset),ll(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",R+" "+P)},Lp=function(e,t){var i=e._gsap||new CI(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=lo(e,yr)||"0",d,h,f,p,y,_,w,A,M,x,R,P,N,C,b,v,E,S,I,T,le,ve,Ee,ae,Me,mt,O,Ke,et,ze,ot,Ve;return d=h=f=_=w=A=M=x=R=0,p=y=1,i.svg=!!(e.getCTM&&XL(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[nn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[nn]!=="none"?l[nn]:"")),r.scale=r.rotate=r.translate="none"),C=jI(e,i.svg),i.svg&&(i.uncache?(Me=e.getBBox(),c=i.xOrigin-Me.x+"px "+(i.yOrigin-Me.y)+"px",ae=""):ae=!t&&e.getAttribute("data-svg-origin"),FI(e,ae||c,!!ae||i.originIsAbsolute,i.smooth!==!1,C)),P=i.xOrigin||0,N=i.yOrigin||0,C!==Fp&&(S=C[0],I=C[1],T=C[2],le=C[3],d=ve=C[4],h=Ee=C[5],C.length===6?(p=Math.sqrt(S*S+I*I),y=Math.sqrt(le*le+T*T),_=S||I?$d(I,S)*Pc:0,M=T||le?$d(T,le)*Pc+_:0,M&&(y*=Math.abs(Math.cos(M*zd))),i.svg&&(d-=P-(P*S+N*T),h-=N-(P*I+N*le))):(Ve=C[6],ze=C[7],O=C[8],Ke=C[9],et=C[10],ot=C[11],d=C[12],h=C[13],f=C[14],b=$d(Ve,et),w=b*Pc,b&&(v=Math.cos(-b),E=Math.sin(-b),ae=ve*v+O*E,Me=Ee*v+Ke*E,mt=Ve*v+et*E,O=ve*-E+O*v,Ke=Ee*-E+Ke*v,et=Ve*-E+et*v,ot=ze*-E+ot*v,ve=ae,Ee=Me,Ve=mt),b=$d(-T,et),A=b*Pc,b&&(v=Math.cos(-b),E=Math.sin(-b),ae=S*v-O*E,Me=I*v-Ke*E,mt=T*v-et*E,ot=le*E+ot*v,S=ae,I=Me,T=mt),b=$d(I,S),_=b*Pc,b&&(v=Math.cos(b),E=Math.sin(b),ae=S*v+I*E,Me=ve*v+Ee*E,I=I*v-S*E,Ee=Ee*v-ve*E,S=ae,ve=Me),w&&Math.abs(w)+Math.abs(_)>359.9&&(w=_=0,A=180-A),p=mn(Math.sqrt(S*S+I*I+T*T)),y=mn(Math.sqrt(Ee*Ee+Ve*Ve)),b=$d(ve,Ee),M=Math.abs(b)>2e-4?b*Pc:0,R=ot?1/(ot<0?-ot:ot):0),i.svg&&(ae=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!tV(lo(e,nn)),ae&&e.setAttribute("transform",ae))),Math.abs(M)>90&&Math.abs(M)<270&&(s?(p*=-1,M+=_<=0?180:-180,_+=_<=0?180:-180):(y*=-1,M+=M<=0?180:-180)),t=t||i.uncache,i.x=d-((i.xPercent=d&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=h-((i.yPercent=h&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=f+o,i.scaleX=mn(p),i.scaleY=mn(y),i.rotation=mn(_)+a,i.rotationX=mn(w)+a,i.rotationY=mn(A)+a,i.skewX=M+a,i.skewY=x+a,i.transformPerspective=R+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!t&&i.zOrigin||0)&&(r[yr]=qy(c)),i.xOffset=i.yOffset=0,i.force3D=_r.force3D,i.renderTransform=i.svg?EY:JL?nV:bY,i.uncache=0,i},qy=function(e){return(e=e.split(" "))[0]+" "+e[1]},NI=function(e,t,i){var r=gi(t);return mn(parseFloat(t)+parseFloat(cl(e,"x",i+"px",r)))+r},bY=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,nV(e,t)},Nc="0deg",kp="0px",Oc=") ",nV=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,d=i.rotationY,h=i.rotationX,f=i.skewX,p=i.skewY,y=i.scaleX,_=i.scaleY,w=i.transformPerspective,A=i.force3D,M=i.target,x=i.zOrigin,R="",P=A==="auto"&&e&&e!==1||A===!0;if(x&&(h!==Nc||d!==Nc)){var N=parseFloat(d)*zd,C=Math.sin(N),b=Math.cos(N),v;N=parseFloat(h)*zd,v=Math.cos(N),o=NI(M,o,C*v*-x),a=NI(M,a,-Math.sin(N)*-x),l=NI(M,l,b*v*-x+x)}w!==kp&&(R+="perspective("+w+Oc),(r||s)&&(R+="translate("+r+"%, "+s+"%) "),(P||o!==kp||a!==kp||l!==kp)&&(R+=l!==kp||P?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Oc),c!==Nc&&(R+="rotate("+c+Oc),d!==Nc&&(R+="rotateY("+d+Oc),h!==Nc&&(R+="rotateX("+h+Oc),(f!==Nc||p!==Nc)&&(R+="skew("+f+", "+p+Oc),(y!==1||_!==1)&&(R+="scale("+y+", "+_+Oc),M.style[nn]=R||"translate(0, 0)"},EY=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,d=i.skewY,h=i.scaleX,f=i.scaleY,p=i.target,y=i.xOrigin,_=i.yOrigin,w=i.xOffset,A=i.yOffset,M=i.forceCSS,x=parseFloat(o),R=parseFloat(a),P,N,C,b,v;l=parseFloat(l),c=parseFloat(c),d=parseFloat(d),d&&(d=parseFloat(d),c+=d,l+=d),l||c?(l*=zd,c*=zd,P=Math.cos(l)*h,N=Math.sin(l)*h,C=Math.sin(l-c)*-f,b=Math.cos(l-c)*f,c&&(d*=zd,v=Math.tan(c-d),v=Math.sqrt(1+v*v),C*=v,b*=v,d&&(v=Math.tan(d),v=Math.sqrt(1+v*v),P*=v,N*=v)),P=mn(P),N=mn(N),C=mn(C),b=mn(b)):(P=h,b=f,N=C=0),(x&&!~(o+"").indexOf("px")||R&&!~(a+"").indexOf("px"))&&(x=cl(p,"x",o,"px"),R=cl(p,"y",a,"px")),(y||_||w||A)&&(x=mn(x+y-(y*P+_*C)+w),R=mn(R+_-(y*N+_*b)+A)),(r||s)&&(v=p.getBBox(),x=mn(x+r/100*v.width),R=mn(R+s/100*v.height)),v="matrix("+P+","+N+","+C+","+b+","+x+","+R+")",p.setAttribute("transform",v),M&&(p.style[nn]=v)},CY=function(e,t,i,r,s){var o=360,a=zn(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Pc:1),c=l-r,d=r+c+"deg",h,f;return a&&(h=s.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),h==="cw"&&c<0?c=(c+o*jL)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*jL)%o-~~(c/o)*o)),e._pt=f=new Hi(e._pt,t,i,r,c,oY),f.e=d,f.u="deg",e._props.push(i),f},WL=function(e,t){for(var i in t)e[i]=t[i];return e},DY=function(e,t,i){var r=WL({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,d,h,f,p,y;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[nn]=t,a=Lp(i,1),Fc(i,nn),i.setAttribute("transform",c)):(c=getComputedStyle(i)[nn],o[nn]=t,a=Lp(i,1),o[nn]=c);for(l in oa)c=r[l],d=a[l],c!==d&&s.indexOf(l)<0&&(p=gi(c),y=gi(d),h=p!==y?cl(i,l,c,y):parseFloat(c),f=parseFloat(d),e._pt=new Hi(e._pt,a,l,h,f-h,OI),e._pt.u=y||0,e._props.push(l));WL(a,r)};$i("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",o=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(a){return e<2?n+a:"border"+a+n});Wy[e>1?"border"+n:n]=function(a,l,c,d,h){var f,p;if(arguments.length<4)return f=o.map(function(y){return sa(a,y,c)}),p=f.join(" "),p.split(f[0]).length===5?f[0]:p;f=(d+"").split(" "),p={},o.forEach(function(y,_){return p[y]=f[_]=f[_]||f[(_-1)/2|0]}),a.init(l,p,h)}});var UI={name:"css",register:kI,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var o=this._props,a=e.style,l=i.vars.startAt,c,d,h,f,p,y,_,w,A,M,x,R,P,N,C,b;LI||kI(),this.styles=this.styles||YL(e),b=this.styles.props,this.tween=i;for(_ in t)if(_!=="autoRound"&&(d=t[_],!(pr[_]&&II(_,t,i,r,e,s)))){if(p=typeof d,y=Wy[_],p==="function"&&(d=d.call(i,r,e,s),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=Ud(d)),y)y(this,e,_,d,i)&&(C=1);else if(_.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(_)+"").trim(),d+="",ia.lastIndex=0,ia.test(c)||(w=gi(c),A=gi(d)),A?w!==A&&(c=cl(e,_,c,A)+A):w&&(d+=w),this.add(a,"setProperty",c,d,r,s,0,0,_),o.push(_),b.push(_,0,a[_]);else if(p!=="undefined"){if(l&&_ in l?(c=typeof l[_]=="function"?l[_].call(i,r,e,s):l[_],zn(c)&&~c.indexOf("random(")&&(c=Ud(c)),gi(c+"")||c==="auto"||(c+=_r.units[_]||gi(sa(e,_))||""),(c+"").charAt(1)==="="&&(c=sa(e,_))):c=sa(e,_),f=parseFloat(c),M=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),M&&(d=d.substr(2)),h=parseFloat(d),_ in ao&&(_==="autoAlpha"&&(f===1&&sa(e,"visibility")==="hidden"&&h&&(f=0),b.push("visibility",0,a.visibility),ll(this,a,"visibility",f?"inherit":"hidden",h?"inherit":"hidden",!h)),_!=="scale"&&_!=="transform"&&(_=ao[_],~_.indexOf(",")&&(_=_.split(",")[0]))),x=_ in oa,x){if(this.styles.save(_),R||(P=e._gsap,P.renderTransform&&!t.parseTransform||Lp(e,t.parseTransform),N=t.smoothOrigin!==!1&&P.smooth,R=this._pt=new Hi(this._pt,a,nn,0,1,P.renderTransform,P,0,-1),R.dep=1),_==="scale")this._pt=new Hi(this._pt,P,"scaleY",P.scaleY,(M?Mc(P.scaleY,M+h):h)-P.scaleY||0,OI),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){b.push(yr,0,a[yr]),d=vY(d),P.svg?FI(e,d,0,N,0,this):(A=parseFloat(d.split(" ")[2])||0,A!==P.zOrigin&&ll(this,P,"zOrigin",P.zOrigin,A),ll(this,a,_,qy(c),qy(d)));continue}else if(_==="svgOrigin"){FI(e,d,1,N,0,this);continue}else if(_ in eV){CY(this,P,_,f,M?Mc(f,M+d):d);continue}else if(_==="smoothOrigin"){ll(this,P,"smooth",P.smooth,d);continue}else if(_==="force3D"){P[_]=d;continue}else if(_==="transform"){DY(this,d,e);continue}}else _ in a||(_=Gd(_)||_);if(x||(h||h===0)&&(f||f===0)&&!sY.test(d)&&_ in a)w=(c+"").substr((f+"").length),h||(h=0),A=gi(d)||(_ in _r.units?_r.units[_]:w),w!==A&&(f=cl(e,_,c,A)),this._pt=new Hi(this._pt,x?P:a,_,f,(M?Mc(f,M+h):h)-f,!x&&(A==="px"||_==="zIndex")&&t.autoRound!==!1?lY:OI),this._pt.u=A||0,w!==A&&A!=="%"&&(this._pt.b=c,this._pt.r=aY);else if(_ in a)yY.call(this,e,_,c,M?M+d:d);else if(_ in e)this.add(e,_,c||e[_],M?M+d:d,r,s);else if(_!=="parseTransform"){Uy(_,d);continue}x||(_ in a?b.push(_,0,a[_]):b.push(_,1,c||e[_])),o.push(_)}}C&&MI(this)},render:function(e,t){if(t.tween._time||!VI())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:sa,aliases:ao,getSetter:function(e,t,i){var r=ao[t];return r&&r.indexOf(",")<0&&(t=r),t in oa&&t!==yr&&(e._gsap.x||sa(e,"x"))?i&&BL===i?t==="scale"?hY:dY:(BL=i||{})&&(t==="scale"?fY:pY):e.style&&!jy(e.style[t])?cY:~t.indexOf("-")?uY:Gy(e,t)},core:{_removeProperty:Fc,_getMatrix:jI}};Si.utils.checkPrefix=Gd;Si.core.getStyleSaver=YL;(function(n,e,t,i){var r=$i(n+","+e+","+t,function(s){oa[s]=1});$i(e,function(s){_r.units[s]="deg",eV[s]=1}),ao[r[13]]=n+","+e,$i(i,function(s){var o=s.split(":");ao[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$i("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){_r.units[n]="px"});Si.registerPlugin(UI);var Vp=Si.registerPlugin(UI)||Si,Afe=Vp.core.Tween;function iV(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function IY(n,e,t){return e&&iV(n.prototype,e),t&&iV(n,t),n}var mi,Yy,TY,Rr,ul,dl,qd,sV,Lc,jp,oV,aa,Ms,aV,lV=function(){return mi||typeof window<"u"&&(mi=window.gsap)&&mi.registerPlugin&&mi},cV=1,Wd=[],Ye=[],Rs=[],Up=Date.now,$I=function(e,t){return t},SY=function(){var e=jp.core,t=e.bridge||{},i=e._scrollers,r=e._proxies;i.push.apply(i,Ye),r.push.apply(r,Rs),Ye=i,Rs=r,$I=function(o,a){return t[o](a)}},ca=function(e,t){return~Rs.indexOf(e)&&Rs[Rs.indexOf(e)+1][t]},$p=function(e){return!!~oV.indexOf(e)},Gi=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:r!==!1,capture:!!s})},zi=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},Ky="scrollLeft",Qy="scrollTop",HI=function(){return aa&&aa.isPressed||Ye.cache++},Jy=function(e,t){var i=function r(s){if(s||s===0){cV&&(Rr.history.scrollRestoration="manual");var o=aa&&aa.isPressed;s=r.v=Math.round(s)||(aa&&aa.iOS?1:0),e(s),r.cacheID=Ye.cache,o&&$I("ss",s)}else(t||Ye.cache!==r.cacheID||$I("ref"))&&(r.cacheID=Ye.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},Ai={s:Ky,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Jy(function(n){return arguments.length?Rr.scrollTo(n,On.sc()):Rr.pageXOffset||ul[Ky]||dl[Ky]||qd[Ky]||0})},On={s:Qy,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ai,sc:Jy(function(n){return arguments.length?Rr.scrollTo(Ai.sc(),n):Rr.pageYOffset||ul[Qy]||dl[Qy]||qd[Qy]||0})},Wi=function(e,t){return(t&&t._ctx&&t._ctx.selector||mi.utils.toArray)(e)[0]||(typeof e=="string"&&mi.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},la=function(e,t){var i=t.s,r=t.sc;$p(e)&&(e=ul.scrollingElement||dl);var s=Ye.indexOf(e),o=r===On.sc?1:2;!~s&&(s=Ye.push(e)-1),Ye[s+o]||Gi(e,"scroll",HI);var a=Ye[s+o],l=a||(Ye[s+o]=Jy(ca(e,i),!0)||($p(e)?r:Jy(function(c){return arguments.length?e[i]=c:e[i]})));return l.target=e,a||(l.smooth=mi.getProperty(e,"scrollBehavior")==="smooth"),l},Zy=function(e,t,i){var r=e,s=e,o=Up(),a=o,l=t||50,c=Math.max(500,l*3),d=function(y,_){var w=Up();_||w-o>l?(s=r,r=y,a=o,o=w):i?r+=y:r=s+(y-s)/(w-a)*(o-a)},h=function(){s=r=i?0:r,a=o=0},f=function(y){var _=a,w=s,A=Up();return(y||y===0)&&y!==r&&d(y),o===a||A-a>c?0:(r+(i?w:-w))/((i?A:o)-_)*1e3};return{update:d,reset:h,getVelocity:f}},Bp=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},rV=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},uV=function(){jp=mi.core.globals().ScrollTrigger,jp&&jp.core&&SY()},dV=function(e){return mi=e||lV(),!Yy&&mi&&typeof document<"u"&&document.body&&(Rr=window,ul=document,dl=ul.documentElement,qd=ul.body,oV=[Rr,ul,dl,qd],TY=mi.utils.clamp,aV=mi.core.context||function(){},Lc="onpointerenter"in qd?"pointer":"mouse",sV=_n.isTouch=Rr.matchMedia&&Rr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Rr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ms=_n.eventTypes=("ontouchstart"in dl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in dl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return cV=0},500),uV(),Yy=1),Yy};Ai.op=On;Ye.cache=0;var _n=function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(i){Yy||dV(mi)||console.warn("Please gsap.registerPlugin(Observer)"),jp||uV();var r=i.tolerance,s=i.dragMinimum,o=i.type,a=i.target,l=i.lineHeight,c=i.debounce,d=i.preventDefault,h=i.onStop,f=i.onStopDelay,p=i.ignore,y=i.wheelSpeed,_=i.event,w=i.onDragStart,A=i.onDragEnd,M=i.onDrag,x=i.onPress,R=i.onRelease,P=i.onRight,N=i.onLeft,C=i.onUp,b=i.onDown,v=i.onChangeX,E=i.onChangeY,S=i.onChange,I=i.onToggleX,T=i.onToggleY,le=i.onHover,ve=i.onHoverEnd,Ee=i.onMove,ae=i.ignoreCheck,Me=i.isNormalizer,mt=i.onGestureStart,O=i.onGestureEnd,Ke=i.onWheel,et=i.onEnable,ze=i.onDisable,ot=i.onClick,Ve=i.scrollSpeed,tt=i.capture,$e=i.allowClicks,Vt=i.lockAxis,Rt=i.onLockAxis;this.target=a=Wi(a)||dl,this.vars=i,p&&(p=mi.utils.toArray(p)),r=r||1e-9,s=s||0,y=y||1,Ve=Ve||1,o=o||"wheel,touch,pointer",c=c!==!1,l||(l=parseFloat(Rr.getComputedStyle(qd).lineHeight)||22);var Zt,Te,Se,_e,dt,vn,vi,$=this,Pi=0,jr=0,gs=i.passive||!d,Gt=la(a,Ai),ms=la(a,On),So=Gt(),Us=ms(),ln=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Ms[0]==="pointerdown",Ur=$p(a),Qe=a.ownerDocument||ul,Nt=[0,0,0],ai=[0,0,0],$r=0,Ia=function(){return $r=Up()},cn=function(fe,ht){return($.event=fe)&&p&&~p.indexOf(fe.target)||ht&&ln&&fe.pointerType!=="touch"||ae&&ae(fe,ht)},$s=function(){$._vx.reset(),$._vy.reset(),Te.pause(),h&&h($)},_s=function(){var fe=$.deltaX=rV(Nt),ht=$.deltaY=rV(ai),Y=Math.abs(fe)>=r,Ie=Math.abs(ht)>=r;S&&(Y||Ie)&&S($,fe,ht,Nt,ai),Y&&(P&&$.deltaX>0&&P($),N&&$.deltaX<0&&N($),v&&v($),I&&$.deltaX<0!=Pi<0&&I($),Pi=$.deltaX,Nt[0]=Nt[1]=Nt[2]=0),Ie&&(b&&$.deltaY>0&&b($),C&&$.deltaY<0&&C($),E&&E($),T&&$.deltaY<0!=jr<0&&T($),jr=$.deltaY,ai[0]=ai[1]=ai[2]=0),(_e||Se)&&(Ee&&Ee($),Se&&(M($),Se=!1),_e=!1),vn&&!(vn=!1)&&Rt&&Rt($),dt&&(Ke($),dt=!1),Zt=0},Ao=function(fe,ht,Y){Nt[Y]+=fe,ai[Y]+=ht,$._vx.update(fe),$._vy.update(ht),c?Zt||(Zt=requestAnimationFrame(_s)):_s()},Hs=function(fe,ht){Vt&&!vi&&($.axis=vi=Math.abs(fe)>Math.abs(ht)?"x":"y",vn=!0),vi!=="y"&&(Nt[2]+=fe,$._vx.update(fe,!0)),vi!=="x"&&(ai[2]+=ht,$._vy.update(ht,!0)),c?Zt||(Zt=requestAnimationFrame(_s)):_s()},zs=function(fe){if(!cn(fe,1)){fe=Bp(fe,d);var ht=fe.clientX,Y=fe.clientY,Ie=ht-$.x,ce=Y-$.y,we=$.isDragging;$.x=ht,$.y=Y,(we||Math.abs($.startX-ht)>=s||Math.abs($.startY-Y)>=s)&&(M&&(Se=!0),we||($.isDragging=!0),Hs(Ie,ce),we||w&&w($))}},xo=$.onPress=function(De){cn(De,1)||De&&De.button||($.axis=vi=null,Te.pause(),$.isPressed=!0,De=Bp(De),Pi=jr=0,$.startX=$.x=De.clientX,$.startY=$.y=De.clientY,$._vx.reset(),$._vy.reset(),Gi(Me?a:Qe,Ms[1],zs,gs,!0),$.deltaX=$.deltaY=0,x&&x($))},Be=$.onRelease=function(De){if(!cn(De,1)){zi(Me?a:Qe,Ms[1],zs,!0);var fe=!isNaN($.y-$.startY),ht=$.isDragging,Y=ht&&(Math.abs($.x-$.startX)>3||Math.abs($.y-$.startY)>3),Ie=Bp(De);!Y&&fe&&($._vx.reset(),$._vy.reset(),d&&$e&&mi.delayedCall(.08,function(){if(Up()-$r>300&&!De.defaultPrevented){if(De.target.click)De.target.click();else if(Qe.createEvent){var ce=Qe.createEvent("MouseEvents");ce.initMouseEvent("click",!0,!0,Rr,1,Ie.screenX,Ie.screenY,Ie.clientX,Ie.clientY,!1,!1,!1,!1,0,null),De.target.dispatchEvent(ce)}}})),$.isDragging=$.isGesturing=$.isPressed=!1,h&&ht&&!Me&&Te.restart(!0),A&&ht&&A($),R&&R($,Y)}},Gs=function(fe){return fe.touches&&fe.touches.length>1&&($.isGesturing=!0)&&mt(fe,$.isDragging)},ir=function(){return($.isGesturing=!1)||O($)},li=function(fe){if(!cn(fe)){var ht=Gt(),Y=ms();Ao((ht-So)*Ve,(Y-Us)*Ve,1),So=ht,Us=Y,h&&Te.restart(!0)}},ki=function(fe){if(!cn(fe)){fe=Bp(fe,d),Ke&&(dt=!0);var ht=(fe.deltaMode===1?l:fe.deltaMode===2?Rr.innerHeight:1)*y;Ao(fe.deltaX*ht,fe.deltaY*ht,0),h&&!Me&&Te.restart(!0)}},ys=function(fe){if(!cn(fe)){var ht=fe.clientX,Y=fe.clientY,Ie=ht-$.x,ce=Y-$.y;$.x=ht,$.y=Y,_e=!0,h&&Te.restart(!0),(Ie||ce)&&Hs(Ie,ce)}},rr=function(fe){$.event=fe,le($)},Hr=function(fe){$.event=fe,ve($)},Ws=function(fe){return cn(fe)||Bp(fe,d)&&ot($)};Te=$._dc=mi.delayedCall(f||.25,$s).pause(),$.deltaX=$.deltaY=0,$._vx=Zy(0,50,!0),$._vy=Zy(0,50,!0),$.scrollX=Gt,$.scrollY=ms,$.isDragging=$.isGesturing=$.isPressed=!1,aV(this),$.enable=function(De){return $.isEnabled||(Gi(Ur?Qe:a,"scroll",HI),o.indexOf("scroll")>=0&&Gi(Ur?Qe:a,"scroll",li,gs,tt),o.indexOf("wheel")>=0&&Gi(a,"wheel",ki,gs,tt),(o.indexOf("touch")>=0&&sV||o.indexOf("pointer")>=0)&&(Gi(a,Ms[0],xo,gs,tt),Gi(Qe,Ms[2],Be),Gi(Qe,Ms[3],Be),$e&&Gi(a,"click",Ia,!0,!0),ot&&Gi(a,"click",Ws),mt&&Gi(Qe,"gesturestart",Gs),O&&Gi(Qe,"gestureend",ir),le&&Gi(a,Lc+"enter",rr),ve&&Gi(a,Lc+"leave",Hr),Ee&&Gi(a,Lc+"move",ys)),$.isEnabled=!0,De&&De.type&&xo(De),et&&et($)),$},$.disable=function(){$.isEnabled&&(Wd.filter(function(De){return De!==$&&$p(De.target)}).length||zi(Ur?Qe:a,"scroll",HI),$.isPressed&&($._vx.reset(),$._vy.reset(),zi(Me?a:Qe,Ms[1],zs,!0)),zi(Ur?Qe:a,"scroll",li,tt),zi(a,"wheel",ki,tt),zi(a,Ms[0],xo,tt),zi(Qe,Ms[2],Be),zi(Qe,Ms[3],Be),zi(a,"click",Ia,!0),zi(a,"click",Ws),zi(Qe,"gesturestart",Gs),zi(Qe,"gestureend",ir),zi(a,Lc+"enter",rr),zi(a,Lc+"leave",Hr),zi(a,Lc+"move",ys),$.isEnabled=$.isPressed=$.isDragging=!1,ze&&ze($))},$.kill=$.revert=function(){$.disable();var De=Wd.indexOf($);De>=0&&Wd.splice(De,1),aa===$&&(aa=0)},Wd.push($),Me&&$p(a)&&(aa=$),$.enable(_)},IY(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();_n.version="3.12.5";_n.create=function(n){return new _n(n)};_n.register=dV;_n.getAll=function(){return Wd.slice()};_n.getById=function(n){return Wd.filter(function(e){return e.vars.id===n})[0]};lV()&&mi.registerPlugin(_n);var re,Yd,ut,rn,Ns,Ht,xV,pv,tg,Qp,zp,Xy,xi,yv,JI,Ki,hV,fV,Jd,MV,zI,RV,qi,ZI,NV,OV,hl,XI,rT,Zd,sT,gv,eT,GI,ev=1,Mi=Date.now,WI=Mi(),ls=0,Gp=0,pV=function(e,t,i){var r=Or(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},gV=function(e,t){return t&&(!Or(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},AY=function n(){return Gp&&requestAnimationFrame(n)},mV=function(){return yv=1},_V=function(){return yv=0},co=function(e){return e},Wp=function(e){return Math.round(e*1e5)/1e5||0},PV=function(){return typeof window<"u"},kV=function(){return re||PV()&&(re=window.gsap)&&re.registerPlugin&&re},Hc=function(e){return!!~xV.indexOf(e)},FV=function(e){return(e==="Height"?sT:ut["inner"+e])||Ns["client"+e]||Ht["client"+e]},LV=function(e){return ca(e,"getBoundingClientRect")||(Hc(e)?function(){return fv.width=ut.innerWidth,fv.height=sT,fv}:function(){return ua(e)})},xY=function(e,t,i){var r=i.d,s=i.d2,o=i.a;return(o=ca(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?FV(s):e["client"+s])||0}},MY=function(e,t){return!t||~Rs.indexOf(e)?LV(e):function(){return fv}},uo=function(e,t){var i=t.s,r=t.d2,s=t.d,o=t.a;return Math.max(0,(i="scroll"+r)&&(o=ca(e,i))?o()-LV(e)()[s]:Hc(e)?(Ns[i]||Ht[i])-FV(r):e[i]-e["offset"+r])},tv=function(e,t){for(var i=0;i<Jd.length;i+=3)(!t||~t.indexOf(Jd[i+1]))&&e(Jd[i],Jd[i+1],Jd[i+2])},Or=function(e){return typeof e=="string"},Yi=function(e){return typeof e=="function"},qp=function(e){return typeof e=="number"},Vc=function(e){return typeof e=="object"},Hp=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},qI=function(e,t){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return t(e)}):t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},Kd=Math.abs,VV="left",BV="top",oT="right",aT="bottom",jc="width",Uc="height",Yp="Right",Jp="Left",Zp="Top",Xp="Bottom",Pn="padding",os="margin",eh="Width",lT="Height",Gn="px",as=function(e){return ut.getComputedStyle(e)},RY=function(e){var t=as(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},yV=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},ua=function(e,t){var i=t&&as(e)[JI]!=="matrix(1, 0, 0, 1, 0, 0)"&&re.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},mv=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},jV=function(e){var t=[],i=e.labels,r=e.duration(),s;for(s in i)t.push(i[s]/r);return t},NY=function(e){return function(t){return re.utils.snap(jV(e),t)}},cT=function(e){var t=re.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return i?function(r,s,o){o===void 0&&(o=.001);var a;if(!s)return t(r);if(s>0){for(r-=o,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}else for(a=i.length,r+=o;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,s,o){o===void 0&&(o=.001);var a=t(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:t(s<0?r-e:r+e)}},OY=function(e){return function(t,i){return cT(jV(e))(t,i.direction)}},nv=function(e,t,i,r){return i.split(",").forEach(function(s){return e(t,s,r)})},ri=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},ii=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},iv=function(e,t,i){i=i&&i.wheelHandler,i&&(e(t,"wheel",i),e(t,"touchmove",i))},vV={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},rv={toggleActions:"play",anticipatePin:0},_v={top:0,left:0,center:.5,bottom:1,right:1},cv=function(e,t){if(Or(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=t/100),e=e.substr(0,i-1)),e=r+(e in _v?_v[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},sv=function(e,t,i,r,s,o,a,l){var c=s.startColor,d=s.endColor,h=s.fontSize,f=s.indent,p=s.fontWeight,y=rn.createElement("div"),_=Hc(i)||ca(i,"pinType")==="fixed",w=e.indexOf("scroller")!==-1,A=_?Ht:i,M=e.indexOf("start")!==-1,x=M?c:d,R="border-color:"+x+";font-size:"+h+";color:"+x+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return R+="position:"+((w||l)&&_?"fixed;":"absolute;"),(w||l||!_)&&(R+=(r===On?oT:aT)+":"+(o+parseFloat(f))+"px;"),a&&(R+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),y._isStart=M,y.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),y.style.cssText=R,y.innerText=t||t===0?e+"-"+t:e,A.children[0]?A.insertBefore(y,A.children[0]):A.appendChild(y),y._offset=y["offset"+r.op.d2],uv(y,0,r,M),y},uv=function(e,t,i,r){var s={display:"block"},o=i[r?"os2":"p2"],a=i[r?"p2":"os2"];e._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+o+eh]=1,s["border"+a+eh]=0,s[i.p]=t+"px",re.set(e,s)},Je=[],tT={},ng,wV=function(){return Mi()-ls>34&&(ng||(ng=requestAnimationFrame(da)))},Qd=function(){(!qi||!qi.isPressed||qi.startX>Ht.clientWidth)&&(Ye.cache++,qi?ng||(ng=requestAnimationFrame(da)):da(),ls||Gc("scrollStart"),ls=Mi())},KI=function(){OV=ut.innerWidth,NV=ut.innerHeight},Kp=function(){Ye.cache++,!xi&&!RV&&!rn.fullscreenElement&&!rn.webkitFullscreenElement&&(!ZI||OV!==ut.innerWidth||Math.abs(ut.innerHeight-NV)>ut.innerHeight*.25)&&pv.restart(!0)},zc={},PY=[],UV=function n(){return ii(Ze,"scrollEnd",n)||Bc(!0)},Gc=function(e){return zc[e]&&zc[e].map(function(t){return t()})||PY},Nr=[],$V=function(e){for(var t=0;t<Nr.length;t+=5)(!e||Nr[t+4]&&Nr[t+4].query===e)&&(Nr[t].style.cssText=Nr[t+1],Nr[t].getBBox&&Nr[t].setAttribute("transform",Nr[t+2]||""),Nr[t+3].uncache=1)},uT=function(e,t){var i;for(Ki=0;Ki<Je.length;Ki++)i=Je[Ki],i&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));gv=!0,t&&$V(t),t||Gc("revert")},HV=function(e,t){Ye.cache++,(t||!Qi)&&Ye.forEach(function(i){return Yi(i)&&i.cacheID++&&(i.rec=0)}),Or(e)&&(ut.history.scrollRestoration=rT=e)},Qi,$c=0,bV,kY=function(){if(bV!==$c){var e=bV=$c;requestAnimationFrame(function(){return e===$c&&Bc(!0)})}},zV=function(){Ht.appendChild(Zd),sT=!qi&&Zd.offsetHeight||ut.innerHeight,Ht.removeChild(Zd)},EV=function(e){return tg(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Bc=function(e,t){if(ls&&!e&&!gv){ri(Ze,"scrollEnd",UV);return}zV(),Qi=Ze.isRefreshing=!0,Ye.forEach(function(r){return Yi(r)&&++r.cacheID&&(r.rec=r())});var i=Gc("refreshInit");MV&&Ze.sort(),t||uT(),Ye.forEach(function(r){Yi(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),Je.slice(0).forEach(function(r){return r.refresh()}),gv=!1,Je.forEach(function(r){if(r._subPinOffset&&r.pin){var s=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[s];r.revert(!0,1),r.adjustPinSpacing(r.pin[s]-o),r.refresh()}}),eT=1,EV(!0),Je.forEach(function(r){var s=uo(r.scroller,r._dir),o=r.vars.end==="max"||r._endClamp&&r.end>s,a=r._startClamp&&r.start>=s;(o||a)&&r.setPositions(a?s-1:r.start,o?Math.max(a?s:r.start+1,s):r.end,!0)}),EV(!1),eT=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),Ye.forEach(function(r){Yi(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),HV(rT,1),pv.pause(),$c++,Qi=2,da(2),Je.forEach(function(r){return Yi(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Qi=Ze.isRefreshing=!1,Gc("refresh")},nT=0,dv=1,eg,da=function(e){if(e===2||!Qi&&!gv){Ze.isUpdating=!0,eg&&eg.update(0);var t=Je.length,i=Mi(),r=i-WI>=50,s=t&&Je[0].scroll();if(dv=nT>s?-1:1,Qi||(nT=s),r&&(ls&&!yv&&i-ls>200&&(ls=0,Gc("scrollEnd")),zp=WI,WI=i),dv<0){for(Ki=t;Ki-- >0;)Je[Ki]&&Je[Ki].update(0,r);dv=1}else for(Ki=0;Ki<t;Ki++)Je[Ki]&&Je[Ki].update(0,r);Ze.isUpdating=!1}ng=0},iT=[VV,BV,aT,oT,os+Xp,os+Yp,os+Zp,os+Jp,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],hv=iT.concat([jc,Uc,"boxSizing","max"+eh,"max"+lT,"position",os,Pn,Pn+Zp,Pn+Yp,Pn+Xp,Pn+Jp]),FY=function(e,t,i){Xd(i);var r=e._gsap;if(r.spacerIsNative)Xd(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},QI=function(e,t,i,r){if(!e._gsap.swappedIn){for(var s=iT.length,o=t.style,a=e.style,l;s--;)l=iT[s],o[l]=i[l];o.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(o.display="inline-block"),a[aT]=a[oT]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[jc]=mv(e,Ai)+Gn,o[Uc]=mv(e,On)+Gn,o[Pn]=a[os]=a[BV]=a[VV]="0",Xd(r),a[jc]=a["max"+eh]=i[jc],a[Uc]=a["max"+lT]=i[Uc],a[Pn]=i[Pn],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},LY=/([A-Z])/g,Xd=function(e){if(e){var t=e.t.style,i=e.length,r=0,s,o;for((e.t._gsap||re.core.getCache(e.t)).uncache=1;r<i;r+=2)o=e[r+1],s=e[r],o?t[s]=o:t[s]&&t.removeProperty(s.replace(LY,"-$1").toLowerCase())}},ov=function(e){for(var t=hv.length,i=e.style,r=[],s=0;s<t;s++)r.push(hv[s],i[hv[s]]);return r.t=e,r},VY=function(e,t,i){for(var r=[],s=e.length,o=i?8:0,a;o<s;o+=2)a=e[o],r.push(a,a in t?t[a]:e[o+1]);return r.t=e.t,r},fv={left:0,top:0},CV=function(e,t,i,r,s,o,a,l,c,d,h,f,p,y){Yi(e)&&(e=e(l)),Or(e)&&e.substr(0,3)==="max"&&(e=f+(e.charAt(4)==="="?cv("0"+e.substr(3),i):0));var _=p?p.time():0,w,A,M;if(p&&p.seek(0),isNaN(e)||(e=+e),qp(e))p&&(e=re.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,f,e)),a&&uv(a,i,r,!0);else{Yi(t)&&(t=t(l));var x=(e||"0").split(" "),R,P,N,C;M=Wi(t,l)||Ht,R=ua(M)||{},(!R||!R.left&&!R.top)&&as(M).display==="none"&&(C=M.style.display,M.style.display="block",R=ua(M),C?M.style.display=C:M.style.removeProperty("display")),P=cv(x[0],R[r.d]),N=cv(x[1]||"0",i),e=R[r.p]-c[r.p]-d+P+s-N,a&&uv(a,N,r,i-N<20||a._isStart&&N>20),i-=i-N}if(y&&(l[y]=e||-.001,e<0&&(e=0)),o){var b=e+i,v=o._isStart;w="scroll"+r.d2,uv(o,b,r,v&&b>20||!v&&(h?Math.max(Ht[w],Ns[w]):o.parentNode[w])<=b+1),h&&(c=ua(a),h&&(o.style[r.op.p]=c[r.op.p]-r.op.m-o._offset+Gn))}return p&&M&&(w=ua(M),p.seek(f),A=ua(M),p._caScrollDist=w[r.p]-A[r.p],e=e/p._caScrollDist*f),p&&p.seek(_),p?e:Math.round(e)},BY=/(webkit|moz|length|cssText|inset)/i,DV=function(e,t,i,r){if(e.parentNode!==t){var s=e.style,o,a;if(t===Ht){e._stOrig=s.cssText,a=as(e);for(o in a)!+o&&!BY.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=i,s.left=r}else s.cssText=e._stOrig;re.core.getCache(e).uncache=1,t.appendChild(e)}},GV=function(e,t,i){var r=t,s=r;return function(o){var a=Math.round(e());return a!==r&&a!==s&&Math.abs(a-r)>3&&Math.abs(a-s)>3&&(o=a,i&&i()),s=r,r=o,o}},av=function(e,t,i){var r={};r[t.p]="+="+i,re.set(e,r)},IV=function(e,t){var i=la(e,t),r="_scroll"+t.p2,s=function o(a,l,c,d,h){var f=o.tween,p=l.onComplete,y={};c=c||i();var _=GV(i,c,function(){f.kill(),o.tween=0});return h=d&&h||0,d=d||a-c,f&&f.kill(),l[r]=a,l.inherit=!1,l.modifiers=y,y[r]=function(){return _(c+d*f.ratio+h*f.ratio*f.ratio)},l.onUpdate=function(){Ye.cache++,o.tween&&da()},l.onComplete=function(){o.tween=0,p&&p.call(f)},f=o.tween=re.to(e,l),f};return e[r]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},ri(e,"wheel",i.wheelHandler),Ze.isTouch&&ri(e,"touchmove",i.wheelHandler),s},Ze=function(){function n(t,i){Yd||n.register(re)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),XI(this),this.init(t,i)}var e=n.prototype;return e.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Gp){this.update=this.refresh=this.kill=co;return}i=yV(Or(i)||qp(i)||i.nodeType?{trigger:i}:i,rv);var s=i,o=s.onUpdate,a=s.toggleClass,l=s.id,c=s.onToggle,d=s.onRefresh,h=s.scrub,f=s.trigger,p=s.pin,y=s.pinSpacing,_=s.invalidateOnRefresh,w=s.anticipatePin,A=s.onScrubComplete,M=s.onSnapComplete,x=s.once,R=s.snap,P=s.pinReparent,N=s.pinSpacer,C=s.containerAnimation,b=s.fastScrollEnd,v=s.preventOverlaps,E=i.horizontal||i.containerAnimation&&i.horizontal!==!1?Ai:On,S=!h&&h!==0,I=Wi(i.scroller||ut),T=re.core.getCache(I),le=Hc(I),ve=("pinType"in i?i.pinType:ca(I,"pinType")||le&&"fixed")==="fixed",Ee=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],ae=S&&i.toggleActions.split(" "),Me="markers"in i?i.markers:rv.markers,mt=le?0:parseFloat(as(I)["border"+E.p2+eh])||0,O=this,Ke=i.onRefreshInit&&function(){return i.onRefreshInit(O)},et=xY(I,le,E),ze=MY(I,le),ot=0,Ve=0,tt=0,$e=la(I,E),Vt,Rt,Zt,Te,Se,_e,dt,vn,vi,$,Pi,jr,gs,Gt,ms,So,Us,ln,Ur,Qe,Nt,ai,$r,Ia,cn,$s,_s,Ao,Hs,zs,xo,Be,Gs,ir,li,ki,ys,rr,Hr;if(O._startClamp=O._endClamp=!1,O._dir=E,w*=45,O.scroller=I,O.scroll=C?C.time.bind(C):$e,Te=$e(),O.vars=i,r=r||i.animation,"refreshPriority"in i&&(MV=1,i.refreshPriority===-9999&&(eg=O)),T.tweenScroll=T.tweenScroll||{top:IV(I,On),left:IV(I,Ai)},O.tweenTo=Vt=T.tweenScroll[E.p],O.scrubDuration=function(Y){Gs=qp(Y)&&Y,Gs?Be?Be.duration(Y):Be=re.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Gs,paused:!0,onComplete:function(){return A&&A(O)}}):(Be&&Be.progress(1).kill(),Be=0)},r&&(r.vars.lazy=!1,r._initted&&!O.isReverted||r.vars.immediateRender!==!1&&i.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),O.animation=r.pause(),r.scrollTrigger=O,O.scrubDuration(h),zs=0,l||(l=r.vars.id)),R&&((!Vc(R)||R.push)&&(R={snapTo:R}),"scrollBehavior"in Ht.style&&re.set(le?[Ht,Ns]:I,{scrollBehavior:"auto"}),Ye.forEach(function(Y){return Yi(Y)&&Y.target===(le?rn.scrollingElement||Ns:I)&&(Y.smooth=!1)}),Zt=Yi(R.snapTo)?R.snapTo:R.snapTo==="labels"?NY(r):R.snapTo==="labelsDirectional"?OY(r):R.directional!==!1?function(Y,Ie){return cT(R.snapTo)(Y,Mi()-Ve<500?0:Ie.direction)}:re.utils.snap(R.snapTo),ir=R.duration||{min:.1,max:2},ir=Vc(ir)?Qp(ir.min,ir.max):Qp(ir,ir),li=re.delayedCall(R.delay||Gs/2||.1,function(){var Y=$e(),Ie=Mi()-Ve<500,ce=Vt.tween;if((Ie||Math.abs(O.getVelocity())<10)&&!ce&&!yv&&ot!==Y){var we=(Y-_e)/Gt,Sn=r&&!S?r.totalProgress():we,nt=Ie?0:(Sn-xo)/(Mi()-zp)*1e3||0,At=re.utils.clamp(-we,1-we,Kd(nt/2)*nt/.185),Kn=we+(R.inertia===!1?0:At),Wt,Tt,Dt=R,Fi=Dt.onStart,xt=Dt.onInterrupt,un=Dt.onComplete;if(Wt=Zt(Kn,O),qp(Wt)||(Wt=Kn),Tt=Math.round(_e+Wt*Gt),Y<=dt&&Y>=_e&&Tt!==Y){if(ce&&!ce._initted&&ce.data<=Kd(Tt-Y))return;R.inertia===!1&&(At=Wt-we),Vt(Tt,{duration:ir(Kd(Math.max(Kd(Kn-Sn),Kd(Wt-Sn))*.185/nt/.05||0)),ease:R.ease||"power3",data:Kd(Tt-Y),onInterrupt:function(){return li.restart(!0)&&xt&&xt(O)},onComplete:function(){O.update(),ot=$e(),r&&(Be?Be.resetTo("totalProgress",Wt,r._tTime/r._tDur):r.progress(Wt)),zs=xo=r&&!S?r.totalProgress():O.progress,M&&M(O),un&&un(O)}},Y,At*Gt,Tt-Y-At*Gt),Fi&&Fi(O,Vt.tween)}}else O.isActive&&ot!==Y&&li.restart(!0)}).pause()),l&&(tT[l]=O),f=O.trigger=Wi(f||p!==!0&&p),Hr=f&&f._gsap&&f._gsap.stRevert,Hr&&(Hr=Hr(O)),p=p===!0?f:Wi(p),Or(a)&&(a={targets:f,className:a}),p&&(y===!1||y===os||(y=!y&&p.parentNode&&p.parentNode.style&&as(p.parentNode).display==="flex"?!1:Pn),O.pin=p,Rt=re.core.getCache(p),Rt.spacer?ms=Rt.pinState:(N&&(N=Wi(N),N&&!N.nodeType&&(N=N.current||N.nativeElement),Rt.spacerIsNative=!!N,N&&(Rt.spacerState=ov(N))),Rt.spacer=ln=N||rn.createElement("div"),ln.classList.add("pin-spacer"),l&&ln.classList.add("pin-spacer-"+l),Rt.pinState=ms=ov(p)),i.force3D!==!1&&re.set(p,{force3D:!0}),O.spacer=ln=Rt.spacer,Hs=as(p),Ia=Hs[y+E.os2],Qe=re.getProperty(p),Nt=re.quickSetter(p,E.a,Gn),QI(p,ln,Hs),Us=ov(p)),Me){jr=Vc(Me)?yV(Me,vV):vV,$=sv("scroller-start",l,I,E,jr,0),Pi=sv("scroller-end",l,I,E,jr,0,$),Ur=$["offset"+E.op.d2];var Ws=Wi(ca(I,"content")||I);vn=this.markerStart=sv("start",l,Ws,E,jr,Ur,0,C),vi=this.markerEnd=sv("end",l,Ws,E,jr,Ur,0,C),C&&(rr=re.quickSetter([vn,vi],E.a,Gn)),!ve&&!(Rs.length&&ca(I,"fixedMarkers")===!0)&&(RY(le?Ht:I),re.set([$,Pi],{force3D:!0}),$s=re.quickSetter($,E.a,Gn),Ao=re.quickSetter(Pi,E.a,Gn))}if(C){var De=C.vars.onUpdate,fe=C.vars.onUpdateParams;C.eventCallback("onUpdate",function(){O.update(0,0,1),De&&De.apply(C,fe||[])})}if(O.previous=function(){return Je[Je.indexOf(O)-1]},O.next=function(){return Je[Je.indexOf(O)+1]},O.revert=function(Y,Ie){if(!Ie)return O.kill(!0);var ce=Y!==!1||!O.enabled,we=xi;ce!==O.isReverted&&(ce&&(ki=Math.max($e(),O.scroll.rec||0),tt=O.progress,ys=r&&r.progress()),vn&&[vn,vi,$,Pi].forEach(function(Sn){return Sn.style.display=ce?"none":"block"}),ce&&(xi=O,O.update(ce)),p&&(!P||!O.isActive)&&(ce?FY(p,ln,ms):QI(p,ln,as(p),cn)),ce||O.update(ce),xi=we,O.isReverted=ce)},O.refresh=function(Y,Ie,ce,we){if(!((xi||!O.enabled)&&!Ie)){if(p&&Y&&ls){ri(n,"scrollEnd",UV);return}!Qi&&Ke&&Ke(O),xi=O,Vt.tween&&!ce&&(Vt.tween.kill(),Vt.tween=0),Be&&Be.pause(),_&&r&&r.revert({kill:!1}).invalidate(),O.isReverted||O.revert(!0,!0),O._subPinOffset=!1;var Sn=et(),nt=ze(),At=C?C.duration():uo(I,E),Kn=Gt<=.01,Wt=0,Tt=we||0,Dt=Vc(ce)?ce.end:i.end,Fi=i.endTrigger||f,xt=Vc(ce)?ce.start:i.start||(i.start===0||!f?0:p?"0 0":"0 100%"),un=O.pinnedContainer=i.pinnedContainer&&Wi(i.pinnedContainer,O),wr=f&&Math.max(0,Je.indexOf(O))||0,An=wr,wn,xn,qs,Wl,Qn,qt,br,ql,Ta,Er,sr,Kl,Ql;for(Me&&Vc(ce)&&(Kl=re.getProperty($,E.p),Ql=re.getProperty(Pi,E.p));An--;)qt=Je[An],qt.end||qt.refresh(0,1)||(xi=O),br=qt.pin,br&&(br===f||br===p||br===un)&&!qt.isReverted&&(Er||(Er=[]),Er.unshift(qt),qt.revert(!0,!0)),qt!==Je[An]&&(wr--,An--);for(Yi(xt)&&(xt=xt(O)),xt=pV(xt,"start",O),_e=CV(xt,f,Sn,E,$e(),vn,$,O,nt,mt,ve,At,C,O._startClamp&&"_startClamp")||(p?-.001:0),Yi(Dt)&&(Dt=Dt(O)),Or(Dt)&&!Dt.indexOf("+=")&&(~Dt.indexOf(" ")?Dt=(Or(xt)?xt.split(" ")[0]:"")+Dt:(Wt=cv(Dt.substr(2),Sn),Dt=Or(xt)?xt:(C?re.utils.mapRange(0,C.duration(),C.scrollTrigger.start,C.scrollTrigger.end,_e):_e)+Wt,Fi=f)),Dt=pV(Dt,"end",O),dt=Math.max(_e,CV(Dt||(Fi?"100% 0":At),Fi,Sn,E,$e()+Wt,vi,Pi,O,nt,mt,ve,At,C,O._endClamp&&"_endClamp"))||-.001,Wt=0,An=wr;An--;)qt=Je[An],br=qt.pin,br&&qt.start-qt._pinPush<=_e&&!C&&qt.end>0&&(wn=qt.end-(O._startClamp?Math.max(0,qt.start):qt.start),(br===f&&qt.start-qt._pinPush<_e||br===un)&&isNaN(xt)&&(Wt+=wn*(1-qt.progress)),br===p&&(Tt+=wn));if(_e+=Wt,dt+=Wt,O._startClamp&&(O._startClamp+=Wt),O._endClamp&&!Qi&&(O._endClamp=dt||-.001,dt=Math.min(dt,uo(I,E))),Gt=dt-_e||(_e-=.01)&&.001,Kn&&(tt=re.utils.clamp(0,1,re.utils.normalize(_e,dt,ki))),O._pinPush=Tt,vn&&Wt&&(wn={},wn[E.a]="+="+Wt,un&&(wn[E.p]="-="+$e()),re.set([vn,vi],wn)),p&&!(eT&&O.end>=uo(I,E)))wn=as(p),Wl=E===On,qs=$e(),ai=parseFloat(Qe(E.a))+Tt,!At&&dt>1&&(sr=(le?rn.scrollingElement||Ns:I).style,sr={style:sr,value:sr["overflow"+E.a.toUpperCase()]},le&&as(Ht)["overflow"+E.a.toUpperCase()]!=="scroll"&&(sr.style["overflow"+E.a.toUpperCase()]="scroll")),QI(p,ln,wn),Us=ov(p),xn=ua(p,!0),ql=ve&&la(I,Wl?Ai:On)(),y?(cn=[y+E.os2,Gt+Tt+Gn],cn.t=ln,An=y===Pn?mv(p,E)+Gt+Tt:0,An&&(cn.push(E.d,An+Gn),ln.style.flexBasis!=="auto"&&(ln.style.flexBasis=An+Gn)),Xd(cn),un&&Je.forEach(function(Sa){Sa.pin===un&&Sa.vars.pinSpacing!==!1&&(Sa._subPinOffset=!0)}),ve&&$e(ki)):(An=mv(p,E),An&&ln.style.flexBasis!=="auto"&&(ln.style.flexBasis=An+Gn)),ve&&(Qn={top:xn.top+(Wl?qs-_e:ql)+Gn,left:xn.left+(Wl?ql:qs-_e)+Gn,boxSizing:"border-box",position:"fixed"},Qn[jc]=Qn["max"+eh]=Math.ceil(xn.width)+Gn,Qn[Uc]=Qn["max"+lT]=Math.ceil(xn.height)+Gn,Qn[os]=Qn[os+Zp]=Qn[os+Yp]=Qn[os+Xp]=Qn[os+Jp]="0",Qn[Pn]=wn[Pn],Qn[Pn+Zp]=wn[Pn+Zp],Qn[Pn+Yp]=wn[Pn+Yp],Qn[Pn+Xp]=wn[Pn+Xp],Qn[Pn+Jp]=wn[Pn+Jp],So=VY(ms,Qn,P),Qi&&$e(0)),r?(Ta=r._initted,zI(1),r.render(r.duration(),!0,!0),$r=Qe(E.a)-ai+Gt+Tt,_s=Math.abs(Gt-$r)>1,ve&&_s&&So.splice(So.length-2,2),r.render(0,!0,!0),Ta||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),zI(0)):$r=Gt,sr&&(sr.value?sr.style["overflow"+E.a.toUpperCase()]=sr.value:sr.style.removeProperty("overflow-"+E.a));else if(f&&$e()&&!C)for(xn=f.parentNode;xn&&xn!==Ht;)xn._pinOffset&&(_e-=xn._pinOffset,dt-=xn._pinOffset),xn=xn.parentNode;Er&&Er.forEach(function(Sa){return Sa.revert(!1,!0)}),O.start=_e,O.end=dt,Te=Se=Qi?ki:$e(),!C&&!Qi&&(Te<ki&&$e(ki),O.scroll.rec=0),O.revert(!1,!0),Ve=Mi(),li&&(ot=-1,li.restart(!0)),xi=0,r&&S&&(r._initted||ys)&&r.progress()!==ys&&r.progress(ys||0,!0).render(r.time(),!0,!0),(Kn||tt!==O.progress||C||_)&&(r&&!S&&r.totalProgress(C&&_e<-.001&&!tt?re.utils.normalize(_e,dt,0):tt,!0),O.progress=Kn||(Te-_e)/Gt===tt?0:tt),p&&y&&(ln._pinOffset=Math.round(O.progress*$r)),Be&&Be.invalidate(),isNaN(Kl)||(Kl-=re.getProperty($,E.p),Ql-=re.getProperty(Pi,E.p),av($,E,Kl),av(vn,E,Kl-(we||0)),av(Pi,E,Ql),av(vi,E,Ql-(we||0))),Kn&&!Qi&&O.update(),d&&!Qi&&!gs&&(gs=!0,d(O),gs=!1)}},O.getVelocity=function(){return($e()-Se)/(Mi()-zp)*1e3||0},O.endAnimation=function(){Hp(O.callbackAnimation),r&&(Be?Be.progress(1):r.paused()?S||Hp(r,O.direction<0,1):Hp(r,r.reversed()))},O.labelToScroll=function(Y){return r&&r.labels&&(_e||O.refresh()||_e)+r.labels[Y]/r.duration()*Gt||0},O.getTrailing=function(Y){var Ie=Je.indexOf(O),ce=O.direction>0?Je.slice(0,Ie).reverse():Je.slice(Ie+1);return(Or(Y)?ce.filter(function(we){return we.vars.preventOverlaps===Y}):ce).filter(function(we){return O.direction>0?we.end<=_e:we.start>=dt})},O.update=function(Y,Ie,ce){if(!(C&&!ce&&!Y)){var we=Qi===!0?ki:O.scroll(),Sn=Y?0:(we-_e)/Gt,nt=Sn<0?0:Sn>1?1:Sn||0,At=O.progress,Kn,Wt,Tt,Dt,Fi,xt,un,wr;if(Ie&&(Se=Te,Te=C?$e():we,R&&(xo=zs,zs=r&&!S?r.totalProgress():nt)),w&&p&&!xi&&!ev&&ls&&(!nt&&_e<we+(we-Se)/(Mi()-zp)*w?nt=1e-4:nt===1&&dt>we+(we-Se)/(Mi()-zp)*w&&(nt=.9999)),nt!==At&&O.enabled){if(Kn=O.isActive=!!nt&&nt<1,Wt=!!At&&At<1,xt=Kn!==Wt,Fi=xt||!!nt!=!!At,O.direction=nt>At?1:-1,O.progress=nt,Fi&&!xi&&(Tt=nt&&!At?0:nt===1?1:At===1?2:3,S&&(Dt=!xt&&ae[Tt+1]!=="none"&&ae[Tt+1]||ae[Tt],wr=r&&(Dt==="complete"||Dt==="reset"||Dt in r))),v&&(xt||wr)&&(wr||h||!r)&&(Yi(v)?v(O):O.getTrailing(v).forEach(function(qs){return qs.endAnimation()})),S||(Be&&!xi&&!ev?(Be._dp._time-Be._start!==Be._time&&Be.render(Be._dp._time-Be._start),Be.resetTo?Be.resetTo("totalProgress",nt,r._tTime/r._tDur):(Be.vars.totalProgress=nt,Be.invalidate().restart())):r&&r.totalProgress(nt,!!(xi&&(Ve||Y)))),p){if(Y&&y&&(ln.style[y+E.os2]=Ia),!ve)Nt(Wp(ai+$r*nt));else if(Fi){if(un=!Y&&nt>At&&dt+1>we&&we+1>=uo(I,E),P)if(!Y&&(Kn||un)){var An=ua(p,!0),wn=we-_e;DV(p,Ht,An.top+(E===On?wn:0)+Gn,An.left+(E===On?0:wn)+Gn)}else DV(p,ln);Xd(Kn||un?So:Us),_s&&nt<1&&Kn||Nt(ai+(nt===1&&!un?$r:0))}}R&&!Vt.tween&&!xi&&!ev&&li.restart(!0),a&&(xt||x&&nt&&(nt<1||!GI))&&tg(a.targets).forEach(function(qs){return qs.classList[Kn||x?"add":"remove"](a.className)}),o&&!S&&!Y&&o(O),Fi&&!xi?(S&&(wr&&(Dt==="complete"?r.pause().totalProgress(1):Dt==="reset"?r.restart(!0).pause():Dt==="restart"?r.restart(!0):r[Dt]()),o&&o(O)),(xt||!GI)&&(c&&xt&&qI(O,c),Ee[Tt]&&qI(O,Ee[Tt]),x&&(nt===1?O.kill(!1,1):Ee[Tt]=0),xt||(Tt=nt===1?1:3,Ee[Tt]&&qI(O,Ee[Tt]))),b&&!Kn&&Math.abs(O.getVelocity())>(qp(b)?b:2500)&&(Hp(O.callbackAnimation),Be?Be.progress(1):Hp(r,Dt==="reverse"?1:!nt,1))):S&&o&&!xi&&o(O)}if(Ao){var xn=C?we/C.duration()*(C._caScrollDist||0):we;$s(xn+($._isFlipped?1:0)),Ao(xn)}rr&&rr(-we/C.duration()*(C._caScrollDist||0))}},O.enable=function(Y,Ie){O.enabled||(O.enabled=!0,ri(I,"resize",Kp),le||ri(I,"scroll",Qd),Ke&&ri(n,"refreshInit",Ke),Y!==!1&&(O.progress=tt=0,Te=Se=ot=$e()),Ie!==!1&&O.refresh())},O.getTween=function(Y){return Y&&Vt?Vt.tween:Be},O.setPositions=function(Y,Ie,ce,we){if(C){var Sn=C.scrollTrigger,nt=C.duration(),At=Sn.end-Sn.start;Y=Sn.start+At*Y/nt,Ie=Sn.start+At*Ie/nt}O.refresh(!1,!1,{start:gV(Y,ce&&!!O._startClamp),end:gV(Ie,ce&&!!O._endClamp)},we),O.update()},O.adjustPinSpacing=function(Y){if(cn&&Y){var Ie=cn.indexOf(E.d)+1;cn[Ie]=parseFloat(cn[Ie])+Y+Gn,cn[1]=parseFloat(cn[1])+Y+Gn,Xd(cn)}},O.disable=function(Y,Ie){if(O.enabled&&(Y!==!1&&O.revert(!0,!0),O.enabled=O.isActive=!1,Ie||Be&&Be.pause(),ki=0,Rt&&(Rt.uncache=1),Ke&&ii(n,"refreshInit",Ke),li&&(li.pause(),Vt.tween&&Vt.tween.kill()&&(Vt.tween=0)),!le)){for(var ce=Je.length;ce--;)if(Je[ce].scroller===I&&Je[ce]!==O)return;ii(I,"resize",Kp),le||ii(I,"scroll",Qd)}},O.kill=function(Y,Ie){O.disable(Y,Ie),Be&&!Ie&&Be.kill(),l&&delete tT[l];var ce=Je.indexOf(O);ce>=0&&Je.splice(ce,1),ce===Ki&&dv>0&&Ki--,ce=0,Je.forEach(function(we){return we.scroller===O.scroller&&(ce=1)}),ce||Qi||(O.scroll.rec=0),r&&(r.scrollTrigger=null,Y&&r.revert({kill:!1}),Ie||r.kill()),vn&&[vn,vi,$,Pi].forEach(function(we){return we.parentNode&&we.parentNode.removeChild(we)}),eg===O&&(eg=0),p&&(Rt&&(Rt.uncache=1),ce=0,Je.forEach(function(we){return we.pin===p&&ce++}),ce||(Rt.spacer=0)),i.onKill&&i.onKill(O)},Je.push(O),O.enable(!1,!1),Hr&&Hr(O),r&&r.add&&!Gt){var ht=O.update;O.update=function(){O.update=ht,_e||dt||O.refresh()},re.delayedCall(.01,O.update),Gt=.01,_e=dt=0}else O.refresh();p&&kY()},n.register=function(i){return Yd||(re=i||kV(),PV()&&window.document&&n.enable(),Yd=Gp),Yd},n.defaults=function(i){if(i)for(var r in i)rv[r]=i[r];return rv},n.disable=function(i,r){Gp=0,Je.forEach(function(o){return o[r?"kill":"disable"](i)}),ii(ut,"wheel",Qd),ii(rn,"scroll",Qd),clearInterval(Xy),ii(rn,"touchcancel",co),ii(Ht,"touchstart",co),nv(ii,rn,"pointerdown,touchstart,mousedown",mV),nv(ii,rn,"pointerup,touchend,mouseup",_V),pv.kill(),tv(ii);for(var s=0;s<Ye.length;s+=3)iv(ii,Ye[s],Ye[s+1]),iv(ii,Ye[s],Ye[s+2])},n.enable=function(){if(ut=window,rn=document,Ns=rn.documentElement,Ht=rn.body,re&&(tg=re.utils.toArray,Qp=re.utils.clamp,XI=re.core.context||co,zI=re.core.suppressOverwrites||co,rT=ut.history.scrollRestoration||"auto",nT=ut.pageYOffset,re.core.globals("ScrollTrigger",n),Ht)){Gp=1,Zd=document.createElement("div"),Zd.style.height="100vh",Zd.style.position="absolute",zV(),AY(),_n.register(re),n.isTouch=_n.isTouch,hl=_n.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ZI=_n.isTouch===1,ri(ut,"wheel",Qd),xV=[ut,rn,Ns,Ht],re.matchMedia?(n.matchMedia=function(l){var c=re.matchMedia(),d;for(d in l)c.add(d,l[d]);return c},re.addEventListener("matchMediaInit",function(){return uT()}),re.addEventListener("matchMediaRevert",function(){return $V()}),re.addEventListener("matchMedia",function(){Bc(0,1),Gc("matchMedia")}),re.matchMedia("(orientation: portrait)",function(){return KI(),KI})):console.warn("Requires GSAP 3.11.0 or later"),KI(),ri(rn,"scroll",Qd);var i=Ht.style,r=i.borderTopStyle,s=re.core.Animation.prototype,o,a;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",o=ua(Ht),On.m=Math.round(o.top+On.sc())||0,Ai.m=Math.round(o.left+Ai.sc())||0,r?i.borderTopStyle=r:i.removeProperty("border-top-style"),Xy=setInterval(wV,250),re.delayedCall(.5,function(){return ev=0}),ri(rn,"touchcancel",co),ri(Ht,"touchstart",co),nv(ri,rn,"pointerdown,touchstart,mousedown",mV),nv(ri,rn,"pointerup,touchend,mouseup",_V),JI=re.utils.checkPrefix("transform"),hv.push(JI),Yd=Mi(),pv=re.delayedCall(.2,Bc).pause(),Jd=[rn,"visibilitychange",function(){var l=ut.innerWidth,c=ut.innerHeight;rn.hidden?(hV=l,fV=c):(hV!==l||fV!==c)&&Kp()},rn,"DOMContentLoaded",Bc,ut,"load",Bc,ut,"resize",Kp],tv(ri),Je.forEach(function(l){return l.enable(0,1)}),a=0;a<Ye.length;a+=3)iv(ii,Ye[a],Ye[a+1]),iv(ii,Ye[a],Ye[a+2])}},n.config=function(i){"limitCallbacks"in i&&(GI=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(Xy)||(Xy=r)&&setInterval(wV,r),"ignoreMobileResize"in i&&(ZI=n.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(tv(ii)||tv(ri,i.autoRefreshEvents||"none"),RV=(i.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(i,r){var s=Wi(i),o=Ye.indexOf(s),a=Hc(s);~o&&Ye.splice(o,a?6:2),r&&(a?Rs.unshift(ut,r,Ht,r,Ns,r):Rs.unshift(s,r))},n.clearMatchMedia=function(i){Je.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},n.isInViewport=function(i,r,s){var o=(Or(i)?Wi(i):i).getBoundingClientRect(),a=o[s?jc:Uc]*r||0;return s?o.right-a>0&&o.left+a<ut.innerWidth:o.bottom-a>0&&o.top+a<ut.innerHeight},n.positionInViewport=function(i,r,s){Or(i)&&(i=Wi(i));var o=i.getBoundingClientRect(),a=o[s?jc:Uc],l=r==null?a/2:r in _v?_v[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+l)/ut.innerWidth:(o.top+l)/ut.innerHeight},n.killAll=function(i){if(Je.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),i!==!0){var r=zc.killAll||[];zc={},r.forEach(function(s){return s()})}},n}();Ze.version="3.12.5";Ze.saveStyles=function(n){return n?tg(n).forEach(function(e){if(e&&e.style){var t=Nr.indexOf(e);t>=0&&Nr.splice(t,5),Nr.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),re.core.getCache(e),XI())}}):Nr};Ze.revert=function(n,e){return uT(!n,e)};Ze.create=function(n,e){return new Ze(n,e)};Ze.refresh=function(n){return n?Kp():(Yd||Ze.register())&&Bc(!0)};Ze.update=function(n){return++Ye.cache&&da(n===!0?2:0)};Ze.clearScrollMemory=HV;Ze.maxScroll=function(n,e){return uo(n,e?Ai:On)};Ze.getScrollFunc=function(n,e){return la(Wi(n),e?Ai:On)};Ze.getById=function(n){return tT[n]};Ze.getAll=function(){return Je.filter(function(n){return n.vars.id!=="ScrollSmoother"})};Ze.isScrolling=function(){return!!ls};Ze.snapDirectional=cT;Ze.addEventListener=function(n,e){var t=zc[n]||(zc[n]=[]);~t.indexOf(e)||t.push(e)};Ze.removeEventListener=function(n,e){var t=zc[n],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)};Ze.batch=function(n,e){var t=[],i={},r=e.interval||.016,s=e.batchMax||1e9,o=function(c,d){var h=[],f=[],p=re.delayedCall(r,function(){d(h,f),h=[],f=[]}).pause();return function(y){h.length||p.restart(!0),h.push(y.trigger),f.push(y),s<=h.length&&p.progress(1)}},a;for(a in e)i[a]=a.substr(0,2)==="on"&&Yi(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return Yi(s)&&(s=s(),ri(Ze,"refresh",function(){return s=e.batchMax()})),tg(n).forEach(function(l){var c={};for(a in i)c[a]=i[a];c.trigger=l,t.push(Ze.create(c))}),t};var TV=function(e,t,i,r){return t>r?e(r):t<0&&e(0),i>r?(r-t)/(i-t):i<0?t/(t-i):1},YI=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(_n.isTouch?" pinch-zoom":""):"none",e===Ns&&n(Ht,t)},lv={auto:1,scroll:1},jY=function(e){var t=e.event,i=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||re.core.getCache(s),a=Mi(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==Ht&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(lv[(l=as(s)).overflowY]||lv[l.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==i&&!Hc(s)&&(lv[(l=as(s)).overflowY]||lv[l.overflowX]),o._isScrollT=a}(o._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},WV=function(e,t,i,r){return _n.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&jY,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&ri(rn,_n.eventTypes[0],AV,!1,!0)},onDisable:function(){return ii(rn,_n.eventTypes[0],AV,!0)}})},UY=/(input|label|select|textarea)/i,SV,AV=function(e){var t=UY.test(e.target.tagName);(t||SV)&&(e._gsapAllow=!0,SV=t)},$Y=function(e){Vc(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,i=t.normalizeScrollX,r=t.momentum,s=t.allowNestedScroll,o=t.onRelease,a,l,c=Wi(e.target)||Ns,d=re.core.globals().ScrollSmoother,h=d&&d.get(),f=hl&&(e.content&&Wi(e.content)||h&&e.content!==!1&&!h.smooth()&&h.content()),p=la(c,On),y=la(c,Ai),_=1,w=(_n.isTouch&&ut.visualViewport?ut.visualViewport.scale*ut.visualViewport.width:ut.outerWidth)/ut.innerWidth,A=0,M=Yi(r)?function(){return r(a)}:function(){return r||2.8},x,R,P=WV(c,e.type,!0,s),N=function(){return R=!1},C=co,b=co,v=function(){l=uo(c,On),b=Qp(hl?1:0,l),i&&(C=Qp(0,uo(c,Ai))),x=$c},E=function(){f._gsap.y=Wp(parseFloat(f._gsap.y)+p.offset)+"px",f.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(f._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},S=function(){if(R){requestAnimationFrame(N);var Me=Wp(a.deltaY/2),mt=b(p.v-Me);if(f&&mt!==p.v+p.offset){p.offset=mt-p.v;var O=Wp((parseFloat(f&&f._gsap.y)||0)-p.offset);f.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+O+", 0, 1)",f._gsap.y=O+"px",p.cacheID=Ye.cache,da()}return!0}p.offset&&E(),R=!0},I,T,le,ve,Ee=function(){v(),I.isActive()&&I.vars.scrollY>l&&(p()>l?I.progress(1)&&p(l):I.resetTo("scrollY",l))};return f&&re.set(f,{y:"+=0"}),e.ignoreCheck=function(ae){return hl&&ae.type==="touchmove"&&S(ae)||_>1.05&&ae.type!=="touchstart"||a.isGesturing||ae.touches&&ae.touches.length>1},e.onPress=function(){R=!1;var ae=_;_=Wp((ut.visualViewport&&ut.visualViewport.scale||1)/w),I.pause(),ae!==_&&YI(c,_>1.01?!0:i?!1:"x"),T=y(),le=p(),v(),x=$c},e.onRelease=e.onGestureStart=function(ae,Me){if(p.offset&&E(),!Me)ve.restart(!0);else{Ye.cache++;var mt=M(),O,Ke;i&&(O=y(),Ke=O+mt*.05*-ae.velocityX/.227,mt*=TV(y,O,Ke,uo(c,Ai)),I.vars.scrollX=C(Ke)),O=p(),Ke=O+mt*.05*-ae.velocityY/.227,mt*=TV(p,O,Ke,uo(c,On)),I.vars.scrollY=b(Ke),I.invalidate().duration(mt).play(.01),(hl&&I.vars.scrollY>=l||O>=l-1)&&re.to({},{onUpdate:Ee,duration:mt})}o&&o(ae)},e.onWheel=function(){I._ts&&I.pause(),Mi()-A>1e3&&(x=0,A=Mi())},e.onChange=function(ae,Me,mt,O,Ke){if($c!==x&&v(),Me&&i&&y(C(O[2]===Me?T+(ae.startX-ae.x):y()+Me-O[1])),mt){p.offset&&E();var et=Ke[2]===mt,ze=et?le+ae.startY-ae.y:p()+mt-Ke[1],ot=b(ze);et&&ze!==ot&&(le+=ot-ze),p(ot)}(mt||Me)&&da()},e.onEnable=function(){YI(c,i?!1:"x"),Ze.addEventListener("refresh",Ee),ri(ut,"resize",Ee),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=y.smooth=!1),P.enable()},e.onDisable=function(){YI(c,!0),ii(ut,"resize",Ee),Ze.removeEventListener("refresh",Ee),P.kill()},e.lockAxis=e.lockAxis!==!1,a=new _n(e),a.iOS=hl,hl&&!p()&&p(1),hl&&re.ticker.add(co),ve=a._dc,I=re.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:GV(p,p(),function(){return I.pause()})},onUpdate:da,onComplete:ve.vars.onComplete}),a};Ze.sort=function(n){return Je.sort(n||function(e,t){return(e.vars.refreshPriority||0)*-1e6+e.start-(t.start+(t.vars.refreshPriority||0)*-1e6)})};Ze.observe=function(n){return new _n(n)};Ze.normalizeScroll=function(n){if(typeof n>"u")return qi;if(n===!0&&qi)return qi.enable();if(n===!1){qi&&qi.kill(),qi=n;return}var e=n instanceof _n?n:$Y(n);return qi&&qi.target===e.target&&qi.kill(),Hc(e.target)&&(qi=e),e};Ze.core={_getVelocityProp:Zy,_inputObserver:WV,_scrollers:Ye,_proxies:Rs,bridge:{ss:function(){ls||Gc("scrollStart"),ls=Mi()},ref:function(){return xi}}};kV()&&re.registerPlugin(Ze);var vv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=hi({type:n,selectors:[["app-footer"]],decls:93,vars:0,consts:[[1,"guide_section"],[1,"container"],[1,"row"],[1,"col"],["href",""],[1,"payment-icons"],[1,"payment-icons-item"],["xmlns","http://www.w3.org/2000/svg","role","img","aria-labelledby","pi-american_express","viewBox","0 0 38 24","width","38","height","24"],["id","pi-american_express"],["fill","#000","d","M35 0H3C1.3 0 0 1.3 0 3v18c0 1.7 1.4 3 3 3h32c1.7 0 3-1.3 3-3V3c0-1.7-1.4-3-3-3Z","opacity",".07"],["fill","#006FCF","d","M35 1c1.1 0 2 .9 2 2v18c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V3c0-1.1.9-2 2-2h32Z"],["fill","#FFF","d","M22.012 19.936v-8.421L37 11.528v2.326l-1.732 1.852L37 17.573v2.375h-2.766l-1.47-1.622-1.46 1.628-9.292-.02Z"],["fill","#006FCF","d","M23.013 19.012v-6.57h5.572v1.513h-3.768v1.028h3.678v1.488h-3.678v1.01h3.768v1.531h-5.572Z"],["fill","#006FCF","d","m28.557 19.012 3.083-3.289-3.083-3.282h2.386l1.884 2.083 1.89-2.082H37v.051l-3.017 3.23L37 18.92v.093h-2.307l-1.917-2.103-1.898 2.104h-2.321Z"],["fill","#FFF","d","M22.71 4.04h3.614l1.269 2.881V4.04h4.46l.77 2.159.771-2.159H37v8.421H19l3.71-8.421Z"],["fill","#006FCF","d","m23.395 4.955-2.916 6.566h2l.55-1.315h2.98l.55 1.315h2.05l-2.904-6.566h-2.31Zm.25 3.777.875-2.09.873 2.09h-1.748Z"],["fill","#006FCF","d","M28.581 11.52V4.953l2.811.01L32.84 9l1.456-4.046H37v6.565l-1.74.016v-4.51l-1.644 4.494h-1.59L30.35 7.01v4.51h-1.768Z"],["version","1.1","xmlns","http://www.w3.org/2000/svg","role","img","x","0","y","0","width","38","height","24","viewBox","0 0 165.521 105.965",0,"xml","space","preserve","aria-labelledby","pi-apple_pay"],["id","pi-apple_pay"],["fill","#000","d","M150.698 0H14.823c-.566 0-1.133 0-1.698.003-.477.004-.953.009-1.43.022-1.039.028-2.087.09-3.113.274a10.51 10.51 0 0 0-2.958.975 9.932 9.932 0 0 0-4.35 4.35 10.463 10.463 0 0 0-.975 2.96C.113 9.611.052 10.658.024 11.696a70.22 70.22 0 0 0-.022 1.43C0 13.69 0 14.256 0 14.823v76.318c0 .567 0 1.132.002 1.699.003.476.009.953.022 1.43.028 1.036.09 2.084.275 3.11a10.46 10.46 0 0 0 .974 2.96 9.897 9.897 0 0 0 1.83 2.52 9.874 9.874 0 0 0 2.52 1.83c.947.483 1.917.79 2.96.977 1.025.183 2.073.245 3.112.273.477.011.953.017 1.43.02.565.004 1.132.004 1.698.004h135.875c.565 0 1.132 0 1.697-.004.476-.002.952-.009 1.431-.02 1.037-.028 2.085-.09 3.113-.273a10.478 10.478 0 0 0 2.958-.977 9.955 9.955 0 0 0 4.35-4.35c.483-.947.789-1.917.974-2.96.186-1.026.246-2.074.274-3.11.013-.477.02-.954.022-1.43.004-.567.004-1.132.004-1.699V14.824c0-.567 0-1.133-.004-1.699a63.067 63.067 0 0 0-.022-1.429c-.028-1.038-.088-2.085-.274-3.112a10.4 10.4 0 0 0-.974-2.96 9.94 9.94 0 0 0-4.35-4.35A10.52 10.52 0 0 0 156.939.3c-1.028-.185-2.076-.246-3.113-.274a71.417 71.417 0 0 0-1.431-.022C151.83 0 151.263 0 150.698 0z"],["fill","#FFF","d","M150.698 3.532l1.672.003c.452.003.905.008 1.36.02.793.022 1.719.065 2.583.22.75.135 1.38.34 1.984.648a6.392 6.392 0 0 1 2.804 2.807c.306.6.51 1.226.645 1.983.154.854.197 1.783.218 2.58.013.45.019.9.02 1.36.005.557.005 1.113.005 1.671v76.318c0 .558 0 1.114-.004 1.682-.002.45-.008.9-.02 1.35-.022.796-.065 1.725-.221 2.589a6.855 6.855 0 0 1-.645 1.975 6.397 6.397 0 0 1-2.808 2.807c-.6.306-1.228.511-1.971.645-.881.157-1.847.2-2.574.22-.457.01-.912.017-1.379.019-.555.004-1.113.004-1.669.004H14.801c-.55 0-1.1 0-1.66-.004a74.993 74.993 0 0 1-1.35-.018c-.744-.02-1.71-.064-2.584-.22a6.938 6.938 0 0 1-1.986-.65 6.337 6.337 0 0 1-1.622-1.18 6.355 6.355 0 0 1-1.178-1.623 6.935 6.935 0 0 1-.646-1.985c-.156-.863-.2-1.788-.22-2.578a66.088 66.088 0 0 1-.02-1.355l-.003-1.327V14.474l.002-1.325a66.7 66.7 0 0 1 .02-1.357c.022-.792.065-1.717.222-2.587a6.924 6.924 0 0 1 .646-1.981c.304-.598.7-1.144 1.18-1.623a6.386 6.386 0 0 1 1.624-1.18 6.96 6.96 0 0 1 1.98-.646c.865-.155 1.792-.198 2.586-.22.452-.012.905-.017 1.354-.02l1.677-.003h135.875"],["fill","#000","d","M43.508 35.77c1.404-1.755 2.356-4.112 2.105-6.52-2.054.102-4.56 1.355-6.012 3.112-1.303 1.504-2.456 3.959-2.156 6.266 2.306.2 4.61-1.152 6.063-2.858"],["fill","#000","d","M45.587 39.079c-3.35-.2-6.196 1.9-7.795 1.9-1.6 0-4.049-1.8-6.698-1.751-3.447.05-6.645 2-8.395 5.1-3.598 6.2-.95 15.4 2.55 20.45 1.699 2.5 3.747 5.25 6.445 5.151 2.55-.1 3.549-1.65 6.647-1.65 3.097 0 3.997 1.65 6.696 1.6 2.798-.05 4.548-2.5 6.247-5 1.95-2.85 2.747-5.6 2.797-5.75-.05-.05-5.396-2.101-5.446-8.251-.05-5.15 4.198-7.6 4.398-7.751-2.399-3.548-6.147-3.948-7.447-4.048"],["fill","#000","d","M78.973 32.11c7.278 0 12.347 5.017 12.347 12.321 0 7.33-5.173 12.373-12.529 12.373h-8.058V69.62h-5.822V32.11h14.062zm-8.24 19.807h6.68c5.07 0 7.954-2.729 7.954-7.46 0-4.73-2.885-7.434-7.928-7.434h-6.706v14.894z"],["fill","#000","d","M92.764 61.847c0-4.809 3.665-7.564 10.423-7.98l7.252-.442v-2.08c0-3.04-2.001-4.704-5.562-4.704-2.938 0-5.07 1.507-5.51 3.82h-5.252c.157-4.86 4.731-8.395 10.918-8.395 6.654 0 10.995 3.483 10.995 8.89v18.663h-5.38v-4.497h-.13c-1.534 2.937-4.914 4.782-8.579 4.782-5.406 0-9.175-3.222-9.175-8.057zm17.675-2.417v-2.106l-6.472.416c-3.64.234-5.536 1.585-5.536 3.95 0 2.288 1.975 3.77 5.068 3.77 3.95 0 6.94-2.522 6.94-6.03z"],["fill","#000","d","M120.975 79.652v-4.496c.364.051 1.247.103 1.715.103 2.573 0 4.029-1.09 4.913-3.899l.52-1.663-9.852-27.293h6.082l6.863 22.146h.13l6.862-22.146h5.927l-10.216 28.67c-2.34 6.577-5.017 8.735-10.683 8.735-.442 0-1.872-.052-2.261-.157z"],["xmlns","http://www.w3.org/2000/svg","role","img","viewBox","0 0 38 24","width","38","height","24","aria-labelledby","pi-google_pay"],["id","pi-google_pay"],["d","M35 0H3C1.3 0 0 1.3 0 3v18c0 1.7 1.4 3 3 3h32c1.7 0 3-1.3 3-3V3c0-1.7-1.4-3-3-3z","fill","#000","opacity",".07"],["d","M35 1c1.1 0 2 .9 2 2v18c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V3c0-1.1.9-2 2-2h32","fill","#FFF"],["d","M18.093 11.976v3.2h-1.018v-7.9h2.691a2.447 2.447 0 0 1 1.747.692 2.28 2.28 0 0 1 .11 3.224l-.11.116c-.47.447-1.098.69-1.747.674l-1.673-.006zm0-3.732v2.788h1.698c.377.012.741-.135 1.005-.404a1.391 1.391 0 0 0-1.005-2.354l-1.698-.03zm6.484 1.348c.65-.03 1.286.188 1.778.613.445.43.682 1.03.65 1.649v3.334h-.969v-.766h-.049a1.93 1.93 0 0 1-1.673.931 2.17 2.17 0 0 1-1.496-.533 1.667 1.667 0 0 1-.613-1.324 1.606 1.606 0 0 1 .613-1.336 2.746 2.746 0 0 1 1.698-.515c.517-.02 1.03.093 1.49.331v-.208a1.134 1.134 0 0 0-.417-.901 1.416 1.416 0 0 0-.98-.368 1.545 1.545 0 0 0-1.319.717l-.895-.564a2.488 2.488 0 0 1 2.182-1.06zM23.29 13.52a.79.79 0 0 0 .337.662c.223.176.5.269.785.263.429-.001.84-.17 1.146-.472.305-.286.478-.685.478-1.103a2.047 2.047 0 0 0-1.324-.374 1.716 1.716 0 0 0-1.03.294.883.883 0 0 0-.392.73zm9.286-3.75l-3.39 7.79h-1.048l1.281-2.728-2.224-5.062h1.103l1.612 3.885 1.569-3.885h1.097z","fill","#5F6368"],["d","M13.986 11.284c0-.308-.024-.616-.073-.92h-4.29v1.747h2.451a2.096 2.096 0 0 1-.9 1.373v1.134h1.464a4.433 4.433 0 0 0 1.348-3.334z","fill","#4285F4"],["d","M9.629 15.721a4.352 4.352 0 0 0 3.01-1.097l-1.466-1.14a2.752 2.752 0 0 1-4.094-1.44H5.577v1.17a4.53 4.53 0 0 0 4.052 2.507z","fill","#34A853"],["d","M7.079 12.05a2.709 2.709 0 0 1 0-1.735v-1.17H5.577a4.505 4.505 0 0 0 0 4.075l1.502-1.17z","fill","#FBBC04"],["d","M9.629 8.44a2.452 2.452 0 0 1 1.74.68l1.3-1.293a4.37 4.37 0 0 0-3.065-1.183 4.53 4.53 0 0 0-4.027 2.5l1.502 1.171a2.715 2.715 0 0 1 2.55-1.875z","fill","#EA4335"],["viewBox","0 0 38 24","xmlns","http://www.w3.org/2000/svg","role","img","width","38","height","24","aria-labelledby","pi-master"],["id","pi-master"],["opacity",".07","d","M35 0H3C1.3 0 0 1.3 0 3v18c0 1.7 1.4 3 3 3h32c1.7 0 3-1.3 3-3V3c0-1.7-1.4-3-3-3z"],["fill","#fff","d","M35 1c1.1 0 2 .9 2 2v18c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V3c0-1.1.9-2 2-2h32"],["fill","#EB001B","cx","15","cy","12","r","7"],["fill","#F79E1B","cx","23","cy","12","r","7"],["fill","#FF5F00","d","M22 12c0-2.4-1.2-4.5-3-5.7-1.8 1.3-3 3.4-3 5.7s1.2 4.5 3 5.7c1.8-1.2 3-3.3 3-5.7z"],["xmlns","http://www.w3.org/2000/svg","role","img","viewBox","0 0 38 24","width","38","height","24","aria-labelledby","pi-shopify_pay"],["id","pi-shopify_pay"],["opacity",".07","d","M35 0H3C1.3 0 0 1.3 0 3v18c0 1.7 1.4 3 3 3h32c1.7 0 3-1.3 3-3V3c0-1.7-1.4-3-3-3z","fill","#000"],["d","M35.889 0C37.05 0 38 .982 38 2.182v19.636c0 1.2-.95 2.182-2.111 2.182H2.11C.95 24 0 23.018 0 21.818V2.182C0 .982.95 0 2.111 0H35.89z","fill","#5A31F4"],["d","M9.35 11.368c-1.017-.223-1.47-.31-1.47-.705 0-.372.306-.558.92-.558.54 0 .934.238 1.225.704a.079.079 0 00.104.03l1.146-.584a.082.082 0 00.032-.114c-.475-.831-1.353-1.286-2.51-1.286-1.52 0-2.464.755-2.464 1.956 0 1.275 1.15 1.597 2.17 1.82 1.02.222 1.474.31 1.474.705 0 .396-.332.582-.993.582-.612 0-1.065-.282-1.34-.83a.08.08 0 00-.107-.035l-1.143.57a.083.083 0 00-.036.111c.454.92 1.384 1.437 2.627 1.437 1.583 0 2.539-.742 2.539-1.98s-1.155-1.598-2.173-1.82v-.003zM15.49 8.855c-.65 0-1.224.232-1.636.646a.04.04 0 01-.069-.03v-2.64a.08.08 0 00-.08-.081H12.27a.08.08 0 00-.08.082v8.194a.08.08 0 00.08.082h1.433a.08.08 0 00.081-.082v-3.594c0-.695.528-1.227 1.239-1.227.71 0 1.226.521 1.226 1.227v3.594a.08.08 0 00.081.082h1.433a.08.08 0 00.081-.082v-3.594c0-1.51-.981-2.577-2.355-2.577zM20.753 8.62c-.778 0-1.507.24-2.03.588a.082.082 0 00-.027.109l.632 1.088a.08.08 0 00.11.03 2.5 2.5 0 011.318-.366c1.25 0 2.17.891 2.17 2.068 0 1.003-.736 1.745-1.669 1.745-.76 0-1.288-.446-1.288-1.077 0-.361.152-.657.548-.866a.08.08 0 00.032-.113l-.596-1.018a.08.08 0 00-.098-.035c-.799.299-1.359 1.018-1.359 1.984 0 1.46 1.152 2.55 2.76 2.55 1.877 0 3.227-1.313 3.227-3.195 0-2.018-1.57-3.492-3.73-3.492zM28.675 8.843c-.724 0-1.373.27-1.845.746-.026.027-.069.007-.069-.029v-.572a.08.08 0 00-.08-.082h-1.397a.08.08 0 00-.08.082v8.182a.08.08 0 00.08.081h1.433a.08.08 0 00.081-.081v-2.683c0-.036.043-.054.069-.03a2.6 2.6 0 001.808.7c1.682 0 2.993-1.373 2.993-3.157s-1.313-3.157-2.993-3.157zm-.271 4.929c-.956 0-1.681-.768-1.681-1.783s.723-1.783 1.681-1.783c.958 0 1.68.755 1.68 1.783 0 1.027-.713 1.783-1.681 1.783h.001z","fill","#fff"],["viewBox","-36 25 38 24","xmlns","http://www.w3.org/2000/svg","width","38","height","24","role","img","aria-labelledby","pi-unionpay"],["id","pi-unionpay"],["fill","#005B9A","d","M-36 46.8v.7-.7zM-18.3 25v24h-7.2c-1.3 0-2.1-1-1.8-2.3l4.4-19.4c.3-1.3 1.9-2.3 3.2-2.3h1.4zm12.6 0c-1.3 0-2.9 1-3.2 2.3l-4.5 19.4c-.3 1.3.5 2.3 1.8 2.3h-4.9V25h10.8z"],["fill","#E9292D","d","M-19.7 25c-1.3 0-2.9 1.1-3.2 2.3l-4.4 19.4c-.3 1.3.5 2.3 1.8 2.3h-8.9c-.8 0-1.5-.6-1.5-1.4v-21c0-.8.7-1.6 1.5-1.6h14.7z"],["fill","#0E73B9","d","M-5.7 25c-1.3 0-2.9 1.1-3.2 2.3l-4.4 19.4c-.3 1.3.5 2.3 1.8 2.3H-26h.5c-1.3 0-2.1-1-1.8-2.3l4.4-19.4c.3-1.3 1.9-2.3 3.2-2.3h14z"],["fill","#059DA4","d","M2 26.6v21c0 .8-.6 1.4-1.5 1.4h-12.1c-1.3 0-2.1-1.1-1.8-2.3l4.5-19.4C-8.6 26-7 25-5.7 25H.5c.9 0 1.5.7 1.5 1.6z"],["fill","#fff","d","M-21.122 38.645h.14c.14 0 .28-.07.28-.14l.42-.63h1.19l-.21.35h1.4l-.21.63h-1.68c-.21.28-.42.42-.7.42h-.84l.21-.63m-.21.91h3.01l-.21.7h-1.19l-.21.7h1.19l-.21.7h-1.19l-.28 1.05c-.07.14 0 .28.28.21h.98l-.21.7h-1.89c-.35 0-.49-.21-.35-.63l.35-1.33h-.77l.21-.7h.77l.21-.7h-.7l.21-.7zm4.83-1.75v.42s.56-.42 1.12-.42h1.96l-.77 2.66c-.07.28-.35.49-.77.49h-2.24l-.49 1.89c0 .07 0 .14.14.14h.42l-.14.56h-1.12c-.42 0-.56-.14-.49-.35l1.47-5.39h.91zm1.68.77h-1.75l-.21.7s.28-.21.77-.21h1.05l.14-.49zm-.63 1.68c.14 0 .21 0 .21-.14l.14-.35h-1.75l-.14.56 1.54-.07zm-1.19.84h.98v.42h.28c.14 0 .21-.07.21-.14l.07-.28h.84l-.14.49c-.07.35-.35.49-.77.56h-.56v.77c0 .14.07.21.35.21h.49l-.14.56h-1.19c-.35 0-.49-.14-.49-.49l.07-2.1zm4.2-2.45l.21-.84h1.19l-.07.28s.56-.28 1.05-.28h1.47l-.21.84h-.21l-1.12 3.85h.21l-.21.77h-.21l-.07.35h-1.19l.07-.35h-2.17l.21-.77h.21l1.12-3.85h-.28m1.26 0l-.28 1.05s.49-.21.91-.28c.07-.35.21-.77.21-.77h-.84zm-.49 1.54l-.28 1.12s.56-.28.98-.28c.14-.42.21-.77.21-.77l-.91-.07zm.21 2.31l.21-.77h-.84l-.21.77h.84zm2.87-4.69h1.12l.07.42c0 .07.07.14.21.14h.21l-.21.7h-.77c-.28 0-.49-.07-.49-.35l-.14-.91zm-.35 1.47h3.57l-.21.77h-1.19l-.21.7h1.12l-.21.77h-1.26l-.28.42h.63l.14.84c0 .07.07.14.21.14h.21l-.21.7h-.7c-.35 0-.56-.07-.56-.35l-.14-.77-.56.84c-.14.21-.35.35-.63.35h-1.05l.21-.7h.35c.14 0 .21-.07.35-.21l.84-1.26h-1.05l.21-.77h1.19l.21-.7h-1.19l.21-.77zm-19.74-5.04c-.14.7-.42 1.19-.91 1.54-.49.35-1.12.56-1.89.56-.7 0-1.26-.21-1.54-.56-.21-.28-.35-.56-.35-.98 0-.14 0-.35.07-.56l.84-3.92h1.19l-.77 3.92v.28c0 .21.07.35.14.49.14.21.35.28.7.28s.7-.07.91-.28c.21-.21.42-.42.49-.77l.77-3.92h1.19l-.84 3.92m1.12-1.54h.84l-.07.49.14-.14c.28-.28.63-.42 1.05-.42.35 0 .63.14.77.35.14.21.21.49.14.91l-.49 2.38h-.91l.42-2.17c.07-.28.07-.49 0-.56-.07-.14-.21-.14-.35-.14-.21 0-.42.07-.56.21-.14.14-.28.35-.28.63l-.42 2.03h-.91l.63-3.57m9.8 0h.84l-.07.49.14-.14c.28-.28.63-.42 1.05-.42.35 0 .63.14.77.35s.21.49.14.91l-.49 2.38h-.91l.42-2.24c.07-.21 0-.42-.07-.49-.07-.14-.21-.14-.35-.14-.21 0-.42.07-.56.21-.14.14-.28.35-.28.63l-.42 2.03h-.91l.7-3.57m-5.81 0h.98l-.77 3.5h-.98l.77-3.5m.35-1.33h.98l-.21.84h-.98l.21-.84zm1.4 4.55c-.21-.21-.35-.56-.35-.98v-.21c0-.07 0-.21.07-.28.14-.56.35-1.05.7-1.33.35-.35.84-.49 1.33-.49.42 0 .77.14 1.05.35.21.21.35.56.35.98v.21c0 .07 0 .21-.07.28-.14.56-.35.98-.7 1.33-.35.35-.84.49-1.33.49-.35 0-.7-.14-1.05-.35m1.89-.7c.14-.21.28-.49.35-.84v-.35c0-.21-.07-.35-.14-.49a.635.635 0 0 0-.49-.21c-.28 0-.49.07-.63.28-.14.21-.28.49-.35.84v.28c0 .21.07.35.14.49.14.14.28.21.49.21.28.07.42 0 .63-.21m6.51-4.69h2.52c.49 0 .84.14 1.12.35.28.21.35.56.35.91v.28c0 .07 0 .21-.07.28-.07.49-.35.98-.7 1.26-.42.35-.84.49-1.4.49h-1.4l-.42 2.03h-1.19l1.19-5.6m.56 2.59h1.12c.28 0 .49-.07.7-.21.14-.14.28-.35.35-.63v-.28c0-.21-.07-.35-.21-.42-.14-.07-.35-.14-.7-.14h-.91l-.35 1.68zm8.68 3.71c-.35.77-.7 1.26-.91 1.47-.21.21-.63.7-1.61.7l.07-.63c.84-.28 1.26-1.4 1.54-1.96l-.28-3.78h1.19l.07 2.38.91-2.31h1.05l-2.03 4.13m-2.94-3.85l-.42.28c-.42-.35-.84-.56-1.54-.21-.98.49-1.89 4.13.91 2.94l.14.21h1.12l.7-3.29-.91.07m-.56 1.82c-.21.56-.56.84-.91.77-.28-.14-.35-.63-.21-1.19.21-.56.56-.84.91-.77.28.14.35.63.21 1.19"],["viewBox","0 0 38 24","xmlns","http://www.w3.org/2000/svg","role","img","width","38","height","24","aria-labelledby","pi-visa"],["id","pi-visa"],["d","M28.3 10.1H28c-.4 1-.7 1.5-1 3h1.9c-.3-1.5-.3-2.2-.6-3zm2.9 5.9h-1.7c-.1 0-.1 0-.2-.1l-.2-.9-.1-.2h-2.4c-.1 0-.2 0-.2.2l-.3.9c0 .1-.1.1-.1.1h-2.1l.2-.5L27 8.7c0-.5.3-.7.8-.7h1.5c.1 0 .2 0 .2.2l1.4 6.5c.1.4.2.7.2 1.1.1.1.1.1.1.2zm-13.4-.3l.4-1.8c.1 0 .2.1.2.1.7.3 1.4.5 2.1.4.2 0 .5-.1.7-.2.5-.2.5-.7.1-1.1-.2-.2-.5-.3-.8-.5-.4-.2-.8-.4-1.1-.7-1.2-1-.8-2.4-.1-3.1.6-.4.9-.8 1.7-.8 1.2 0 2.5 0 3.1.2h.1c-.1.6-.2 1.1-.4 1.7-.5-.2-1-.4-1.5-.4-.3 0-.6 0-.9.1-.2 0-.3.1-.4.2-.2.2-.2.5 0 .7l.5.4c.4.2.8.4 1.1.6.5.3 1 .8 1.1 1.4.2.9-.1 1.7-.9 2.3-.5.4-.7.6-1.4.6-1.4 0-2.5.1-3.4-.2-.1.2-.1.2-.2.1zm-3.5.3c.1-.7.1-.7.2-1 .5-2.2 1-4.5 1.4-6.7.1-.2.1-.3.3-.3H18c-.2 1.2-.4 2.1-.7 3.2-.3 1.5-.6 3-1 4.5 0 .2-.1.2-.3.2M5 8.2c0-.1.2-.2.3-.2h3.4c.5 0 .9.3 1 .8l.9 4.4c0 .1 0 .1.1.2 0-.1.1-.1.1-.1l2.1-5.1c-.1-.1 0-.2.1-.2h2.1c0 .1 0 .1-.1.2l-3.1 7.3c-.1.2-.1.3-.2.4-.1.1-.3 0-.5 0H9.7c-.1 0-.2 0-.2-.2L7.9 9.5c-.2-.2-.5-.5-.9-.6-.6-.3-1.7-.5-1.9-.5L5 8.2z","fill","#142688"]],template:function(t,i){t&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),W(5,"Inform\xE1ci\xF3"),F(),L(6,"ul")(7,"li")(8,"a",4)(9,"span"),W(10,"\xC1ltal\xE1nos Szerz\u0151d\xE9si Felt\xE9telek"),F()()(),L(11,"li")(12,"a",4)(13,"span"),W(14,"Gyakran Ism\xE9telt K\xE9rd\xE9sek"),F()()(),L(15,"li")(16,"a",4)(17,"span"),W(18,"Adatv\xE9delmi t\xE1j\xE9koztat\xF3"),F()()()()(),de(19,"div",3),F(),L(20,"div",2),de(21,"div",3),L(22,"div",3)(23,"ul",5)(24,"li",6),qa(),L(25,"svg",7)(26,"title",8),W(27,"American Express"),F(),de(28,"path",9)(29,"path",10)(30,"path",11)(31,"path",12)(32,"path",13)(33,"path",14)(34,"path",15)(35,"path",16),F()(),_c(),L(36,"li",6),qa(),L(37,"svg",17)(38,"title",18),W(39,"Apple Pay"),F(),de(40,"path",19)(41,"path",20),L(42,"g")(43,"g"),de(44,"path",21)(45,"path",22),F(),L(46,"g"),de(47,"path",23)(48,"path",24)(49,"path",25),F()()()(),_c(),L(50,"li",6),qa(),L(51,"svg",26)(52,"title",27),W(53,"Google Pay"),F(),de(54,"path",28)(55,"path",29)(56,"path",30)(57,"path",31)(58,"path",32)(59,"path",33)(60,"path",34),F()(),_c(),L(61,"li",6),qa(),L(62,"svg",35)(63,"title",36),W(64,"Mastercard"),F(),de(65,"path",37)(66,"path",38)(67,"circle",39)(68,"circle",40)(69,"path",41),F()(),_c(),L(70,"li",6),qa(),L(71,"svg",42)(72,"title",43),W(73,"Shop Pay"),F(),de(74,"path",44)(75,"path",45)(76,"path",46),F()(),_c(),L(77,"li",6),qa(),L(78,"svg",47)(79,"title",48),W(80,"Union Pay"),F(),de(81,"path",49)(82,"path",50)(83,"path",51)(84,"path",52)(85,"path",53),F()(),_c(),L(86,"li",6),qa(),L(87,"svg",54)(88,"title",55),W(89,"Visa"),F(),de(90,"path",37)(91,"path",38)(92,"path",56),F()()()()()()())},styles:[".guide_section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;padding-top:90px;padding-left:40px;background:linear-gradient(45deg,#efcdbb,#dab8a4 70%,#a3735e calc(100% - 5px),#0000 calc(100% - 4px));background-size:calc(100% - 1px) auto;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:#a3735e}.guide_section[_ngcontent-%COMP%]{height:115vh}.guide_section[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{height:90vh}.guide_section[_ngcontent-%COMP%]{background-color:#000;height:23%;border-radius:20px;margin-top:0;padding-top:0}.guide[_ngcontent-%COMP%]{margin-right:280px}.guide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:80px}.guide_section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:80px 80px 0;color:#fff;font-size:5rem;font-family:VolteRounded-Bold}.guide_section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60vh;margin:auto}.guide_section[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;scrollbar-width:thin;padding-bottom:40px;margin:auto;color:#fff;text-align:center;border-radius:20px}.guide_section[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]{display:flex;flex:3;flex-direction:column;margin:0;padding:5px;min-width:270px;gap:0}.payment-icons-item[_ngcontent-%COMP%]{display:inline;line-height:17.25px;text-align:right;margin-right:10px;margin-bottom:40px;margin-top:0}h2[_ngcontent-%COMP%]{color:#fff;margin-left:30px;font-size:16.875px}li[_ngcontent-%COMP%]{list-style-type:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:1.5rem}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14.0625px}.container[_ngcontent-%COMP%]{padding-top:30px}"]})};var wv=class n{constructor(e,t){this.router=e;this.elementRef=t}buyButton={text:"V\xE1s\xE1rl\xE1s",path:"product"};ngAfterViewInit(){Vp.registerPlugin(Ze),Vp.to(".pingcredit",{y:"-200",opacity:1,duration:4,ease:"power2.out",scrollTrigger:{trigger:".small-trigger",start:"top 60%",end:"bottom 20%",scrub:1,markers:!1}}),Vp.to(".pingtrack",{y:"200",duration:2,ease:"power2.out",scrollTrigger:{trigger:".small-trigger",start:"top 90%",end:"bottom 40%",scrub:1,markers:!1}});let e=this.elementRef.nativeElement.querySelector("video"),t=this.elementRef.nativeElement.querySelector(".video-container");Ze.create({trigger:e,start:"top 90%",end:"bottom 10%",onEnter:()=>e.play(),onEnterBack:()=>e.play(),onLeaveBack:()=>e.pause(),markers:!1})}ngOnInit(){qV.default.init({once:!0})}buyButtonClick(){this.router.navigate([this.buyButton.path])}static \u0275fac=function(t){return new(t||n)(lt(xs),lt(Di))};static \u0275cmp=hi({type:n,selectors:[["app-home"]],decls:201,vars:15,consts:[["video",""],[1,"content"],[1,"header",2,"margin-bottom","0"],[1,"landing"],[1,"title","desktop-only",2,"margin-left","50px"],[1,"title","mobile-only",2,"margin","30px"],["data-aos","fade-up",1,"descript","mt-5",2,"text-align","center"],["src","/assets/images/trackcard.png","alt","SafeCard",1,"TrackCard","mobile-only",2,"width","50%","margin","0 auto"],[1,"card-text"],["src","/assets/images/trackcard.png","alt","SafeCard",1,"TrackCard","desktop-only",2,"width","27%","margin","0 auto"],["src","/assets/images/findmybadge.png","alt","applefindmybadge",1,"findmybadge","desktop-only"],["src","/assets/images/findmybadge.png","alt","applefindmybadge",1,"findmybadge","mobile-only",2,"padding-top","30px"],[1,"card_container","desktop-only",2,"margin-top","0"],[1,"card"],[1,"card-body"],[1,"row"],[1,"card1","col"],[1,"title"],[1,"card-2","col"],["alt","iphone",1,"card1pic",3,"src"],[1,"card-2","col","pingcard"],[1,"container","desktop-only"],["muted","","playsinline","",1,"trigger-video"],["src","/assets/videos/ping_card_animation.mp4","type","video/mp4",1,"trackcard-card","video-container"],["alt","iphone",1,"trackcard-card",3,"src"],[1,"border-effect"],[1,"container","mobile-only"],[1,"container","animationcont"],["alt","iphone",1,"trackcard-card","pingtrack",3,"src"],["alt","iphone",1,"creditcard-card","pingcredit",3,"src"],[1,"small-trigger",2,"margin-bottom","600px"],["alt","iphone",3,"src"],["alt","iphone",1,"card5pic",3,"src"],[1,"card_container","mobile-only"],[1,"card-2"],[1,"card-2","pingcard"],[1,"container"],["src","/assets/images/credit-safecard.png","alt",""],[1,"bottom_section"],[1,"guide_section"],["data-aos","fade-up",1,"row","images"],[1,"col-3","guide"],["src","/assets/images/tutor1.png","alt",""],[1,"guide"],["src","/assets/images/tutor2.png","alt",""],["src","/assets/images/tutor3.png","alt",""],["src","/assets/images/tutor4.png","alt",""],["src","/assets/images/tutor5.png","alt",""],[1,"buy","desktop-only"],[2,"padding-left","10px"],[1,"card-text-dark"],[1,"card-2","trackcard-buy"],[1,"price-button"],[1,"price"],[1,"btn","btn-primary",3,"click"],[1,"card-2","col","desktop-only","safecard-buy-desktop"],[1,"buy","mobile-only"],[1,"cardbuy"],[1,"trackcard-buy"]],template:function(t,i){if(t&1){let r=hr();L(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),W(4,"SafeCard"),F(),L(5,"h1",5),W(6,"SafeCard"),F()(),L(7,"div",6),de(8,"img",7),L(9,"h3",8),W(10,"Ne hagyd,"),F(),L(11,"h3",8),W(12,"hogy elhagyd."),F(),de(13,"img",9)(14,"img",10)(15,"img",11),F()(),L(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"h1",17),W(22,"Tudod hol keresd"),F(),L(23,"p",8),W(24,"Egyhelyen tal\xE1lod az Apple eszk\xF6zeiddel a Lok\xE1tor App-ban, \xEDgy mindig pontosan tudhatod, hol van a p\xE9nzt\xE1rc\xE1d."),F()(),L(25,"div",18),de(26,"img",19),F()()()(),L(27,"div",13)(28,"div",14)(29,"div",15)(30,"div",20)(31,"div",21)(32,"video",22,0),de(34,"source",23)(35,"img",24),F()(),de(36,"div",25),F(),L(37,"div",16)(38,"h1",17),W(39,"Pingeld meg"),F(),L(40,"p",8),W(41,"Helyezz egy SafeCardot a t\xE1rc\xE1dba, hogy k\xF6nnyebben megtal\xE1ld, ha elvesz\xEDten\xE9d. A Lok\xE1tor app T\xE1rgyak lapj\xE1r\xF3l hangot j\xE1tszhatsz le a SafeCard be\xE9p\xEDtett hangsz\xF3r\xF3j\xE1n kereszt\xFCl."),F()(),de(42,"div",26),F()()(),L(43,"div",13)(44,"div",14)(45,"div",15)(46,"div",16)(47,"h1",17),W(48,"Kicsi \xE9s k\xF6nny\u0171"),F(),L(49,"p",8),W(50,"Kialak\xEDt\xE1sa teljesen megegyezik egy bankk\xE1rtya m\xE9reteivel, \xEDgy egyszer\u0171en elhelyezheted p\xE9nzt\xE1rc\xE1dban, k\xE1rtyatart\xF3dban vagy ak\xE1r kism\xE9ret\u0171 t\xE1sk\xE1dban is."),F()(),L(51,"div",18)(52,"div",27),de(53,"img",28)(54,"img",29),F()()()()(),de(55,"div",30),L(56,"div",13)(57,"div",14)(58,"div",15)(59,"div",18),de(60,"img",31),F(),L(61,"div",16)(62,"h1",17),W(63,"Ha elvesz\xEDten\xE9d"),F(),L(64,"p",8),W(65,"A SafeCard Elveszett m\xF3dba \xE1ll\xEDthat\xF3, \xEDgy a h\xE1l\xF3zat \xE9rtes\xEDt, ha megtal\xE1lj\xE1k."),F()()()()(),L(66,"div",13)(67,"div",14)(68,"div",15)(69,"div",16)(70,"h1",17),W(71,"Megoszthatod ismer\u0151seiddel"),F(),L(72,"p",8),W(73,"Egy Safecardot ak\xE1r \xF6t emberrel is megoszthatsz, \xEDgy ha elhagyn\xE1d a telefonod csal\xE1dtagjaid vagy bar\xE1taid tov\xE1bbra is k\xF6vethetik a k\xE1rtya \xFAtj\xE1t."),F()(),L(74,"div",18),de(75,"img",32),F()()()()(),L(76,"div",33)(77,"div",13)(78,"div",14)(79,"div",15)(80,"div",16)(81,"h1",17),W(82,"Tudod hol keresd"),F(),L(83,"p",8),W(84,"Egyhelyen tal\xE1lod az Apple eszk\xF6zeiddel a Lok\xE1tor App-ban, \xEDgy mindig pontosan tudhatod, hol van a p\xE9nzt\xE1rc\xE1d."),F()(),L(85,"div",34),de(86,"img",32),F()()()(),L(87,"div",13)(88,"div",14)(89,"div",15)(90,"div",16)(91,"h1",17),W(92,"Pingeld meg"),F(),L(93,"p",8),W(94," Helyezz egy SafeCardot a t\xE1rc\xE1dba, hogy k\xF6nnyebben megtal\xE1ld, ha elvesz\xEDten\xE9d. A Lok\xE1tor app T\xE1rgyak lapj\xE1r\xF3l hangot j\xE1tszhatsz le a SafeCard be\xE9p\xEDtett hangsz\xF3r\xF3j\xE1n kereszt\xFCl. "),F()(),L(95,"div",35),de(96,"img",24),F(),de(97,"div",26),F()()(),L(98,"div",13)(99,"div",14)(100,"div",15)(101,"div",16)(102,"h1",17),W(103,"Kicsi \xE9s k\xF6nny\u0171"),F(),L(104,"p",8),W(105,"Kialak\xEDt\xE1sa teljesen megegyezik egy bankk\xE1rtya m\xE9reteivel, \xEDgy egyszer\u0171en elhelyezheted p\xE9nzt\xE1rc\xE1dban, k\xE1rtyatart\xF3dban vagy ak\xE1r kism\xE9ret\u0171 t\xE1sk\xE1dban is."),F()(),L(106,"div",35)(107,"div",36),de(108,"img",37),F()()()()(),de(109,"div",30),L(110,"div",13)(111,"div",14)(112,"div",15)(113,"div",16)(114,"h1",17),W(115,"Ha elvesz\xEDten\xE9d"),F(),L(116,"p",8),W(117,"A SafeCard Elveszett m\xF3dba \xE1ll\xEDthat\xF3, \xEDgy a h\xE1l\xF3zat \xE9rtes\xEDt, ha megtal\xE1lj\xE1k."),F()(),L(118,"div",18),de(119,"img",31),F()()()(),L(120,"div",13)(121,"div",14)(122,"div",15)(123,"div",16)(124,"h1",17),W(125,"Megoszthatod ismer\u0151seiddel"),F(),L(126,"p",8),W(127,"Egy Safecardot ak\xE1r \xF6t emberrel is megoszthatsz, \xEDgy ha elhagyn\xE1d a telefonod csal\xE1dtagjaid vagy bar\xE1taid tov\xE1bbra is k\xF6vethetik a k\xE1rtya \xFAtj\xE1t."),F()(),L(128,"div",18),de(129,"img",32),F()()()()(),L(130,"div",38)(131,"div",39)(132,"h1"),W(133,"\xDAtmutat\xF3 "),F(),L(134,"div",40)(135,"div",41)(136,"h3"),W(137,"1. l\xE9p\xE9s"),F(),L(138,"p"),W(139,"Nyisd meg a Lok\xE1tor-t \xE9s koppints a T\xE1rgyak-ra"),F(),de(140,"img",42),F(),L(141,"div",43)(142,"h3"),W(143,"2. l\xE9p\xE9s"),F(),L(144,"p"),W(145,"Nyomj a T\xE1rgy Hozz\xE1ad\xE1sa gombra"),F(),de(146,"img",44),F(),L(147,"div",43)(148,"h3"),W(149,"3. l\xE9p\xE9s"),F(),L(150,"p"),W(151,"Nyomd a SafeCardon tal\xE1lhat\xF3 gombot, m\xEDg hangjelz\xE9st nem ad"),F(),de(152,"img",45),F(),L(153,"div",43)(154,"h3"),W(155,"4. l\xE9p\xE9s"),F(),L(156,"p"),W(157,'Nyomj az "Egy\xE9b t\xE1mogatott t\xE1rgyak"-ra \xE9s v\xE1laszd ki a SafeCardot'),F(),de(158,"img",46),F(),L(159,"div",43)(160,"h3"),W(161,"5. l\xE9p\xE9s"),F(),L(162,"p"),W(163,"Sikeresen csatlakoztattad a SafeCardot"),F(),de(164,"img",47),F()()(),L(165,"div",48)(166,"div",13)(167,"div",14)(168,"div",15)(169,"div",16)(170,"h1",17),W(171,"SafeCard"),F(),L(172,"ul",49)(173,"li",50),W(174,"2 \xE9ves akkuml\xE1tor id\u0151"),F(),L(175,"li",50),W(176,"Apple Find My t\xE1mogat\xE1s"),F(),L(177,"li",50),W(178,"Be\xE9p\xEDtett hangsz\xF3r\xF3"),F()(),L(179,"div",51),de(180,"img",31),F(),L(181,"div",52)(182,"span",53),W(183,"8.990 Ft"),F(),L(184,"button",54),fi("click",function(){return Bi(r),ji(i.buyButtonClick())}),W(185),F()()(),L(186,"div",55),de(187,"img",31),F()()()()(),L(188,"div",56)(189,"div",13)(190,"div",57)(191,"h1",17),W(192,"SafeCard"),F(),L(193,"div",58),de(194,"img",31),F(),L(195,"div",52)(196,"span",53),W(197,"8.990 Ft"),F(),L(198,"button",54),fi("click",function(){return Bi(r),ji(i.buyButtonClick())}),W(199),F()()()()()(),de(200,"app-footer"),F()}t&2&&(ge(26),Fe("src","/assets/images/tutor5.png",dr),ge(9),Fe("src","/assets/images/ping_card_pic.png",dr),ge(18),Fe("src","/assets/images/trackcard.png",dr),ge(),Fe("src","/assets/images/creditcard.png",dr),ge(6),Fe("src","/assets/images/iphone_lokator.png",dr),ge(15),Fe("src","/assets/images/share_card.png",dr),ge(11),Fe("src","/assets/images/tutor5.png",dr),ge(10),Fe("src","/assets/images/ping_card_pic.png",dr),ge(23),Fe("src","/assets/images/iphone_lokator.png",dr),ge(10),Fe("src","/assets/images/share_card.png",dr),ge(51),Fe("src","/assets/images/trackcard.png",dr),ge(5),fr(i.buyButton.text),ge(2),Fe("src","/assets/images/trackcard_rotate.png",dr),ge(7),Fe("src","/assets/images/trackcard.png",dr),ge(5),fr(i.buyButton.text))},dependencies:[vv],styles:[".content[_ngcontent-%COMP%]{background:radial-gradient(100% 70% at center,#2c201a,#000);padding-top:4vw}.landing[_ngcontent-%COMP%]   .TrackCard[_ngcontent-%COMP%]{width:1rem;display:block;margin:auto}.header[_ngcontent-%COMP%]{background:radial-gradient(100% 70% at center,#2c201a,#000);padding-bottom:70px}.findmybadge[_ngcontent-%COMP%]{width:15%;display:block;margin:20px auto auto}.descript[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:5rem;color:#fff}.bold[_ngcontent-%COMP%]{font-weight:700}.title[_ngcontent-%COMP%]{background:-webkit-linear-gradient(45deg,#efcdbb,#dab8a4 20%,#a3735e calc(100% - 5px),rgba(0,0,0,0) calc(100% - 4px));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;font-family:VolteRounded-Bold;font-size:5rem}.header[_ngcontent-%COMP%]{padding-top:20px}.landing[_ngcontent-%COMP%]{margin-bottom:0}.card[_ngcontent-%COMP%]{background-color:#000;border-radius:20px;width:80%;margin:30px auto;border-width:0;box-shadow:0 0 10px #0003;height:80vh;font-family:VolteRounded-Bold;overflow:hidden;font-size:20px;font-style:normal;display:flex;position:sticky;top:10%;gap:100px}.card[_ngcontent-%COMP%]   .trackcard-card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .creditcard-card[_ngcontent-%COMP%]{height:30vh;margin:auto auto auto 60px}.small-trigger[_ngcontent-%COMP%]{height:10vh}.card[_ngcontent-%COMP%]   .creditcard-card[_ngcontent-%COMP%]{z-index:100}.card[_ngcontent-%COMP%]   .trackcard-card[_ngcontent-%COMP%]{z-index:0}.card_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:radial-gradient(100% 70% at center,#2c201a,#000);padding-top:40px;padding-bottom:50px;z-index:100}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:30px 30px 0}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:10px;padding-left:30px;font-weight:100;font-size:2rem;color:#000}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100vh}.card1pic[_ngcontent-%COMP%]{height:100vh;margin:12% auto auto}.card5pic[_ngcontent-%COMP%]{height:100vh;margin:1% auto auto}.card1[_ngcontent-%COMP%]{width:20%;display:block}.card2[_ngcontent-%COMP%]{width:50%;display:block}.card-text[_ngcontent-%COMP%]{background:linear-gradient(90deg,#efcdbb,#dab8a4 25%,#a3735e calc(100% - 5px),#0000 calc(100% - 4px));background-size:calc(100% - 1px) auto;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;font-family:VolteRounded-Bold}.card-text-dark[_ngcontent-%COMP%]{background:-webkit-linear-gradient(45deg,#efcdbb,#dab8a4 50%,#a3735e calc(100% - 5px),rgba(0,0,0,0) calc(100% - 4px));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-left:0}.animationcont[_ngcontent-%COMP%]{margin-top:50px}.video-container[_ngcontent-%COMP%]{width:100%;height:30vh;overflow:hidden}.trigger-video[_ngcontent-%COMP%]{padding:0;margin-bottom:70px;margin-left:170px}video[_ngcontent-%COMP%]{width:45vh}.bottom_section[_ngcontent-%COMP%]{background:radial-gradient(100% 70% at center,#2c201a,#000);-webkit-background-clip:border-box;background-clip:border-box;font-family:VolteRounded-bold;padding-top:30px}.guide_section[_ngcontent-%COMP%]{background-color:#000;height:23%;border-radius:20px}.guide[_ngcontent-%COMP%]{margin-right:280px}.guide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:80px}.guide_section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:80px 80px 0;color:#fff;font-size:5rem;font-family:VolteRounded-Bold}.guide_section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60vh;margin:auto}.guide_section[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;scrollbar-width:thin;padding-bottom:40px;margin:auto;color:#fff;text-align:center;border-radius:20px}.guide_section[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]{display:flex;flex:3;flex-direction:column;margin:0;padding:5px;min-width:270px;gap:0}.buy[_ngcontent-%COMP%]{margin:0 auto;width:80%;padding-top:10px;padding-bottom:50px}.buy[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#000;font-size:2rem;font-family:VolteRounded-Bold;margin-left:25px}.buy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:65%;height:auto}.buy[_ngcontent-%COMP%]   .card2[_ngcontent-%COMP%]{width:100%;display:block;margin-top:50px;margin-left:50px}.buy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000}.buy[_ngcontent-%COMP%]   .card1[_ngcontent-%COMP%]{width:100%;display:block;margin-top:50px;margin-left:50px;margin-right:100px}.buy[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:30px;width:200px;height:70px;font-size:2rem;display:block}.price[_ngcontent-%COMP%]{display:inline-block;margin-left:30px;font-size:2rem;background:linear-gradient(45deg,#efcdbb,#dab8a4 70%,#a3735e calc(100% - 5px),#0000 calc(100% - 4px));background-size:calc(100% - 1px) auto;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.price-button[_ngcontent-%COMP%]{display:inline-block;margin-top:90px}.mobile-only[_ngcontent-%COMP%]{display:none}.desktop-only[_ngcontent-%COMP%]{display:block}.card1[_ngcontent-%COMP%], .card2[_ngcontent-%COMP%]{width:50%;display:block}.trackcard-buy[_ngcontent-%COMP%]{display:none}.safecard-buy-desktop[_ngcontent-%COMP%]{margin-top:100px}@media screen and (max-width: 900px){.landing[_ngcontent-%COMP%]{margin-top:3rem}.findmybadge[_ngcontent-%COMP%]{width:50%;display:block;margin:20px auto}.title[_ngcontent-%COMP%]{margin:0 auto}.desktop-only[_ngcontent-%COMP%]{display:none;z-index:-1}.mobile-only[_ngcontent-%COMP%]{display:block}.landing[_ngcontent-%COMP%]   .TrackCard[_ngcontent-%COMP%]{width:50%;display:block;margin:auto}.landing[_ngcontent-%COMP%]   .findmybadge[_ngcontent-%COMP%]{width:30%;display:block;margin:20px auto}.descript[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:3rem}.header[_ngcontent-%COMP%]{margin-bottom:40px}.guide_section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;padding-top:90px;padding-left:40px}.guide_section[_ngcontent-%COMP%]{height:115vh}.guide_section[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{height:90vh}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh;margin:15% auto auto}.card[_ngcontent-%COMP%]{text-align:center;height:87vh;width:92%}.card1[_ngcontent-%COMP%]{display:block;width:100%;height:20%}.card1[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-bottom:0;font-size:2.5rem}.card1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:0;font-size:1rem}.card2[_ngcontent-%COMP%]{width:100%;display:block;margin:0 auto}.card[_ngcontent-%COMP%]   .trackcard-card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .creditcard-card[_ngcontent-%COMP%]{height:20vh;margin:auto;padding-bottom:30px}.card1pic[_ngcontent-%COMP%]{width:10%;height:auto;width:50%;display:block;margin-top:50px;margin-left:50px}.animationcont[_ngcontent-%COMP%]{margin-top:50px}.video-container[_ngcontent-%COMP%]{width:30%;overflow:hidden}.trigger-video[_ngcontent-%COMP%]{padding:0;margin-bottom:20px}video[_ngcontent-%COMP%]{width:20vh}.buy[_ngcontent-%COMP%]{margin:0 auto;width:96%;padding-top:20px;padding-bottom:30px}.buy[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:fit-content}.buy[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#000;font-size:2rem;font-family:VolteRounded-Bold;margin-left:25px}.buy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:65%;height:auto}.buy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-size:3rem}.buy[_ngcontent-%COMP%]   .card1[_ngcontent-%COMP%]{width:100%;display:block;margin-top:50px;margin-left:50px;margin-right:100px}.trackcard-buy[_ngcontent-%COMP%]{display:block;margin:0 auto}.buy[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;width:200px;height:70px;font-size:2rem;display:block;border-radius:40px}.price[_ngcontent-%COMP%]{display:inline-block;margin:0 auto;font-size:2rem}.price-button[_ngcontent-%COMP%]{display:inline-block;margin-top:90px;padding-bottom:30px}}"]})};var zY="firebase",GY="10.14.1";ws(zY,GY,"app");var fl=new $o("ANGULARFIRE2_VERSION");var WY=(n,e)=>{let t=e?[e]:CN(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},ha=class{constructor(){return WY(qY)}},qY="app-check";function dT(){}var bv=class{zone;delegate;constructor(e,t=Rb){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},hT=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dT,{},dT,dT)),t.pipe(fn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},th=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new bv(Zone.current)),this.insideAngular=t.run(()=>new bv(Zone.current,Na)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(z(ke))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KY(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function En(n){return QY(KY())(n)}function QY(n){return function(t){return t=t.lift(new hT(n.ngZone)),t.pipe(Es(n.outsideAngular),Wr(n.insideAngular))}}var YY=new Map,JY={activated:!1,tokenObservers:[]},ZY={initialized:!1,enabled:!1};function Os(n){return YY.get(n)||Object.assign({},JY)}function e3(){return ZY}var XY="https://content-firebaseappcheck.googleapis.com/v1";var eJ="exchangeDebugToken",KV={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Zfe=24*60*60*1e3;var gT=class{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return B(this,null,function*(){this.stop();try{this.pending=new Yn,this.pending.promise.catch(t=>{}),yield tJ(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Yn,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function tJ(n){return new Promise(e=>{setTimeout(e,n)})}var nJ={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},pl=new _N("appCheck","AppCheck",nJ);function t3(n){if(!Os(n).activated)throw pl.create("use-before-activation",{appName:n.name})}function n3(i,r){return B(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let p=yield o.getHeartbeatsHeader();p&&(s["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(n,a)}catch(p){throw pl.create("fetch-network-error",{originalErrorMessage:p?.message})}if(l.status!==200)throw pl.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(p){throw pl.create("fetch-parse-error",{originalErrorMessage:p?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw pl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let h=Number(d[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+h,issuedAtTimeMillis:f}})}function i3(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${XY}/projects/${t}/apps/${i}:${eJ}?key=${r}`,body:{debug_token:e}}}var iJ="firebase-app-check-database",rJ=1,mT="firebase-app-check-store";var Ev=null;function sJ(){return Ev||(Ev=new Promise((n,e)=>{try{let t=indexedDB.open(iJ,rJ);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(pl.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(mT,{keyPath:"compositeKey"})}}}catch(t){e(pl.create("storage-open",{originalErrorMessage:t?.message}))}}),Ev)}function oJ(n,e){return aJ(lJ(n),e)}function aJ(n,e){return B(this,null,function*(){let i=(yield sJ()).transaction(mT,"readwrite"),s=i.objectStore(mT).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(pl.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function lJ(n){return`${n.options.appId}-${n.name}`}var _T=new Ra("@firebase/app-check");function pT(n,e){return Ym()?oJ(n,e).catch(t=>{_T.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function r3(){return e3().enabled}function s3(){return B(this,null,function*(){let n=e3();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var cJ={error:"UNKNOWN_ERROR"};function uJ(n){return Km.encodeString(JSON.stringify(n),!1)}function yT(n,e=!1){return B(this,null,function*(){let t=n.app;t3(t);let i=Os(t),r=i.token,s;if(r&&!rg(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(rg(l)?r=l:yield pT(t,void 0))}if(!e&&r&&rg(r))return{token:r.token};let o=!1;if(r3()){i.exchangeTokenPromise||(i.exchangeTokenPromise=n3(i3(t,yield s3()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield pT(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield Os(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?_T.warn(l.message):_T.error(l),s=l}let a;return r?s?rg(r)?a={token:r.token,internalError:s}:a=YV(s):(a={token:r.token},i.token=r,yield pT(t,r)):a=YV(s),o&&pJ(t,a),a})}function dJ(n){return B(this,null,function*(){let e=n.app;t3(e);let{provider:t}=Os(e);if(r3()){let i=yield s3(),{token:r}=yield n3(i3(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function hJ(n,e,t,i){let{app:r}=n,s=Os(r),o={next:t,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&rg(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),QV(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>QV(n))}function o3(n,e){let t=Os(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function QV(n){let{app:e}=n,t=Os(e),i=t.tokenRefresher;i||(i=fJ(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function fJ(n){let{app:e}=n;return new gT(()=>B(this,null,function*(){let t=Os(e),i;if(t.token?i=yield yT(n,!0):i=yield yT(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Os(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},KV.RETRIAL_MIN_WAIT,KV.RETRIAL_MAX_WAIT)}function pJ(n,e){let t=Os(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function rg(n){return n.expireTimeMillis-Date.now()>0}function YV(n){return{token:uJ(cJ),error:n}}var vT=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Os(this.app);for(let t of e)o3(this.app,t.next);return Promise.resolve()}};function gJ(n,e){return new vT(n,e)}function mJ(n){return{getToken:e=>yT(n,e),getLimitedUseToken:()=>dJ(n),addTokenListener:e=>hJ(n,"INTERNAL",e),removeTokenListener:e=>o3(n.app,e)}}var _J="@firebase/app-check",yJ="0.8.8";var vJ="app-check",JV="app-check-internal";function wJ(){Zl(new Dr(vJ,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return gJ(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(JV).initialize()})),Zl(new Dr(JV,n=>{let e=n.getProvider("app-check").getImmediate();return mJ(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ws(_J,yJ)}wJ();var bJ=["localhost","0.0.0.0","127.0.0.1"],upe=typeof window<"u"&&bJ.includes(window.location.hostname);var EJ="firebase",CJ="10.14.1";Jn.registerVersion(EJ,CJ,"app-compat");var DJ=["ngOnDestroy"],l3=(n,e,t,i={})=>new Proxy(n,{get:(r,s)=>t.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(DJ.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{let h=d?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,h),h})})})});var Cv=class{constructor(e){return e}},gl=new J("angularfire2.app.options"),ml=new J("angularfire2.app.name");function Wc(n,e,t){let i=typeof t=="string"&&t||"[DEFAULT]",r=typeof t=="object"&&t||{};r.name=r.name||i;let o=Jn.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Jn.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){let a=!!module.hot;IJ("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Cv(o)}var IJ=(n,...e)=>{VC()&&typeof console<"u"&&console[n](...e)},TJ={provide:Cv,useFactory:Wc,deps:[gl,ke,[new fd,ml]]},c3=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:gl,useValue:t},{provide:ml,useValue:i}]}}constructor(t){Jn.registerVersion("angularfire",fl.full,"core"),Jn.registerVersion("angularfire",fl.full,"app-compat"),Jn.registerVersion("angular",c2.full,t.toString())}static \u0275fac=function(i){return new(i||n)(z(Hn))};static \u0275mod=Ne({type:n});static \u0275inj=Re({providers:[TJ]})}return n})();function nh(n,e,t,i,r){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return SJ(r,o)||(a3("error",`${e} was already initialized on the ${t} Firebase App with different settings.${AJ?" You may need to reload as Firebase is not HMR aware.":""}`),a3("warn",{is:r,was:o})),s;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}function SJ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var AJ=typeof module<"u"&&!!module.hot,a3=(n,...e)=>{VC()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var sg=new J("angularfire2.auth.use-emulator"),og=new J("angularfire2.auth.settings"),ag=new J("angularfire2.auth.tenant-id"),lg=new J("angularfire2.auth.langugage-code"),cg=new J("angularfire2.auth.use-device-language"),ug=new J("angularfire.auth.persistence"),dg=(n,e,t,i,r,s,o,a)=>nh(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(let[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[t,i,r,s,o,a]),Dv=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,s,o,a,l,c,d,h,f,p){let y=new yt,_=se(void 0).pipe(Wr(o.outsideAngular),Mt(()=>s.runOutsideAngular(()=>import("./chunk-IUXD6GHS.js"))),ne(()=>Wc(t,s,i)),ne(w=>dg(w,s,a,c,d,h,l,f)),R_({bufferSize:1,refCount:!1}));if(Ya(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=se(null);else{_.pipe(Kr()).subscribe();let w=_.pipe(Mt(x=>x.getRedirectResult().then(R=>R,()=>null)),En,R_({bufferSize:1,refCount:!1})),A=_.pipe(Mt(x=>new me(R=>({unsubscribe:s.runOutsideAngular(()=>x.onAuthStateChanged(P=>R.next(P),P=>R.error(P),()=>R.complete()))})))),M=_.pipe(Mt(x=>new me(R=>({unsubscribe:s.runOutsideAngular(()=>x.onIdTokenChanged(P=>R.next(P),P=>R.error(P),()=>R.complete()))}))));this.authState=w.pipe(N_(A),Es(o.outsideAngular),Wr(o.insideAngular)),this.user=w.pipe(N_(M),Es(o.outsideAngular),Wr(o.insideAngular)),this.idToken=this.user.pipe(Mt(x=>x?at(x.getIdToken()):se(null))),this.idTokenResult=this.user.pipe(Mt(x=>x?at(x.getIdTokenResult()):se(null))),this.credential=ic(w,y,this.authState.pipe(Kt(x=>!x))).pipe(ne(x=>x?.user?x:null),Es(o.outsideAngular),Wr(o.insideAngular))}return l3(this,_,s,{spy:{apply:(w,A,M)=>{(w.startsWith("signIn")||w.startsWith("createUser"))&&M.then(x=>y.next(x))}}})}static \u0275fac=function(i){return new(i||n)(z(gl),z(ml,8),z(Hn),z(ke),z(th),z(sg,8),z(og,8),z(ag,8),z(lg,8),z(cg,8),z(ug,8),z(ha,8))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var d3="@firebase/database",h3="1.0.8";var NS="";function OS(n){NS=n}var AT=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mn(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Jm(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var xT=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return zr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var H3=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new AT(e)}}catch{}return new xT},Kc=H3("localStorage"),MT=H3("sessionStorage");var oh=new Ra("@firebase/database"),z3=function(){let n=1;return function(){return n++}}(),G3=function(n){let e=EN(n),t=new bN;t.update(e);let i=t.digest();return Km.encodeByteArray(i)},kg=function(...n){let e="";for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=kg.apply(null,i):typeof i=="object"?e+=Mn(i):e+=i,e+=" "}return e},Qc=null,f3=!0,W3=function(n,e){Q(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(oh.logLevel=Gr.VERBOSE,Qc=oh.log.bind(oh),e&&MT.set("logging_enabled",!0)):typeof n=="function"?Qc=n:(Qc=null,MT.remove("logging_enabled"))},si=function(...n){if(f3===!0&&(f3=!1,Qc===null&&MT.get("logging_enabled")===!0&&W3(!0)),Qc){let e=kg.apply(null,n);Qc(e)}},Fg=function(n){return function(...e){si(n,...e)}},RT=function(...n){let e="FIREBASE INTERNAL ERROR: "+kg(...n);oh.error(e)},po=function(...n){let e=`FIREBASE FATAL ERROR: ${kg(...n)}`;throw oh.error(e),new Error(e)},Ri=function(...n){let e="FIREBASE WARNING: "+kg(...n);oh.warn(e)},MJ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zv=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},RJ=function(n){if(Ks()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},wl="[MIN_NAME]",fa="[MAX_NAME]",Jc=function(n,e){if(n===e)return 0;if(n===wl||e===fa)return-1;if(e===wl||n===fa)return 1;{let t=p3(n),i=p3(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},NJ=function(n,e){return n===e?0:n<e?-1:1},hg=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Mn(e))},PS=function(n){if(typeof n!="object"||n===null)return Mn(n);let e=[];for(let i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Mn(e[i]),t+=":",t+=PS(n[e[i]]);return t+="}",t},q3=function(n,e){let t=n.length;if(t<=e)return[n];let i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function oi(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var K3=function(n){Q(!Zv(n),"Invalid JSON number");let e=11,t=52,i=(1<<e-1)-1,r,s,o,a,l;n===0?(s=0,o=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=a+i,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-i-t))));let c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();let d=c.join(""),h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},OJ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},PJ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kJ(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");let i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}var FJ=new RegExp("^-?(0*)\\d{1,10}$"),LJ=-2147483648,VJ=2147483647,p3=function(n){if(FJ.test(n)){let e=Number(n);if(e>=LJ&&e<=VJ)return e}return null},gh=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw Ri("Exception was thrown by user callback.",t),e},Math.floor(0))}},BJ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mg=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var NT=class{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var OT=class{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(si("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}},_g=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),Tv="5",Q3="v",Y3="s",J3="r",Z3="f",X3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eB="ls",tB="p",PT="ac",nB="websocket",iB="long_polling";var Sv=class{constructor(e,t,i,r,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Kc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function jJ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function rB(n,e,t){Q(typeof e=="string","typeof type must == string"),Q(typeof t=="object","typeof params must == object");let i;if(e===nB)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===iB)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);jJ(n)&&(t.ns=n.namespace);let r=[];return oi(t,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}var kT=class{constructor(){this.counters_={}}incrementCounter(e,t=1){zr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return pN(this.counters_)}};var bT={},ET={};function kS(n){let e=n.toString();return bT[e]||(bT[e]=new kT),bT[e]}function UJ(n,e){let t=n.toString();return ET[t]||(ET[t]=e()),ET[t]}var FT=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&gh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var g3="start",$J="close",HJ="pLPCommand",zJ="pRTLPCB",sB="id",oB="pw",aB="ser",GJ="cb",WJ="seg",qJ="ts",KJ="d",QJ="dframe",lB=1870,cB=30,YJ=lB-cB,JJ=25e3,ZJ=3e4,bg=class n{constructor(e,t,i,r,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fg(e),this.stats_=kS(t),this.urlFn=l=>(this.appCheckToken&&(l[PT]=this.appCheckToken),rB(t,iB,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new FT(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ZJ)),RJ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new LT((...s)=>{let[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===g3)this.id=a,this.password=l;else if(o===$J)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[g3]="t",i[aB]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[GJ]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Q3]=Tv,this.transportSessionId&&(i[Y3]=this.transportSessionId),this.lastSessionId&&(i[eB]=this.lastSessionId),this.applicationId&&(i[tB]=this.applicationId),this.appCheckToken&&(i[PT]=this.appCheckToken),typeof location<"u"&&location.hostname&&X3.test(location.hostname)&&(i[J3]=Z3);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return Ks()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!OJ()&&!PJ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=Mn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let i=fN(t),r=q3(i,YJ);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Ks())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[QJ]="t",i[sB]=e,i[oB]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=Mn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},LT=class n{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ks())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=z3(),window[HJ+this.uniqueCallbackIdentifier]=e,window[zJ+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){si("frame writing exception"),a.stack&&si(a.stack),si(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||si("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[sB]=this.myID,e[oB]=this.myPW,e[aB]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+cB+i.length<=lB;){let o=this.pendingSegs.shift();i=i+"&"+WJ+r+"="+o.seg+"&"+qJ+r+"="+o.ts+"&"+KJ+r+"="+o.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(JJ)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,t){Ks()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{si("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var XJ=16384,eZ=45e3,Av=null;typeof MozWebSocket<"u"?Av=MozWebSocket:typeof WebSocket<"u"&&(Av=WebSocket);var rh=(()=>{class n{constructor(t,i,r,s,o,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fg(this.connId),this.stats_=kS(i),this.connURL=n.connectionURL_(i,a,l,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,o){let a={};return a[Q3]=Tv,!Ks()&&typeof location<"u"&&location.hostname&&X3.test(location.hostname)&&(a[J3]=Z3),i&&(a[Y3]=i),r&&(a[eB]=r),s&&(a[PT]=s),o&&(a[tB]=o),rB(t,nB,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kc.set("previous_websocket_failure",!0);try{let r;if(Ks()){let s=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Tv}/${NS}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Av(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Av!==null&&!n.forceDisallow_}static previouslyFailed(){return Kc.isInMemoryStorage||Kc.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Jm(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Q(this.frames===null,"We already have a frame buffer"),t.length<=6){let i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();let i=Mn(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=q3(i,XJ);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eZ))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),uB=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[bg,rh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let i=rh&&rh.isAvailable(),r=i&&!rh.previouslyFailed();if(t.webSocketOnly&&(i||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[rh];else{let s=this.transports_=[];for(let o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),tZ=6e4,nZ=5e3,iZ=10*1024,rZ=100*1024,CT="t",m3="d",sZ="s",_3="r",oZ="e",y3="o",v3="a",w3="n",b3="p",aZ="h",VT=class{constructor(e,t,i,r,s,o,a,l,c,d){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fg("c:"+this.id+":"),this.transportManager_=new uB(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=mg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rZ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>iZ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(CT in e){let t=e[CT];t===v3?this.upgradeIfSecondaryHealthy_():t===_3?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===y3&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=hg("t",e),i=hg("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:b3,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:v3,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:w3,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=hg("t",e),i=hg("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=hg(CT,e);if(m3 in e){let i=e[m3];if(t===aZ){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===w3){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===sZ?this.onConnectionShutdown_(i):t===_3?this.onReset_(i):t===oZ?RT("Server Error: "+i):t===y3?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RT("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Tv!==i&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),mg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tZ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nZ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:b3,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var xv=class{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}};var Mv=class{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});let r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var Rv=class n extends Mv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!cb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new n}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var E3=32,C3=768,Ct=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function Et(){return new Ct("")}function We(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function bl(n){return n.pieces_.length-n.pieceNum_}function Ft(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ct(n.pieces_,e)}function FS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function lZ(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Eg(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function dB(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ct(e,0)}function Yt(n,e){let t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ct)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ct(t,0)}function qe(n){return n.pieceNum_>=n.pieces_.length}function Ji(n,e){let t=We(n),i=We(e);if(t===null)return e;if(t===i)return Ji(Ft(n),Ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function cZ(n,e){let t=Eg(n,0),i=Eg(e,0);for(let r=0;r<t.length&&r<i.length;r++){let s=Jc(t[r],i[r]);if(s!==0)return s}return t.length===i.length?0:t.length<i.length?-1:1}function LS(n,e){if(bl(n)!==bl(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function cs(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(bl(n)>bl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}var BT=class{constructor(e,t){this.errorPrefix_=t,this.parts_=Eg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Cf(this.parts_[i]);hB(this)}};function uZ(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Cf(e),hB(n)}function dZ(n){let e=n.parts_.pop();n.byteLength_-=Cf(e),n.parts_.length>0&&(n.byteLength_-=1)}function hB(n){if(n.byteLength_>C3)throw new Error(n.errorPrefix_+"has a key path longer than "+C3+" bytes ("+n.byteLength_+").");if(n.parts_.length>E3)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+E3+") or object contains a cycle "+qc(n))}function qc(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var jT=class n extends Mv{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new n}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}};var fg=1e3,hZ=60*5*1e3,D3=30*1e3,fZ=1.3,pZ=3e4,gZ="server_kill",I3=3,VS=(()=>{class n extends xv{constructor(t,i,r,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Fg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fg,this.maxReconnectDelay_=hZ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ks())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jT.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Rv.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){let s=++this.requestNumber_,o={r:s,a:t,b:i};this.log_(Mn(o)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();let i=new Yn,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),i.promise}listen(t,i,r,s){this.initConnection_();let o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){let i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){let i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);let o={p:r},a="q";t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,d=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,s),t.onComplete&&t.onComplete(d,c))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&zr(t,"w")){let r=Ma(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||vN(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=D3)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,i=yN(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{let o=s.s,a=s.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){let r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);let o={p:t},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){let o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,o){this.initConnection_();let a={p:i,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(t){let i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){let i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Mn(t));let i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):RT("Unrecognized action received from server: "+Mn(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fg,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=fg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pZ&&(this.reconnectDelay_=fg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fZ)}this.onConnectStatus_(!1)}establishConnection_(){return B(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},d=function(f){Q(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:d};let h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,p]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?si("getToken() completed but was canceled"):(si("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,l=new VT(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,y=>{Ri(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(gZ)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ri(f),c())}}})}interrupt(t){si("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){si("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Zm(this.interruptReasons_)&&(this.reconnectDelay_=fg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(o=>PS(o)).join("$"):r="default";let s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){let r=new Ct(t).toString(),s;if(this.listens.has(r)){let o=this.listens.get(r);s=o.get(i),o.delete(i),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){si("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=I3&&(this.reconnectDelay_=D3,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){si("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=I3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},i="js";Ks()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),t["sdk."+i+"."+NS.replace(/\./g,"-")]=1,cb()?t["framework.cordova"]=1:gN()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=Rv.getInstance().currentlyOnline();return Zm(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),Xe=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var ah=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let i=new Xe(wl,e),r=new Xe(wl,t);return this.compare(i,r)!==0}minPost(){return Xe.MIN}};var Iv,Nv=class extends ah{static get __EMPTY_NODE(){return Iv}static set __EMPTY_NODE(e){Iv=e}compare(e,t){return Jc(e.name,t.name)}isDefinedOn(e){throw Nu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Xe.MIN}maxPost(){return new Xe(fa,Iv)}makePost(e,t){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new Xe(e,Iv)}toString(){return".key"}},fo=new Nv;var sh=class{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?i(e.key,t):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Ps=(()=>{class n{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??us.EMPTY_NODE,this.right=o??us.EMPTY_NODE}copy(t,i,r,s,o){return new n(t??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this,o=r(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,i,r),null):o===0?s=s.copy(null,i,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return us.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return us.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),UT=class{copy(e,t,i,r,s){return this}insert(e,t,i){return new Ps(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},us=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ps.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ps.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new sh(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new sh(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new sh(this.root_,null,this.comparator_,!0,e)}};us.EMPTY_NODE=new UT;function mZ(n,e){return Jc(n.name,e.name)}function BS(n,e){return Jc(n,e)}var $T;function _Z(n){$T=n}var fB=function(n){return typeof n=="number"?"number:"+K3(n):"string:"+n},pB=function(n){if(n.isLeafNode()){let e=n.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zr(e,".sv"),"Priority must be a string or number.")}else Q(n===$T||n.isEmpty(),"priority of unexpected type.");Q(n===$T||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var T3,lh=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pB(this.priorityNode_)}static set __childrenNodeConstructor(t){T3=t}static get __childrenNodeConstructor(){return T3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return qe(t)?this:We(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){let r=We(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||bl(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+fB(this.priorityNode_.val())+":");let i=typeof this.value_;t+=i+":",i==="number"?t+=K3(this.value_):t+=this.value_,this.lazyHash_=G3(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(Q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return Q(s>=0,"Unknown leaf type: "+i),Q(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),gB,mB;function yZ(n){gB=n}function vZ(n){mB=n}var HT=class extends ah{compare(e,t){let i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return s===0?Jc(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Xe.MIN}maxPost(){return new Xe(fa,new lh("[PRIORITY-POST]",mB))}makePost(e,t){let i=gB(e);return new Xe(t,new lh("[PRIORITY-POST]",i))}toString(){return".priority"}},jt=new HT;var wZ=Math.log(2),zT=class{constructor(e){let t=s=>parseInt(Math.log(s)/wZ,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Ov=function(n,e,t,i){n.sort(e);let r=function(l,c){let d=c-l,h,f;if(d===0)return null;if(d===1)return h=n[l],f=t?t(h):h,new Ps(f,h.node,Ps.BLACK,null,null);{let p=parseInt(d/2,10)+l,y=r(l,p),_=r(p+1,c);return h=n[p],f=t?t(h):h,new Ps(f,h.node,Ps.BLACK,y,_)}},s=function(l){let c=null,d=null,h=n.length,f=function(y,_){let w=h-y,A=h;h-=y;let M=r(w+1,A),x=n[w],R=t?t(x):x;p(new Ps(R,x.node,_,null,M))},p=function(y){c?(c.left=y,c=y):(d=y,c=y)};for(let y=0;y<l.count;++y){let _=l.nextBitIsOne(),w=Math.pow(2,l.count-(y+1));_?f(w,Ps.BLACK):(f(w,Ps.BLACK),f(w,Ps.RED))}return d},o=new zT(n.length),a=s(o);return new us(i||e,a)};var DT,ih={},ch=class n{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Q(ih&&jt,"ChildrenNode.ts has not been loaded"),DT=DT||new n({".priority":ih},{".priority":jt}),DT}get(e){let t=Ma(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof us?t:null}hasIndex(e){return zr(this.indexSet_,e.toString())}addIndex(e,t){Q(e!==fo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,s=t.getIterator(Xe.Wrap),o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Ov(i,e.getCompare()):a=ih;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let d=Object.assign({},this.indexes_);return d[l]=a,new n(d,c)}addToIndexes(e,t){let i=Ef(this.indexes_,(r,s)=>{let o=Ma(this.indexSet_,s);if(Q(o,"Missing index implementation for "+s),r===ih)if(o.isDefinedOn(e.node)){let a=[],l=t.getIterator(Xe.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ov(a,o.getCompare())}else return ih;else{let a=t.get(e.name),l=r;return a&&(l=l.remove(new Xe(e.name,a))),l.insert(e,e.node)}});return new n(i,this.indexSet_)}removeFromIndexes(e,t){let i=Ef(this.indexes_,r=>{if(r===ih)return r;{let s=t.get(e.name);return s?r.remove(new Xe(e.name,s)):r}});return new n(i,this.indexSet_)}};var pg,Oe=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&pB(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pg||(pg=new n(new us(BS),null,ch.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pg}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let i=this.children_.get(t);return i===null?pg:i}}getChild(t){let i=We(t);return i===null?this:this.getImmediateChild(i).getChild(Ft(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(Q(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{let r=new Xe(t,i),s,o;i.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));let a=s.isEmpty()?pg:this.priorityNode_;return new n(s,a,o)}}updateChild(t,i){let r=We(t);if(r===null)return i;{Q(We(t)!==".priority"||bl(t)===1,".priority must be the last token in a path");let s=this.getImmediateChild(r).updateChild(Ft(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let i={},r=0,s=0,o=!0;if(this.forEachChild(jt,(a,l)=>{i[a]=l.val(t),r++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+fB(this.getPriority().val())+":"),this.forEachChild(jt,(i,r)=>{let s=r.hash();s!==""&&(t+=":"+i+":"+s)}),this.lazyHash_=t===""?"":G3(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){let s=this.resolveIndex_(r);if(s){let o=s.getPredecessorKey(new Xe(t,i));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){let i=this.getFirstChildName(t);return i?new Xe(i,this.children_.get(i)):null}getLastChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){let i=this.getLastChildName(t);return i?new Xe(i,this.children_.get(i)):null}forEachChild(t,i){let r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{let s=this.children_.getIteratorFrom(t.name,Xe.Wrap),o=s.peek();for(;o!=null&&i.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{let s=this.children_.getReverseIteratorFrom(t.name,Xe.Wrap),o=s.peek();for(;o!=null&&i.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Lg?-1:0}withIndex(t){if(t===fo||this.indexMap_.hasIndex(t))return this;{let i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===fo||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(jt),s=i.getIterator(jt),o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===fo?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),GT=class extends Oe{constructor(){super(new us(BS),Oe.EMPTY_NODE,ch.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Oe.EMPTY_NODE}isEmpty(){return!1}},Lg=new GT;Object.defineProperties(Xe,{MIN:{value:new Xe(wl,Oe.EMPTY_NODE)},MAX:{value:new Xe(fa,Lg)}});Nv.__EMPTY_NODE=Oe.EMPTY_NODE;lh.__childrenNodeConstructor=Oe;_Z(Lg);vZ(Lg);var bZ=!0;function sn(n,e=null){if(n===null)return Oe.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new lh(t,sn(e))}if(!(n instanceof Array)&&bZ){let t=[],i=!1;if(oi(n,(o,a)=>{if(o.substring(0,1)!=="."){let l=sn(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new Xe(o,l)))}}),t.length===0)return Oe.EMPTY_NODE;let s=Ov(t,mZ,o=>o.name,BS);if(i){let o=Ov(t,jt.getCompare());return new Oe(s,sn(e),new ch({".priority":o},{".priority":jt}))}else return new Oe(s,sn(e),ch.Default)}else{let t=Oe.EMPTY_NODE;return oi(n,(i,r)=>{if(zr(n,i)&&i.substring(0,1)!=="."){let s=sn(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(sn(e))}}yZ(sn);var Cg=class extends ah{constructor(e){super(),this.indexPath_=e,Q(!qe(e)&&We(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return s===0?Jc(e.name,t.name):s}makePost(e,t){let i=sn(e),r=Oe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Xe(t,r)}maxPost(){let e=Oe.EMPTY_NODE.updateChild(this.indexPath_,Lg);return new Xe(fa,e)}toString(){return Eg(this.indexPath_,0).join("/")}};var WT=class extends ah{compare(e,t){let i=e.node.compareTo(t.node);return i===0?Jc(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Xe.MIN}maxPost(){return Xe.MAX}makePost(e,t){let i=sn(e);return new Xe(t,i)}toString(){return".value"}},jS=new WT;function _B(n){return{type:"value",snapshotNode:n}}function uh(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Dg(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ig(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function EZ(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var Tg=class{constructor(e){this.index_=e}updateChild(e,t,i,r,s,o){Q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(t)?o.trackChildChange(Dg(t,a)):Q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(uh(t,i)):o.trackChildChange(Ig(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(jt,(r,s)=>{t.hasChild(r)||i.trackChildChange(Dg(r,s))}),t.isLeafNode()||t.forEachChild(jt,(r,s)=>{if(e.hasChild(r)){let o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Ig(r,s,o))}else i.trackChildChange(uh(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Oe.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Pv=class n{constructor(e){this.indexedFilter_=new Tg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=n.getStartPost_(e),this.endPost_=n.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,o){return this.matches(new Xe(t,i))||(i=Oe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,o)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Oe.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Oe.EMPTY_NODE);let s=this;return t.forEachChild(jt,(o,a)=>{s.matches(new Xe(o,a))||(r=r.updateImmediateChild(o,Oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}};var qT=class{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{let i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Pv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,o){return this.rangedFilter_.matches(new Xe(t,i))||(i=Oe.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,o):this.fullLimitUpdateChild_(e,t,i,s,o)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=Oe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(Oe.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,Oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let o;if(this.reverse_){let h=this.index_.getCompare();o=(f,p)=>h(p,f)}else o=this.index_.getCompare();let a=e;Q(a.numChildren()===this.limit_,"");let l=new Xe(t,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(t)){let h=a.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===t||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);let p=f==null?1:o(f,l);if(d&&!i.isEmpty()&&p>=0)return s?.trackChildChange(Ig(t,i,h)),a.updateImmediateChild(t,i);{s?.trackChildChange(Dg(t,h));let _=a.updateImmediateChild(t,Oe.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s?.trackChildChange(uh(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return i.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Dg(c.name,c.node)),s.trackChildChange(uh(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(c.name,Oe.EMPTY_NODE)):e}};var Sg=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wl}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jt}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function CZ(n){return n.loadsAllData()?new Tg(n.getIndex()):n.hasLimit()?new qT(n):new Pv(n)}function DZ(n,e){let t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}function IZ(n,e){let t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}function KT(n,e,t){let i=n.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,t!=null?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function TZ(n,e,t){let i;return n.index_===fo||t?i=KT(n,e,t):i=KT(n,e,fa),i.startAfterSet_=!0,i}function QT(n,e,t){let i=n.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,t!==void 0?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function SZ(n,e,t){let i;return n.index_===fo||t?i=QT(n,e,t):i=QT(n,e,wl),i.endBeforeSet_=!0,i}function Xv(n,e){let t=n.copy();return t.index_=e,t}function S3(n){let e={};if(n.isDefault())return e;let t;if(n.index_===jt?t="$priority":n.index_===jS?t="$value":n.index_===fo?t="$key":(Q(n.index_ instanceof Cg,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Mn(t),n.startSet_){let i=n.startAfterSet_?"startAfter":"startAt";e[i]=Mn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Mn(n.indexStartName_))}if(n.endSet_){let i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Mn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Mn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function A3(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==jt&&(e.i=n.index_.toString()),e}var YT=class n extends xv{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Fg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=n.getListenId_(e,i),a={};this.listens_[o]=a;let l=S3(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,i),Ma(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",r(f,null)}})}unlisten(e,t){let i=n.getListenId_(e,t);delete this.listens_[i]}get(e){let t=S3(e._queryParams),i=e._path.toString(),r=new Yn;return this.restRequest_(i+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wN(t);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Jm(a.responseText)}catch{Ri("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Ri("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}};var JT=class{constructor(){this.rootNode_=Oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function kv(){return{value:null,children:new Map}}function mh(n,e,t){if(qe(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let i=We(e);n.children.has(i)||n.children.set(i,kv());let r=n.children.get(i);e=Ft(e),mh(r,e,t)}}function ZT(n,e){if(qe(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;{let t=n.value;return n.value=null,t.forEachChild(jt,(i,r)=>{mh(n,new Ct(i),r)}),ZT(n,e)}}else if(n.children.size>0){let t=We(e);return e=Ft(e),n.children.has(t)&&ZT(n.children.get(t),e)&&n.children.delete(t),n.children.size===0}else return!0}function XT(n,e,t){n.value!==null?t(e,n.value):AZ(n,(i,r)=>{let s=new Ct(e.toString()+"/"+i);XT(r,s,t)})}function AZ(n,e){n.children.forEach((t,i)=>{e(i,t)})}var eS=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&oi(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}};var x3=10*1e3,xZ=30*1e3,MZ=5*60*1e3,tS=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new eS(e);let i=x3+(xZ-x3)*Math.random();mg(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),t={},i=!1;oi(e,(r,s)=>{s>0&&zr(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),mg(this.reportStats_.bind(this),Math.floor(Math.random()*2*MZ))}};var ho=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(ho||{});function US(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $S(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function HS(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var nS=class n{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=ho.ACK_USER_WRITE,this.source=US()}operationForChild(e){if(qe(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new Ct(e));return new n(Et(),t,this.revert)}}else return Q(We(this.path)===e,"operationForChild called for unrelated child."),new n(Ft(this.path),this.affectedTree,this.revert)}};var Fv=class n{constructor(e,t){this.source=e,this.path=t,this.type=ho.LISTEN_COMPLETE}operationForChild(e){return qe(this.path)?new n(this.source,Et()):new n(this.source,Ft(this.path))}};var dh=class n{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=ho.OVERWRITE}operationForChild(e){return qe(this.path)?new n(this.source,Et(),this.snap.getImmediateChild(e)):new n(this.source,Ft(this.path),this.snap)}};var Ag=class n{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=ho.MERGE}operationForChild(e){if(qe(this.path)){let t=this.children.subtree(new Ct(e));return t.isEmpty()?null:t.value?new dh(this.source,Et(),t.value):new n(this.source,Et(),t)}else return Q(We(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,Ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var go=class{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(qe(e))return this.isFullyInitialized()&&!this.filtered_;let t=We(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var iS=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function RZ(n,e,t,i){let r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(EZ(o.childName,o.snapshotNode))}),gg(n,r,"child_removed",e,i,t),gg(n,r,"child_added",e,i,t),gg(n,r,"child_moved",s,i,t),gg(n,r,"child_changed",e,i,t),gg(n,r,"value",e,i,t),r}function gg(n,e,t,i,r,s){let o=i.filter(a=>a.type===t);o.sort((a,l)=>OZ(n,a,l)),o.forEach(a=>{let l=NZ(n,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function NZ(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function OZ(n,e,t){if(e.childName==null||t.childName==null)throw Nu("Should only compare child_ events.");let i=new Xe(e.childName,e.snapshotNode),r=new Xe(t.childName,t.snapshotNode);return n.index_.compare(i,r)}function e1(n,e){return{eventCache:n,serverCache:e}}function yg(n,e,t,i){return e1(new go(e,t,i),n.serverCache)}function yB(n,e,t,i){return e1(n.eventCache,new go(e,t,i))}function Lv(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Yc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var IT,PZ=()=>(IT||(IT=new us(NJ)),IT),Zi=class n{constructor(e,t=PZ()){this.value=e,this.children=t}static fromObject(e){let t=new n(null);return oi(e,(i,r)=>{t=t.set(new Ct(i),r)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Et(),value:this.value};if(qe(e))return null;{let i=We(e),r=this.children.get(i);if(r!==null){let s=r.findRootMostMatchingPathAndValue(Ft(e),t);return s!=null?{path:Yt(new Ct(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(qe(e))return this;{let t=We(e),i=this.children.get(t);return i!==null?i.subtree(Ft(e)):new n(null)}}set(e,t){if(qe(e))return new n(t,this.children);{let i=We(e),s=(this.children.get(i)||new n(null)).set(Ft(e),t),o=this.children.insert(i,s);return new n(this.value,o)}}remove(e){if(qe(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=We(e),i=this.children.get(t);if(i){let r=i.remove(Ft(e)),s;return r.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,r),this.value===null&&s.isEmpty()?new n(null):new n(this.value,s)}else return this}}get(e){if(qe(e))return this.value;{let t=We(e),i=this.children.get(t);return i?i.get(Ft(e)):null}}setTree(e,t){if(qe(e))return t;{let i=We(e),s=(this.children.get(i)||new n(null)).setTree(Ft(e),t),o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new n(this.value,o)}}fold(e){return this.fold_(Et(),e)}fold_(e,t){let i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Yt(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Et(),t)}findOnPath_(e,t,i){let r=this.value?i(t,this.value):!1;if(r)return r;if(qe(e))return null;{let s=We(e),o=this.children.get(s);return o?o.findOnPath_(Ft(e),Yt(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Et(),t)}foreachOnPath_(e,t,i){if(qe(e))return this;{this.value&&i(t,this.value);let r=We(e),s=this.children.get(r);return s?s.foreachOnPath_(Ft(e),Yt(t,r),i):new n(null)}}foreach(e){this.foreach_(Et(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Yt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}};var ks=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new Zi(null))}};function vg(n,e,t){if(qe(e))return new ks(new Zi(t));{let i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,s=i.value,o=Ji(r,e);return s=s.updateChild(o,t),new ks(n.writeTree_.set(r,s))}else{let r=new Zi(t),s=n.writeTree_.setTree(e,r);return new ks(s)}}}function rS(n,e,t){let i=n;return oi(t,(r,s)=>{i=vg(i,Yt(e,r),s)}),i}function M3(n,e){if(qe(e))return ks.empty();{let t=n.writeTree_.setTree(e,new Zi(null));return new ks(t)}}function sS(n,e){return Zc(n,e)!=null}function Zc(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Ji(t.path,e)):null}function R3(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(jt,(i,r)=>{e.push(new Xe(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Xe(i,r.value))}),e}function yl(n,e){if(qe(e))return n;{let t=Zc(n,e);return t!=null?new ks(new Zi(t)):new ks(n.writeTree_.subtree(e))}}function oS(n){return n.writeTree_.isEmpty()}function hh(n,e){return vB(Et(),n.writeTree_,e)}function vB(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(Q(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):t=vB(Yt(n,r),s,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(Yt(n,".priority"),i)),t}}function t1(n,e){return CB(e,n)}function kZ(n,e,t,i,r){Q(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=vg(n.visibleWrites,e,t)),n.lastWriteId=i}function FZ(n,e,t,i){Q(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=rS(n.visibleWrites,e,t),n.lastWriteId=i}function LZ(n,e){for(let t=0;t<n.allWrites.length;t++){let i=n.allWrites[t];if(i.writeId===e)return i}return null}function VZ(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);Q(t>=0,"removeWrite called with nonexistent writeId.");let i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){let a=n.allWrites[o];a.visible&&(o>=t&&BZ(a,i.path)?r=!1:cs(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return jZ(n),!0;if(i.snap)n.visibleWrites=M3(n.visibleWrites,i.path);else{let a=i.children;oi(a,l=>{n.visibleWrites=M3(n.visibleWrites,Yt(i.path,l))})}return!0}else return!1}function BZ(n,e){if(n.snap)return cs(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&cs(Yt(n.path,t),e))return!0;return!1}function jZ(n){n.visibleWrites=wB(n.allWrites,UZ,Et()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function UZ(n){return n.visible}function wB(n,e,t){let i=ks.empty();for(let r=0;r<n.length;++r){let s=n[r];if(e(s)){let o=s.path,a;if(s.snap)cs(t,o)?(a=Ji(t,o),i=vg(i,a,s.snap)):cs(o,t)&&(a=Ji(o,t),i=vg(i,Et(),s.snap.getChild(a)));else if(s.children){if(cs(t,o))a=Ji(t,o),i=rS(i,a,s.children);else if(cs(o,t))if(a=Ji(o,t),qe(a))i=rS(i,Et(),s.children);else{let l=Ma(s.children,We(a));if(l){let c=l.getChild(Ft(a));i=vg(i,Et(),c)}}}else throw Nu("WriteRecord should have .snap or .children")}}return i}function bB(n,e,t,i,r){if(!i&&!r){let s=Zc(n.visibleWrites,e);if(s!=null)return s;{let o=yl(n.visibleWrites,e);if(oS(o))return t;if(t==null&&!sS(o,Et()))return null;{let a=t||Oe.EMPTY_NODE;return hh(o,a)}}}else{let s=yl(n.visibleWrites,e);if(!r&&oS(s))return t;if(!r&&t==null&&!sS(s,Et()))return null;{let o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(cs(c.path,e)||cs(e,c.path))},a=wB(n.allWrites,o,e),l=t||Oe.EMPTY_NODE;return hh(a,l)}}}function $Z(n,e,t){let i=Oe.EMPTY_NODE,r=Zc(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(jt,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(t){let s=yl(n.visibleWrites,e);return t.forEachChild(jt,(o,a)=>{let l=hh(yl(s,new Ct(o)),a);i=i.updateImmediateChild(o,l)}),R3(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{let s=yl(n.visibleWrites,e);return R3(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function HZ(n,e,t,i,r){Q(i||r,"Either existingEventSnap or existingServerSnap must exist");let s=Yt(e,t);if(sS(n.visibleWrites,s))return null;{let o=yl(n.visibleWrites,s);return oS(o)?r.getChild(t):hh(o,r.getChild(t))}}function zZ(n,e,t,i){let r=Yt(e,t),s=Zc(n.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(t)){let o=yl(n.visibleWrites,r);return hh(o,i.getNode().getImmediateChild(t))}else return null}function GZ(n,e){return Zc(n.visibleWrites,e)}function WZ(n,e,t,i,r,s,o){let a,l=yl(n.visibleWrites,e),c=Zc(l,Et());if(c!=null)a=c;else if(t!=null)a=hh(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let d=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o),p=f.getNext();for(;p&&d.length<r;)h(p,i)!==0&&d.push(p),p=f.getNext();return d}else return[]}function qZ(){return{visibleWrites:ks.empty(),allWrites:[],lastWriteId:-1}}function Vv(n,e,t,i){return bB(n.writeTree,n.treePath,e,t,i)}function zS(n,e){return $Z(n.writeTree,n.treePath,e)}function N3(n,e,t,i){return HZ(n.writeTree,n.treePath,e,t,i)}function Bv(n,e){return GZ(n.writeTree,Yt(n.treePath,e))}function KZ(n,e,t,i,r,s){return WZ(n.writeTree,n.treePath,e,t,i,r,s)}function GS(n,e,t){return zZ(n.writeTree,n.treePath,e,t)}function EB(n,e){return CB(Yt(n.treePath,e),n.writeTree)}function CB(n,e){return{treePath:n,writeTree:e}}var aS=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,i=e.childName;Q(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Q(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let s=r.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(i,Ig(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(i,Dg(i,r.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(i,uh(i,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(i,Ig(i,e.snapshotNode,r.oldSnap));else throw Nu("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var lS=class{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}},DB=new lS,xg=class{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new go(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return GS(this.writes_,e,i)}}getChildAfterChild(e,t,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yc(this.viewCache_),s=KZ(this.writes_,r,t,1,i,e);return s.length===0?null:s[0]}};function QZ(n){return{filter:n}}function YZ(n,e){Q(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function JZ(n,e,t,i,r){let s=new aS,o,a;if(t.type===ho.OVERWRITE){let c=t;c.source.fromUser?o=cS(n,e,c.path,c.snap,i,r,s):(Q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!qe(c.path),o=jv(n,e,c.path,c.snap,i,r,a,s))}else if(t.type===ho.MERGE){let c=t;c.source.fromUser?o=XZ(n,e,c.path,c.children,i,r,s):(Q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=uS(n,e,c.path,c.children,i,r,a,s))}else if(t.type===ho.ACK_USER_WRITE){let c=t;c.revert?o=nX(n,e,c.path,i,r,s):o=eX(n,e,c.path,c.affectedTree,i,r,s)}else if(t.type===ho.LISTEN_COMPLETE)o=tX(n,e,t.path,i,s);else throw Nu("Unknown operation type: "+t.type);let l=s.getChanges();return ZZ(e,o,l),{viewCache:o,changes:l}}function ZZ(n,e,t){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Lv(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(_B(Lv(e)))}}function IB(n,e,t,i,r,s){let o=e.eventCache;if(Bv(i,t)!=null)return e;{let a,l;if(qe(t))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Yc(e),d=c instanceof Oe?c:Oe.EMPTY_NODE,h=zS(i,d);a=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{let c=Vv(i,Yc(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=We(t);if(c===".priority"){Q(bl(t)===1,"Can't have a priority with additional path components");let d=o.getNode();l=e.serverCache.getNode();let h=N3(i,t,d,l);h!=null?a=n.filter.updatePriority(d,h):a=o.getNode()}else{let d=Ft(t),h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let f=N3(i,t,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=GS(i,c,e.serverCache);h!=null?a=n.filter.updateChild(o.getNode(),c,h,d,r,s):a=o.getNode()}}return yg(e,a,o.isFullyInitialized()||qe(t),n.filter.filtersNodes())}}function jv(n,e,t,i,r,s,o,a){let l=e.serverCache,c,d=o?n.filter:n.filter.getIndexedFilter();if(qe(t))c=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){let p=l.getNode().updateChild(t,i);c=d.updateFullNode(l.getNode(),p,null)}else{let p=We(t);if(!l.isCompleteForPath(t)&&bl(t)>1)return e;let y=Ft(t),w=l.getNode().getImmediateChild(p).updateChild(y,i);p===".priority"?c=d.updatePriority(l.getNode(),w):c=d.updateChild(l.getNode(),p,w,y,DB,null)}let h=yB(e,c,l.isFullyInitialized()||qe(t),d.filtersNodes()),f=new xg(r,h,s);return IB(n,h,t,r,f,a)}function cS(n,e,t,i,r,s,o){let a=e.eventCache,l,c,d=new xg(r,e,s);if(qe(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,o),l=yg(e,c,!0,n.filter.filtersNodes());else{let h=We(t);if(h===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),i),l=yg(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=Ft(t),p=a.getNode().getImmediateChild(h),y;if(qe(f))y=i;else{let _=d.getCompleteChild(h);_!=null?FS(f)===".priority"&&_.getChild(dB(f)).isEmpty()?y=_:y=_.updateChild(f,i):y=Oe.EMPTY_NODE}if(p.equals(y))l=e;else{let _=n.filter.updateChild(a.getNode(),h,y,f,d,o);l=yg(e,_,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function O3(n,e){return n.eventCache.isCompleteForChild(e)}function XZ(n,e,t,i,r,s,o){let a=e;return i.foreach((l,c)=>{let d=Yt(t,l);O3(e,We(d))&&(a=cS(n,a,d,c,r,s,o))}),i.foreach((l,c)=>{let d=Yt(t,l);O3(e,We(d))||(a=cS(n,a,d,c,r,s,o))}),a}function P3(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function uS(n,e,t,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;qe(t)?c=i:c=new Zi(null).setTree(t,i);let d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){let p=e.serverCache.getNode().getImmediateChild(h),y=P3(n,p,f);l=jv(n,l,new Ct(h),y,r,s,o,a)}}),c.children.inorderTraversal((h,f)=>{let p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!p){let y=e.serverCache.getNode().getImmediateChild(h),_=P3(n,y,f);l=jv(n,l,new Ct(h),_,r,s,o,a)}}),l}function eX(n,e,t,i,r,s,o){if(Bv(r,t)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(qe(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return jv(n,e,t,l.getNode().getChild(t),r,s,a,o);if(qe(t)){let c=new Zi(null);return l.getNode().forEachChild(fo,(d,h)=>{c=c.set(new Ct(d),h)}),uS(n,e,t,c,r,s,a,o)}else return e}else{let c=new Zi(null);return i.foreach((d,h)=>{let f=Yt(t,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),uS(n,e,t,c,r,s,a,o)}}function tX(n,e,t,i,r){let s=e.serverCache,o=yB(e,s.getNode(),s.isFullyInitialized()||qe(t),s.isFiltered());return IB(n,o,t,i,DB,r)}function nX(n,e,t,i,r,s){let o;if(Bv(i,t)!=null)return e;{let a=new xg(i,e,r),l=e.eventCache.getNode(),c;if(qe(t)||We(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Vv(i,Yc(e));else{let h=e.serverCache.getNode();Q(h instanceof Oe,"serverChildren would be complete if leaf node"),d=zS(i,h)}d=d,c=n.filter.updateFullNode(l,d,s)}else{let d=We(t),h=GS(i,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=n.filter.updateChild(l,d,h,Ft(t),a,s):e.eventCache.getNode().hasChild(d)?c=n.filter.updateChild(l,d,Oe.EMPTY_NODE,Ft(t),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Vv(i,Yc(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Bv(i,Et())!=null,yg(e,c,o,n.filter.filtersNodes())}}var dS=class{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Tg(i.getIndex()),s=CZ(i);this.processor_=QZ(s);let o=t.serverCache,a=t.eventCache,l=r.updateFullNode(Oe.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Oe.EMPTY_NODE,a.getNode(),null),d=new go(l,o.isFullyInitialized(),r.filtersNodes()),h=new go(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=e1(h,d),this.eventGenerator_=new iS(this.query_)}get query(){return this.query_}};function iX(n){return n.viewCache_.serverCache.getNode()}function rX(n){return Lv(n.viewCache_)}function sX(n,e){let t=Yc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!qe(e)&&!t.getImmediateChild(We(e)).isEmpty())?t.getChild(e):null}function k3(n){return n.eventRegistrations_.length===0}function oX(n,e){n.eventRegistrations_.push(e)}function F3(n,e,t){let i=[];if(t){Q(e==null,"A cancel should cancel all event registrations.");let r=n.query._path;n.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(t,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){let o=n.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function L3(n,e,t,i){e.type===ho.MERGE&&e.source.queryId!==null&&(Q(Yc(n.viewCache_),"We should always have a full cache before handling merges"),Q(Lv(n.viewCache_),"Missing event cache, even though we have a server cache"));let r=n.viewCache_,s=JZ(n.processor_,r,e,t,i);return YZ(n.processor_,s.viewCache),Q(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,TB(n,s.changes,s.viewCache.eventCache.getNode(),null)}function aX(n,e){let t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(jt,(s,o)=>{i.push(uh(s,o))}),t.isFullyInitialized()&&i.push(_B(t.getNode())),TB(n,i,t.getNode(),e)}function TB(n,e,t,i){let r=i?[i]:n.eventRegistrations_;return RZ(n.eventGenerator_,e,t,r)}var Uv,$v=class{constructor(){this.views=new Map}};function lX(n){Q(!Uv,"__referenceConstructor has already been defined"),Uv=n}function cX(){return Q(Uv,"Reference.ts has not been loaded"),Uv}function uX(n){return n.views.size===0}function WS(n,e,t,i){let r=e.source.queryId;if(r!==null){let s=n.views.get(r);return Q(s!=null,"SyncTree gave us an op for an invalid query."),L3(s,e,t,i)}else{let s=[];for(let o of n.views.values())s=s.concat(L3(o,e,t,i));return s}}function SB(n,e,t,i,r){let s=e._queryIdentifier,o=n.views.get(s);if(!o){let a=Vv(t,r?i:null),l=!1;a?l=!0:i instanceof Oe?(a=zS(t,i),l=!1):(a=Oe.EMPTY_NODE,l=!1);let c=e1(new go(a,l,!1),new go(i,r,!1));return new dS(e,c)}return o}function dX(n,e,t,i,r,s){let o=SB(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),oX(o,t),aX(o,t)}function hX(n,e,t,i){let r=e._queryIdentifier,s=[],o=[],a=El(n);if(r==="default")for(let[l,c]of n.views.entries())o=o.concat(F3(c,t,i)),k3(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=n.views.get(r);l&&(o=o.concat(F3(l,t,i)),k3(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!El(n)&&s.push(new(cX())(e._repo,e._path)),{removed:s,events:o}}function AB(n){let e=[];for(let t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function vl(n,e){let t=null;for(let i of n.views.values())t=t||sX(i,e);return t}function xB(n,e){if(e._queryParams.loadsAllData())return n1(n);{let i=e._queryIdentifier;return n.views.get(i)}}function MB(n,e){return xB(n,e)!=null}function El(n){return n1(n)!=null}function n1(n){for(let e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Hv;function fX(n){Q(!Hv,"__referenceConstructor has already been defined"),Hv=n}function pX(){return Q(Hv,"Reference.ts has not been loaded"),Hv}var gX=1,zv=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Zi(null),this.pendingWriteTree_=qZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function qS(n,e,t,i,r){return kZ(n.pendingWriteTree_,e,t,i,r),r?_h(n,new dh(US(),e,t)):[]}function mX(n,e,t,i){FZ(n.pendingWriteTree_,e,t,i);let r=Zi.fromObject(t);return _h(n,new Ag(US(),e,r))}function _l(n,e,t=!1){let i=LZ(n.pendingWriteTree_,e);if(VZ(n.pendingWriteTree_,e)){let s=new Zi(null);return i.snap!=null?s=s.set(Et(),!0):oi(i.children,o=>{s=s.set(new Ct(o),!0)}),_h(n,new nS(i.path,s,t))}else return[]}function Vg(n,e,t){return _h(n,new dh($S(),e,t))}function _X(n,e,t){let i=Zi.fromObject(t);return _h(n,new Ag($S(),e,i))}function yX(n,e){return _h(n,new Fv($S(),e))}function vX(n,e,t){let i=KS(n,t);if(i){let r=QS(i),s=r.path,o=r.queryId,a=Ji(s,e),l=new Fv(HS(o),a);return YS(n,s,l)}else return[]}function Gv(n,e,t,i,r=!1){let s=e._path,o=n.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||MB(o,e))){let l=hX(o,e,t,i);uX(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!r){let d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=n.syncPointTree_.findOnPath(s,(f,p)=>El(p));if(d&&!h){let f=n.syncPointTree_.subtree(s);if(!f.isEmpty()){let p=EX(f);for(let y=0;y<p.length;++y){let _=p[y],w=_.query,A=PB(n,_);n.listenProvider_.startListening(wg(w),Mg(n,w),A.hashFn,A.onComplete)}}}!h&&c.length>0&&!i&&(d?n.listenProvider_.stopListening(wg(e),null):c.forEach(f=>{let p=n.queryToTagMap.get(r1(f));n.listenProvider_.stopListening(wg(f),p)}))}CX(n,c)}return a}function RB(n,e,t,i){let r=KS(n,i);if(r!=null){let s=QS(r),o=s.path,a=s.queryId,l=Ji(o,e),c=new dh(HS(a),l,t);return YS(n,o,c)}else return[]}function wX(n,e,t,i){let r=KS(n,i);if(r){let s=QS(r),o=s.path,a=s.queryId,l=Ji(o,e),c=Zi.fromObject(t),d=new Ag(HS(a),l,c);return YS(n,o,d)}else return[]}function hS(n,e,t,i=!1){let r=e._path,s=null,o=!1;n.syncPointTree_.foreachOnPath(r,(f,p)=>{let y=Ji(f,r);s=s||vl(p,y),o=o||El(p)});let a=n.syncPointTree_.get(r);a?(o=o||El(a),s=s||vl(a,Et())):(a=new $v,n.syncPointTree_=n.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=Oe.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((p,y)=>{let _=vl(y,Et());_&&(s=s.updateImmediateChild(p,_))}));let c=MB(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=r1(e);Q(!n.queryToTagMap.has(f),"View does not exist, but we have a tag");let p=DX();n.queryToTagMap.set(f,p),n.tagToQueryMap.set(p,f)}let d=t1(n.pendingWriteTree_,r),h=dX(a,e,t,d,s,l);if(!c&&!o&&!i){let f=xB(a,e);h=h.concat(IX(n,e,f))}return h}function i1(n,e,t){let r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{let l=Ji(o,e),c=vl(a,l);if(c)return c});return bB(r,e,s,t,!0)}function bX(n,e){let t=e._path,i=null;n.syncPointTree_.foreachOnPath(t,(c,d)=>{let h=Ji(c,t);i=i||vl(d,h)});let r=n.syncPointTree_.get(t);r?i=i||vl(r,Et()):(r=new $v,n.syncPointTree_=n.syncPointTree_.set(t,r));let s=i!=null,o=s?new go(i,!0,!1):null,a=t1(n.pendingWriteTree_,e._path),l=SB(r,e,a,s?o.getNode():Oe.EMPTY_NODE,s);return rX(l)}function _h(n,e){return NB(e,n.syncPointTree_,null,t1(n.pendingWriteTree_,Et()))}function NB(n,e,t,i){if(qe(n.path))return OB(n,e,t,i);{let r=e.get(Et());t==null&&r!=null&&(t=vl(r,Et()));let s=[],o=We(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){let c=t?t.getImmediateChild(o):null,d=EB(i,o);s=s.concat(NB(a,l,c,d))}return r&&(s=s.concat(WS(r,n,i,t))),s}}function OB(n,e,t,i){let r=e.get(Et());t==null&&r!=null&&(t=vl(r,Et()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=t?t.getImmediateChild(o):null,c=EB(i,o),d=n.operationForChild(o);d&&(s=s.concat(OB(d,a,l,c)))}),r&&(s=s.concat(WS(r,n,i,t))),s}function PB(n,e){let t=e.query,i=Mg(n,t);return{hashFn:()=>(iX(e)||Oe.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?vX(n,t._path,i):yX(n,t._path);{let s=kJ(r,t);return Gv(n,t,null,s)}}}}function Mg(n,e){let t=r1(e);return n.queryToTagMap.get(t)}function r1(n){return n._path.toString()+"$"+n._queryIdentifier}function KS(n,e){return n.tagToQueryMap.get(e)}function QS(n){let e=n.indexOf("$");return Q(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ct(n.substr(0,e))}}function YS(n,e,t){let i=n.syncPointTree_.get(e);Q(i,"Missing sync point for query tag that we're tracking");let r=t1(n.pendingWriteTree_,e);return WS(i,t,r,null)}function EX(n){return n.fold((e,t,i)=>{if(t&&El(t))return[n1(t)];{let r=[];return t&&(r=AB(t)),oi(i,(s,o)=>{r=r.concat(o)}),r}})}function wg(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(pX())(n._repo,n._path):n}function CX(n,e){for(let t=0;t<e.length;++t){let i=e[t];if(!i._queryParams.loadsAllData()){let r=r1(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}function DX(){return gX++}function IX(n,e,t){let i=e._path,r=Mg(n,e),s=PB(n,t),o=n.listenProvider_.startListening(wg(e),r,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(i);if(r)Q(!El(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,d,h)=>{if(!qe(c)&&d&&El(d))return[n1(d).query];{let f=[];return d&&(f=f.concat(AB(d).map(p=>p.query))),oi(h,(p,y)=>{f=f.concat(y)}),f}});for(let c=0;c<l.length;++c){let d=l[c];n.listenProvider_.stopListening(wg(d),Mg(n,d))}}return o}var fS=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},pS=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=Yt(this.path_,e);return new n(this.syncTree_,t)}node(){return i1(this.syncTree_,this.path_)}},TX=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},V3=function(n,e,t){if(!n||typeof n!="object")return n;if(Q(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return SX(n[".sv"],e,t);if(typeof n[".sv"]=="object")return AX(n[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},SX=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Q(!1,"Unexpected server value: "+n)}},AX=function(n,e,t){n.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let i=n.increment;typeof i!="number"&&Q(!1,"Unexpected increment value: "+i);let r=e.node();if(Q(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let o=r.getValue();return typeof o!="number"?i:o+i},kB=function(n,e,t,i){return ZS(e,new pS(t,n),i)},JS=function(n,e,t){return ZS(n,new fS(e),t)};function ZS(n,e,t){let i=n.getPriority().val(),r=V3(i,e.getImmediateChild(".priority"),t),s;if(n.isLeafNode()){let o=n,a=V3(o.getValue(),e,t);return a!==o.getValue()||r!==o.getPriority().val()?new lh(a,sn(r)):n}else{let o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new lh(r))),o.forEachChild(jt,(a,l)=>{let c=ZS(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var Rg=class{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}};function s1(n,e){let t=e instanceof Ct?e:new Ct(e),i=n,r=We(t);for(;r!==null;){let s=Ma(i.node.children,r)||{children:{},childCount:0};i=new Rg(r,i,s),t=Ft(t),r=We(t)}return i}function Xc(n){return n.node.value}function XS(n,e){n.node.value=e,gS(n)}function FB(n){return n.node.childCount>0}function xX(n){return Xc(n)===void 0&&!FB(n)}function o1(n,e){oi(n.node.children,(t,i)=>{e(new Rg(t,n,i))})}function LB(n,e,t,i){t&&!i&&e(n),o1(n,r=>{LB(r,e,!0,i)}),t&&i&&e(n)}function MX(n,e,t){let i=t?n:n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Bg(n){return new Ct(n.parent===null?n.name:Bg(n.parent)+"/"+n.name)}function gS(n){n.parent!==null&&RX(n.parent,n.name,n)}function RX(n,e,t){let i=xX(t),r=zr(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,gS(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,gS(n))}var NX=/[\[\].#$\/\u0000-\u001F\u007F]/,OX=/[\[\].#$\u0000-\u001F\u007F]/,TT=10*1024*1024,a1=function(n){return typeof n=="string"&&n.length!==0&&!NX.test(n)},VB=function(n){return typeof n=="string"&&n.length!==0&&!OX.test(n)},PX=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),VB(n)},Ng=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Zv(n)||n&&typeof n=="object"&&zr(n,".sv")},mo=function(n,e,t,i){i&&e===void 0||jg(or(n,"value"),e,t)},jg=function(n,e,t){let i=t instanceof Ct?new BT(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+qc(i));if(typeof e=="function")throw new Error(n+"contains a function "+qc(i)+" with contents = "+e.toString());if(Zv(e))throw new Error(n+"contains "+e.toString()+" "+qc(i));if(typeof e=="string"&&e.length>TT/3&&Cf(e)>TT)throw new Error(n+"contains a string greater than "+TT+" utf8 bytes "+qc(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(oi(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!a1(o)))throw new Error(n+" contains an invalid key ("+o+") "+qc(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);uZ(i,o),jg(n,a,i),dZ(i)}),r&&s)throw new Error(n+' contains ".value" child '+qc(i)+" in addition to actual children.")}},kX=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];let s=Eg(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!a1(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(cZ);let r=null;for(t=0;t<e.length;t++){if(i=e[t],r!==null&&cs(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},BB=function(n,e,t,i){if(i&&e===void 0)return;let r=or(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let s=[];oi(e,(o,a)=>{let l=new Ct(o);if(jg(r,a,Yt(t,l)),FS(l)===".priority"&&!Ng(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),kX(r,s)},eA=function(n,e,t){if(!(t&&e===void 0)){if(Zv(e))throw new Error(or(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ng(e))throw new Error(or(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ug=function(n,e,t,i){if(!(i&&t===void 0)&&!a1(t))throw new Error(or(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},yh=function(n,e,t,i){if(!(i&&t===void 0)&&!VB(t))throw new Error(or(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FX=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yh(n,e,t,i)},Pr=function(n,e){if(We(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},jB=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!a1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!PX(t))throw new Error(or(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var mS=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function l1(n,e){let t=null;for(let i=0;i<e.length;i++){let r=e[i],s=r.getPath();t!==null&&!LS(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function UB(n,e,t){l1(n,t),$B(n,i=>LS(i,e))}function kr(n,e,t){l1(n,t),$B(n,i=>cs(i,e)||cs(e,i))}function $B(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){let r=n.eventLists_[i];if(r){let s=r.path;e(s)?(LX(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function LX(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let i=t.getEventRunner();Qc&&si("event: "+t.toString()),gh(i)}}}var HB="repo_interrupt",VX=25,_S=class{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kv(),this.transactionQueueTree_=new Rg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function BX(n,e,t){if(n.stats_=kS(n.repoInfo_),n.forceRestClient_||BJ())n.server_=new YT(n.repoInfo_,(i,r,s,o)=>{B3(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>j3(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new VS(n.repoInfo_,e,(i,r,s,o)=>{B3(n,i,r,s,o)},i=>{j3(n,i)},i=>{jX(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=UJ(n.repoInfo_,()=>new tS(n.stats_,n.server_)),n.infoData_=new JT,n.infoSyncTree_=new zv({startListening:(i,r,s,o)=>{let a=[],l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=Vg(n.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),tA(n,"connected",!1),n.serverSyncTree_=new zv({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(a,l)=>{let c=o(a,l);kr(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function zB(n){let t=n.infoData_.getNode(new Ct(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function $g(n){return TX({timestamp:zB(n)})}function B3(n,e,t,i,r){n.dataUpdateCount++;let s=new Ct(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(r)if(i){let l=Ef(t,c=>sn(c));o=wX(n.serverSyncTree_,s,l,r)}else{let l=sn(t);o=RB(n.serverSyncTree_,s,l,r)}else if(i){let l=Ef(t,c=>sn(c));o=_X(n.serverSyncTree_,s,l)}else{let l=sn(t);o=Vg(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=fh(n,s)),kr(n.eventQueue_,a,o)}function j3(n,e){tA(n,"connected",e),e===!1&&HX(n)}function jX(n,e){oi(e,(t,i)=>{tA(n,t,i)})}function tA(n,e,t){let i=new Ct("/.info/"+e),r=sn(t);n.infoData_.updateSnapshot(i,r);let s=Vg(n.infoSyncTree_,i,r);kr(n.eventQueue_,i,s)}function c1(n){return n.nextWriteId_++}function UX(n,e,t){let i=bX(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(r=>{let s=sn(r).withIndex(e._queryParams.getIndex());hS(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=Vg(n.serverSyncTree_,e._path,s);else{let a=Mg(n.serverSyncTree_,e);o=RB(n.serverSyncTree_,e._path,s,a)}return kr(n.eventQueue_,e._path,o),Gv(n.serverSyncTree_,e,t,null,!0),s},r=>(vh(n,"get for query "+Mn(e)+" failed: "+r),Promise.reject(new Error(r))))}function nA(n,e,t,i,r){vh(n,"set",{path:e.toString(),value:t,priority:i});let s=$g(n),o=sn(t,i),a=i1(n.serverSyncTree_,e),l=JS(o,a,s),c=c1(n),d=qS(n.serverSyncTree_,e,l,c,!0);l1(n.eventQueue_,d),n.server_.put(e.toString(),o.val(!0),(f,p)=>{let y=f==="ok";y||Ri("set at "+e+" failed: "+f);let _=_l(n.serverSyncTree_,c,!y);kr(n.eventQueue_,e,_),Cl(n,r,f,p)});let h=rA(n,e);fh(n,h),kr(n.eventQueue_,h,[])}function $X(n,e,t,i){vh(n,"update",{path:e.toString(),value:t});let r=!0,s=$g(n),o={};if(oi(t,(a,l)=>{r=!1,o[a]=kB(Yt(e,a),sn(l),n.serverSyncTree_,s)}),r)si("update() called with empty data.  Don't do anything."),Cl(n,i,"ok",void 0);else{let a=c1(n),l=mX(n.serverSyncTree_,e,o,a);l1(n.eventQueue_,l),n.server_.merge(e.toString(),t,(c,d)=>{let h=c==="ok";h||Ri("update at "+e+" failed: "+c);let f=_l(n.serverSyncTree_,a,!h),p=f.length>0?fh(n,e):e;kr(n.eventQueue_,p,f),Cl(n,i,c,d)}),oi(t,c=>{let d=rA(n,Yt(e,c));fh(n,d)}),kr(n.eventQueue_,e,[])}}function HX(n){vh(n,"onDisconnectEvents");let e=$g(n),t=kv();XT(n.onDisconnect_,Et(),(r,s)=>{let o=kB(r,s,n.serverSyncTree_,e);mh(t,r,o)});let i=[];XT(t,Et(),(r,s)=>{i=i.concat(Vg(n.serverSyncTree_,r,s));let o=rA(n,r);fh(n,o)}),n.onDisconnect_=kv(),kr(n.eventQueue_,Et(),i)}function zX(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{i==="ok"&&ZT(n.onDisconnect_,e),Cl(n,t,i,r)})}function U3(n,e,t,i){let r=sn(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,o)=>{s==="ok"&&mh(n.onDisconnect_,e,r),Cl(n,i,s,o)})}function GX(n,e,t,i,r){let s=sn(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&mh(n.onDisconnect_,e,s),Cl(n,r,o,a)})}function WX(n,e,t,i){if(Zm(t)){si("onDisconnect().update() called with empty data.  Don't do anything."),Cl(n,i,"ok",void 0);return}n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{r==="ok"&&oi(t,(o,a)=>{let l=sn(a);mh(n.onDisconnect_,Yt(e,o),l)}),Cl(n,i,r,s)})}function qX(n,e,t){let i;We(e._path)===".info"?i=hS(n.infoSyncTree_,e,t):i=hS(n.serverSyncTree_,e,t),UB(n.eventQueue_,e._path,i)}function yS(n,e,t){let i;We(e._path)===".info"?i=Gv(n.infoSyncTree_,e,t):i=Gv(n.serverSyncTree_,e,t),UB(n.eventQueue_,e._path,i)}function GB(n){n.persistentConnection_&&n.persistentConnection_.interrupt(HB)}function KX(n){n.persistentConnection_&&n.persistentConnection_.resume(HB)}function vh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),si(t,...e)}function Cl(n,e,t,i){e&&gh(()=>{if(t==="ok")e(null);else{let r=(t||"error").toUpperCase(),s=r;i&&(s+=": "+i);let o=new Error(s);o.code=r,e(o)}})}function QX(n,e,t,i,r,s){vh(n,"transaction on "+e);let o={path:e,update:t,onComplete:i,status:null,order:z3(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=iA(n,e,void 0);o.currentInputSnapshot=a;let l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{jg("transaction failed: Data returned ",l,o.path),o.status=0;let c=s1(n.transactionQueueTree_,e),d=Xc(c)||[];d.push(o),XS(c,d);let h;typeof l=="object"&&l!==null&&zr(l,".priority")?(h=Ma(l,".priority"),Q(Ng(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(i1(n.serverSyncTree_,e)||Oe.EMPTY_NODE).getPriority().val();let f=$g(n),p=sn(l,h),y=JS(p,a,f);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=y,o.currentWriteId=c1(n);let _=qS(n.serverSyncTree_,e,y,o.currentWriteId,o.applyLocally);kr(n.eventQueue_,e,_),u1(n,n.transactionQueueTree_)}}function iA(n,e,t){return i1(n.serverSyncTree_,e,t)||Oe.EMPTY_NODE}function u1(n,e=n.transactionQueueTree_){if(e||d1(n,e),Xc(e)){let t=qB(n,e);Q(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&YX(n,Bg(e),t)}else FB(e)&&o1(e,t=>{u1(n,t)})}function YX(n,e,t){let i=t.map(c=>c.currentWriteId),r=iA(n,e,i),s=r,o=r.hash();for(let c=0;c<t.length;c++){let d=t[c];Q(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let h=Ji(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{vh(n,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){let h=[];for(let f=0;f<t.length;f++)t[f].status=2,d=d.concat(_l(n.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&h.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();d1(n,s1(n.transactionQueueTree_,e)),u1(n,n.transactionQueueTree_),kr(n.eventQueue_,e,d);for(let f=0;f<h.length;f++)gh(h[f])}else{if(c==="datastale")for(let h=0;h<t.length;h++)t[h].status===3?t[h].status=4:t[h].status=0;else{Ri("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=c}fh(n,e)}},o)}function fh(n,e){let t=WB(n,e),i=Bg(t),r=qB(n,t);return JX(n,r,i),i}function JX(n,e,t){if(e.length===0)return;let i=[],r=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Ji(t,l.path),d=!1,h;if(Q(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,r=r.concat(_l(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=VX)d=!0,h="maxretry",r=r.concat(_l(n.serverSyncTree_,l.currentWriteId,!0));else{let f=iA(n,l.path,o);l.currentInputSnapshot=f;let p=e[a].update(f.val());if(p!==void 0){jg("transaction failed: Data returned ",p,l.path);let y=sn(p);typeof p=="object"&&p!=null&&zr(p,".priority")||(y=y.updatePriority(f.getPriority()));let w=l.currentWriteId,A=$g(n),M=JS(y,f,A);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=M,l.currentWriteId=c1(n),o.splice(o.indexOf(w),1),r=r.concat(qS(n.serverSyncTree_,l.path,M,l.currentWriteId,l.applyLocally)),r=r.concat(_l(n.serverSyncTree_,w,!0))}else d=!0,h="nodata",r=r.concat(_l(n.serverSyncTree_,l.currentWriteId,!0))}kr(n.eventQueue_,t,r),r=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(h),!1,null))))}d1(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)gh(i[a]);u1(n,n.transactionQueueTree_)}function WB(n,e){let t,i=n.transactionQueueTree_;for(t=We(e);t!==null&&Xc(i)===void 0;)i=s1(i,t),e=Ft(e),t=We(e);return i}function qB(n,e){let t=[];return KB(n,e,t),t.sort((i,r)=>i.order-r.order),t}function KB(n,e,t){let i=Xc(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);o1(e,r=>{KB(n,r,t)})}function d1(n,e){let t=Xc(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,XS(e,t.length>0?t:void 0)}o1(e,i=>{d1(n,i)})}function rA(n,e){let t=Bg(WB(n,e)),i=s1(n.transactionQueueTree_,e);return MX(i,r=>{ST(n,r)}),ST(n,i),LB(i,r=>{ST(n,r)}),t}function ST(n,e){let t=Xc(e);if(t){let i=[],r=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(Q(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(Q(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(_l(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?XS(e,void 0):t.length=s+1,kr(n.eventQueue_,Bg(e),r);for(let o=0;o<i.length;o++)gh(i[o])}}function ZX(n){let e="",t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function XX(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ri(`Invalid query segment '${t}' in query '${n}'`)}return e}var vS=function(n,e){let t=eee(n),i=t.namespace;t.domain==="firebase.com"&&po(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&po("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||MJ();let r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Sv(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new Ct(t.pathString)}},eee=function(n){let e="",t="",i="",r="",s="",o=!0,a="https",l=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let d=n.indexOf("/");d===-1&&(d=n.length);let h=n.indexOf("?");h===-1&&(h=n.length),e=n.substring(0,Math.min(d,h)),d<h&&(r=ZX(n.substring(d,h)));let f=XX(n.substring(Math.min(n.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let p=e.slice(0,c);if(p.toLowerCase()==="localhost")t="localhost";else if(p.split(".").length<=2)t=p;else{let y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),t=e.substring(y+1),s=i}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};var $3="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tee=function(){let n=0,e=[];return function(t){let i=t===n;n=t;let r,s=new Array(8);for(r=7;r>=0;r--)s[r]=$3.charAt(t%64),t=Math.floor(t/64);Q(t===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=$3.charAt(e[r]);return Q(o.length===20,"nextPushId: Length should be 20."),o}}();var Wv=class{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Mn(this.snapshot.exportVal())}},qv=class{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Og=class{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Kv=class{constructor(e,t){this._repo=e,this._path=t}cancel(){let e=new Yn;return zX(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Pr("OnDisconnect.remove",this._path);let e=new Yn;return U3(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Pr("OnDisconnect.set",this._path),mo("OnDisconnect.set",e,this._path,!1);let t=new Yn;return U3(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Pr("OnDisconnect.setWithPriority",this._path),mo("OnDisconnect.setWithPriority",e,this._path,!1),eA("OnDisconnect.setWithPriority",t,!1);let i=new Yn;return GX(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Pr("OnDisconnect.update",this._path),BB("OnDisconnect.update",e,this._path,!1);let t=new Yn;return WX(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}};var Xi=class n{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return qe(this._path)?null:FS(this._path)}get ref(){return new Fr(this._repo,this._path)}get _queryIdentifier(){let e=A3(this._queryParams),t=PS(e);return t==="{}"?"default":t}get _queryObject(){return A3(this._queryParams)}isEqual(e){if(e=it(e),!(e instanceof n))return!1;let t=this._repo===e._repo,i=LS(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+lZ(this._path)}};function h1(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Il(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===fo){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==wl)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==fa)throw new Error(i);if(typeof t!="string")throw new Error(r)}}else if(n.getIndex()===jt){if(e!=null&&!Ng(e)||t!=null&&!Ng(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Q(n.getIndex()instanceof Cg||n.getIndex()===jS,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function f1(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Fr=class n extends Xi{constructor(e,t){super(e,t,new Sg,!1)}get parent(){let e=dB(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},ph=class n{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new Ct(e),i=Dl(this.ref,e);return new n(this._node.getChild(t),i,jt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new n(r,Dl(this.ref,i),jt)))}hasChild(e){let t=new Ct(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function sA(n,e){return n=it(n),n._checkNotDeleted("ref"),e!==void 0?Dl(n._root,e):n._root}function oA(n,e){n=it(n),n._checkNotDeleted("refFromURL");let t=vS(e,n._repo.repoInfo_.nodeAdmin);jB("refFromURL",t);let i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&po("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),sA(n,t.path.toString())}function Dl(n,e){return n=it(n),We(n._path)===null?FX("child","path",e,!1):yh("child","path",e,!1),new Fr(n._repo,Yt(n._path,e))}function QB(n,e){n=it(n),Pr("push",n._path),mo("push",e,n._path,!0);let t=zB(n._repo),i=tee(t),r=Dl(n,i),s=Dl(n,i),o;return e!=null?o=p1(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function YB(n){return Pr("remove",n._path),p1(n,null)}function p1(n,e){n=it(n),Pr("set",n._path),mo("set",e,n._path,!1);let t=new Yn;return nA(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function JB(n,e){n=it(n),Pr("setPriority",n._path),eA("setPriority",e,!1);let t=new Yn;return nA(n._repo,Yt(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}function ZB(n,e,t){if(Pr("setWithPriority",n._path),mo("setWithPriority",e,n._path,!1),eA("setWithPriority",t,!1),n.key===".length"||n.key===".keys")throw"setWithPriority failed: "+n.key+" is a read-only object.";let i=new Yn;return nA(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}function XB(n,e){BB("update",e,n._path,!1);let t=new Yn;return $X(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function e4(n){n=it(n);let e=new Og(()=>{}),t=new Pg(e);return UX(n._repo,n,t).then(i=>new ph(i,new Fr(n._repo,n._path),n._queryParams.getIndex()))}var Pg=class n{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){let i=t._queryParams.getIndex();return new Wv("value",this,new ph(e.snapshotNode,new Fr(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qv(this,e,t):null}matches(e){return e instanceof n?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Qv=class n{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qv(this,e,t):null}createEvent(e,t){Q(e.childName!=null,"Child events should have a childName.");let i=Dl(new Fr(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Wv(e.type,this,new ph(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof n?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Hg(n,e,t,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){let l=t,c=(d,h)=>{yS(n._repo,n,a),l(d,h)};c.userCallback=t.userCallback,c.context=t.context,t=c}let o=new Og(t,s||void 0),a=e==="value"?new Pg(o):new Qv(e,o);return qX(n._repo,n,a),()=>yS(n._repo,n,a)}function g1(n,e,t,i){return Hg(n,"value",e,t,i)}function aA(n,e,t,i){return Hg(n,"child_added",e,t,i)}function lA(n,e,t,i){return Hg(n,"child_changed",e,t,i)}function cA(n,e,t,i){return Hg(n,"child_moved",e,t,i)}function uA(n,e,t,i){return Hg(n,"child_removed",e,t,i)}function dA(n,e,t){let i=null,r=t?new Og(t):null;e==="value"?i=new Pg(r):e&&(i=new Qv(e,r)),yS(n._repo,n,i)}var Lr=class{},Yv=class extends Lr{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){mo("endAt",this._value,e._path,!0);let t=QT(e._queryParams,this._value,this._key);if(f1(t),Il(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xi(e._repo,e._path,t,e._orderByCalled)}};function t4(n,e){return Ug("endAt","key",e,!0),new Yv(n,e)}var wS=class extends Lr{constructor(e,t){super(),this._value=e,this._key=t,this.type="endBefore"}_apply(e){mo("endBefore",this._value,e._path,!1);let t=SZ(e._queryParams,this._value,this._key);if(f1(t),Il(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xi(e._repo,e._path,t,e._orderByCalled)}};function n4(n,e){return Ug("endBefore","key",e,!0),new wS(n,e)}var Jv=class extends Lr{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){mo("startAt",this._value,e._path,!0);let t=KT(e._queryParams,this._value,this._key);if(f1(t),Il(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xi(e._repo,e._path,t,e._orderByCalled)}};function i4(n=null,e){return Ug("startAt","key",e,!0),new Jv(n,e)}var bS=class extends Lr{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){mo("startAfter",this._value,e._path,!1);let t=TZ(e._queryParams,this._value,this._key);if(f1(t),Il(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xi(e._repo,e._path,t,e._orderByCalled)}};function r4(n,e){return Ug("startAfter","key",e,!0),new bS(n,e)}var ES=class extends Lr{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xi(e._repo,e._path,DZ(e._queryParams,this._limit),e._orderByCalled)}};function s4(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ES(n)}var CS=class extends Lr{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xi(e._repo,e._path,IZ(e._queryParams,this._limit),e._orderByCalled)}};function o4(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new CS(n)}var DS=class extends Lr{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){h1(e,"orderByChild");let t=new Ct(this._path);if(qe(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Cg(t),r=Xv(e._queryParams,i);return Il(r),new Xi(e._repo,e._path,r,!0)}};function a4(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return yh("orderByChild","path",n,!1),new DS(n)}var IS=class extends Lr{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){h1(e,"orderByKey");let t=Xv(e._queryParams,fo);return Il(t),new Xi(e._repo,e._path,t,!0)}};function l4(){return new IS}var TS=class extends Lr{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){h1(e,"orderByPriority");let t=Xv(e._queryParams,jt);return Il(t),new Xi(e._repo,e._path,t,!0)}};function c4(){return new TS}var SS=class extends Lr{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){h1(e,"orderByValue");let t=Xv(e._queryParams,jS);return Il(t),new Xi(e._repo,e._path,t,!0)}};function u4(){return new SS}var AS=class extends Lr{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(mo("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Yv(this._value,this._key)._apply(new Jv(this._value,this._key)._apply(e))}};function d4(n,e){return Ug("equalTo","key",e,!0),new AS(n,e)}function ds(n,...e){let t=it(n);for(let i of e)t=i._apply(t);return t}lX(Fr);fX(Fr);var nee="FIREBASE_DATABASE_EMULATOR_HOST",xS={},iee=!1;function ree(n,e,t,i){n.repoInfo_=new Sv(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function hA(n,e,t,i,r){let s=i||n.options.databaseURL;s===void 0&&(n.options.projectId||po("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),si("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=vS(s,r),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[nee]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=vS(s,r),a=o.repoInfo):l=!o.repoInfo.secure;let d=r&&l?new _g(_g.OWNER):new OT(n.name,n.options,e);jB("Invalid Firebase Database URL",o),qe(o.path)||po("Database URL must point to the root of a Firebase Database (not including a child path).");let h=oee(a,n,d,new NT(n.name,t));return new MS(h,n)}function see(n,e){let t=xS[e];(!t||t[n.key]!==n)&&po(`Database ${e}(${n.repoInfo_}) has already been deleted.`),GB(n),delete t[n.key]}function oee(n,e,t,i){let r=xS[e.name];r||(r={},xS[e.name]=r);let s=r[n.toURLString()];return s&&po("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new _S(n,iee,t,i),r[n.toURLString()]=s,s}var MS=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BX(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fr(this._repo,Et())),this._rootInternal}_delete(){return this._rootInternal!==null&&(see(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&po("Cannot call "+e+" on a deleted database.")}};function h4(){uB.IS_TRANSPORT_INITIALIZED&&Ri("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function f4(){h4(),bg.forceDisallow()}function p4(){h4(),rh.forceDisallow(),bg.forceAllow()}function g4(n,e,t,i={}){n=it(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&po("Cannot call useEmulator() after instance has already been initialized.");let r=n._repoInternal,s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&po('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new _g(_g.OWNER);else if(i.mockUserToken){let o=typeof i.mockUserToken=="string"?i.mockUserToken:Qm(i.mockUserToken,n.app.options.projectId);s=new _g(o)}ree(r,e,t,s)}function m4(n){n=it(n),n._checkNotDeleted("goOffline"),GB(n._repo)}function _4(n){n=it(n),n._checkNotDeleted("goOnline"),KX(n._repo)}function y4(n,e){W3(n,e)}function aee(n){OS(e_),Zl(new Dr("database",(e,{instanceIdentifier:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return hA(i,r,s,t)},"PUBLIC").setMultipleInstances(!0)),ws(d3,h3,n),ws(d3,h3,"esm2017")}var lee={".sv":"timestamp"};function v4(){return lee}function w4(n){return{".sv":{increment:n}}}var RS=class{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function b4(n,e,t){var i;if(n=it(n),Pr("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";let r=(i=t?.applyLocally)!==null&&i!==void 0?i:!0,s=new Yn,o=(l,c,d)=>{let h=null;l?s.reject(l):(h=new ph(d,new Fr(n._repo,n._path),jt),s.resolve(new RS(c,h)))},a=g1(n,()=>{});return QX(n._repo,n._path,e,o,a,r),s.promise}VS.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};VS.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};aee();var cee="@firebase/database-compat",uee="1.0.8";var dee=new Ra("@firebase/database-compat"),E4=function(n){let e="FIREBASE WARNING: "+n;dee.warn(e)};var hee=function(n,e,t,i){if(!(i&&t===void 0)&&typeof t!="boolean")throw new Error(or(n,e)+"must be a boolean.")},fee=function(n,e,t){if(!(t&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(or(n,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var fA=class{constructor(e){this._delegate=e}cancel(e){ye("OnDisconnect.cancel",0,1,arguments.length),Bn("OnDisconnect.cancel","onComplete",e,!0);let t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){ye("OnDisconnect.remove",0,1,arguments.length),Bn("OnDisconnect.remove","onComplete",e,!0);let t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){ye("OnDisconnect.set",1,2,arguments.length),Bn("OnDisconnect.set","onComplete",t,!0);let i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){ye("OnDisconnect.setWithPriority",2,3,arguments.length),Bn("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if(ye("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,E4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bn("OnDisconnect.update","onComplete",t,!0);let i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}};var pA=class{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return ye("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var eu=class n{constructor(e,t){this._database=e,this._delegate=t}val(){return ye("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ye("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ye("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ye("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return ye("DataSnapshot.child",0,1,arguments.length),e=String(e),yh("DataSnapshot.child","path",e,!1),new n(this._database,this._delegate.child(e))}hasChild(e){return ye("DataSnapshot.hasChild",1,1,arguments.length),yh("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return ye("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return ye("DataSnapshot.forEach",1,1,arguments.length),Bn("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new n(this._database,t)))}hasChildren(){return ye("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ye("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ye("DataSnapshot.ref",0,0,arguments.length),new pa(this._database,this._delegate.ref)}get ref(){return this.getRef()}},m1=class n{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;ye("Query.on",2,4,arguments.length),Bn("Query.on","callback",t,!1);let o=n.getCancelAndContextArgs_("Query.on",i,r),a=(c,d)=>{t.call(o.context,new eu(this.database,c),d)};a.userCallback=t,a.context=o.context;let l=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return g1(this._delegate,a,l),t;case"child_added":return aA(this._delegate,a,l),t;case"child_removed":return uA(this._delegate,a,l),t;case"child_changed":return lA(this._delegate,a,l),t;case"child_moved":return cA(this._delegate,a,l),t;default:throw new Error(or("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if(ye("Query.off",0,3,arguments.length),fee("Query.off",e,!0),Bn("Query.off","callback",t,!0),hb("Query.off","context",i,!0),t){let r=()=>{};r.userCallback=t,r.context=i,dA(this._delegate,e,r)}else dA(this._delegate,e)}get(){return e4(this._delegate).then(e=>new eu(this.database,e))}once(e,t,i,r){ye("Query.once",1,4,arguments.length),Bn("Query.once","callback",t,!0);let s=n.getCancelAndContextArgs_("Query.once",i,r),o=new Yn,a=(c,d)=>{let h=new eu(this.database,c);t&&t.call(s.context,h,d),o.resolve(h)};a.userCallback=t,a.context=s.context;let l=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":g1(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":aA(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":uA(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":lA(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":cA(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(or("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return ye("Query.limitToFirst",1,1,arguments.length),new n(this.database,ds(this._delegate,s4(e)))}limitToLast(e){return ye("Query.limitToLast",1,1,arguments.length),new n(this.database,ds(this._delegate,o4(e)))}orderByChild(e){return ye("Query.orderByChild",1,1,arguments.length),new n(this.database,ds(this._delegate,a4(e)))}orderByKey(){return ye("Query.orderByKey",0,0,arguments.length),new n(this.database,ds(this._delegate,l4()))}orderByPriority(){return ye("Query.orderByPriority",0,0,arguments.length),new n(this.database,ds(this._delegate,c4()))}orderByValue(){return ye("Query.orderByValue",0,0,arguments.length),new n(this.database,ds(this._delegate,u4()))}startAt(e=null,t){return ye("Query.startAt",0,2,arguments.length),new n(this.database,ds(this._delegate,i4(e,t)))}startAfter(e=null,t){return ye("Query.startAfter",0,2,arguments.length),new n(this.database,ds(this._delegate,r4(e,t)))}endAt(e=null,t){return ye("Query.endAt",0,2,arguments.length),new n(this.database,ds(this._delegate,t4(e,t)))}endBefore(e=null,t){return ye("Query.endBefore",0,2,arguments.length),new n(this.database,ds(this._delegate,n4(e,t)))}equalTo(e,t){return ye("Query.equalTo",1,2,arguments.length),new n(this.database,ds(this._delegate,d4(e,t)))}toString(){return ye("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ye("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(ye("Query.isEqual",1,1,arguments.length),!(e instanceof n)){let t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){let r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,Bn(e,"cancel",r.cancel,!0),r.context=i,hb(e,"context",r.context,!0);else if(t)if(typeof t=="object"&&t!==null)r.context=t;else if(typeof t=="function")r.cancel=t;else throw new Error(or(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new pa(this.database,new Fr(this._delegate._repo,this._delegate._path))}},pa=class n extends m1{constructor(e,t){super(e,new Xi(t._repo,t._path,new Sg,!1)),this.database=e,this._delegate=t}getKey(){return ye("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return ye("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new n(this.database,Dl(this._delegate,e))}getParent(){ye("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new n(this.database,e):null}getRoot(){return ye("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}set(e,t){ye("Reference.set",1,2,arguments.length),Bn("Reference.set","onComplete",t,!0);let i=p1(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if(ye("Reference.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,E4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pr("Reference.update",this._delegate._path),Bn("Reference.update","onComplete",t,!0);let i=XB(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){ye("Reference.setWithPriority",2,3,arguments.length),Bn("Reference.setWithPriority","onComplete",i,!0);let r=ZB(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){ye("Reference.remove",0,1,arguments.length),Bn("Reference.remove","onComplete",e,!0);let t=YB(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){ye("Reference.transaction",1,3,arguments.length),Bn("Reference.transaction","transactionUpdate",e,!1),Bn("Reference.transaction","onComplete",t,!0),hee("Reference.transaction","applyLocally",i,!0);let r=b4(this._delegate,e,{applyLocally:i}).then(s=>new pA(s.committed,new eu(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){ye("Reference.setPriority",1,2,arguments.length),Bn("Reference.setPriority","onComplete",t,!0);let i=JB(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){ye("Reference.push",0,2,arguments.length),Bn("Reference.push","onComplete",t,!0);let i=QB(this._delegate,e),r=i.then(o=>new n(this.database,o));t&&r.then(()=>t(null),o=>t(o));let s=new n(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Pr("Reference.onDisconnect",this._delegate._path),new fA(new Kv(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var tu=class{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:f4,forceLongPolling:p4}}useEmulator(e,t,i={}){g4(this._delegate,e,t,i)}ref(e){if(ye("database.ref",0,1,arguments.length),e instanceof pa){let t=oA(this._delegate,e.toString());return new pa(this,t)}else{let t=sA(this._delegate,e);return new pa(this,t)}}refFromURL(e){ye("database.refFromURL",1,1,arguments.length);let i=oA(this._delegate,e);return new pa(this,i)}goOffline(){return ye("database.goOffline",0,0,arguments.length),m4(this._delegate)}goOnline(){return ye("database.goOnline",0,0,arguments.length),_4(this._delegate)}};tu.ServerValue={TIMESTAMP:v4(),increment:n=>w4(n)};function pee({app:n,url:e,version:t,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){OS(t);let a=new fb("database-standalone"),l=new Xm("auth-internal",a);l.setComponent(new Dr("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new Xm("app-check-internal",a),c.setComponent(new Dr("app-check-internal",()=>r,"PRIVATE"))),{instance:new tu(hA(n,l,c,e,o),n),namespace:s}}var gee=Object.freeze({__proto__:null,initStandalone:pee});var mee=tu.ServerValue;function _ee(n){n.INTERNAL.registerComponent(new Dr("database-compat",(e,{instanceIdentifier:t})=>{let i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new tu(r,i)},"PUBLIC").setServiceProps({Reference:pa,Query:m1,Database:tu,DataSnapshot:eu,enableLogging:y4,INTERNAL:gee,ServerValue:mee}).setMultipleInstances(!0)),n.registerVersion(cee,uee)}_ee(Jn);function zg(n,e,t="on",i=Na){return new me(r=>{let s=null;return s=n[t](e,(o,a)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:a})}),t==="once"&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),t==="on"?{unsubscribe(){s!=null&&n.off(e,s)}}:{unsubscribe(){}}}).pipe(ne(r=>{let{snapshot:s,prevKey:o}=r,a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),Mf())}function yee(n){return typeof n=="string"}function vee(n){return typeof n.exportVal=="function"}function S4(n){return n==null}function A4(n){return typeof n.set=="function"}function C4(n,e){return A4(e)?e:n.ref(e)}function x4(n,e){if(yee(n))return e.stringCase();if(A4(n))return e.firebaseCase();if(vee(n))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof n}`)}function M4(n){return(S4(n)||n.length===0)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function R4(n,e,t){e=M4(e);let i=e.map(r=>zg(n,r,"on",t));return ic(...i)}function wee(n,e,t){let i=R4(n,e).pipe(Ys((r,s)=>[...r,s],[]));return Eee(n,i,t)}function bee(n,e){return zg(n,"value","on",e).pipe(ne(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}function Eee(n,e,t){return bee(n,t).pipe(Ku(e),ne(([r,s])=>{let o=r.lastKeyToLoad,a=s.map(l=>l.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),Ub(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),ne(r=>r.actions))}function D4(n,e){return function(i,r){return x4(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Cee(n){return function(t){return t?x4(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function Dee(n,e,t){return zg(n,"value","once",t).pipe(Mt(i=>{let r=[se(i)];return e.forEach(s=>r.push(zg(n,s,"on",t))),ic(...r).pipe(Ys(Tee,[]))}),Wu())}function N4(n,e){let t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Iee(n,e){if(S4(e))return 0;{let t=N4(n,e);return t===-1?n.length:t+1}}function Tee(n,e){let{payload:t,prevKey:i,key:r}=e,s=N4(n,r),o=Iee(n,i);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,n=[...n,c],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==i&&(n=n.filter(l=>l.payload.key!==t.key),n.splice(o,0,e));else{if(i==null)return[e,...n];n=n.slice(),n.splice(o,0,e)}return n;case"child_removed":return n.filter(a=>a.payload.key!==t.key);case"child_changed":return n.map(a=>a.payload.key===r?e:a);case"child_moved":if(s>-1){let a=n.splice(s,1)[0];return n=n.slice(),n.splice(o,0,a),n}return n;default:return n}}function I4(n,e,t){return e=M4(e),Dee(n,e,t)}function See(n,e){let t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:D4(i,"update"),set:D4(i,"set"),push:r=>i.push(r),remove:Cee(i),snapshotChanges(r){return I4(n,r,t).pipe(En)},stateChanges(r){return R4(n,r,t).pipe(En)},auditTrail(r){return wee(n,r,t).pipe(En)},valueChanges(r,s){return I4(n,r,t).pipe(ne(a=>a.map(l=>s&&s.idField?Pe(K({},l.payload.val()),{[s.idField]:l.key}):l.payload.val())),En)}}}function T4(n,e){return function(){return zg(n,"value","on",e)}}function Aee(n,e){return{query:n,snapshotChanges(){return T4(n,e.schedulers.outsideAngular)().pipe(En)},update(t){return n.ref.update(t)},set(t){return n.ref.set(t)},remove(){return n.ref.remove()},valueChanges(){return T4(n,e.schedulers.outsideAngular)().pipe(En,ne(i=>i.payload.exists()?i.payload.val():null))}}}var xee=new J("angularfire2.realtimeDatabaseURL"),Mee=new J("angularfire2.database.use-emulator"),gA=(()=>{class n{schedulers;database;constructor(t,i,r,s,o,a,l,c,d,h,f,p,y,_,w){this.schedulers=a;let A=l,M=Wc(t,o,i);c&&dg(M,o,d,f,p,y,h,_),this.database=nh(`${M.name}.database.${r}`,"AngularFireDatabase",M.name,()=>{let x=o.runOutsideAngular(()=>M.database(r||void 0));return A&&x.useEmulator(...A),x},[A])}list(t,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>C4(this.database,t)),s=r;return i&&(s=i(r)),See(s,this)}object(t){let i=this.schedulers.ngZone.runOutsideAngular(()=>C4(this.database,t));return Aee(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(z(gl),z(ml,8),z(xee,8),z(Hn),z(ke),z(th),z(Mee,8),z(Dv,8),z(sg,8),z(og,8),z(ag,8),z(lg,8),z(cg,8),z(ug,8),z(ha,8))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),O4=(()=>{class n{constructor(){Jn.registerVersion("angularfire",fl.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ne({type:n});static \u0275inj=Re({providers:[gA]})}return n})();var wh=class n{constructor(e){this.db=e;this.product=e.list("/product")}product;addProduct(e){this.product.push(e)}updateProduct(e){let t=e.key;delete e.key,this.product.update(t,e)}getProduct(){return this.product}static \u0275fac=function(t){return new(t||n)(z(gA))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})};function Nee(n,e){if(n&1&&(L(0,"span",38),W(1),F()),n&2){let t=rt();ge(),Ka(" ",t.stockInfo.inStockDelivery," ")}}function Oee(n,e){if(n&1&&(L(0,"span",39),W(1),F()),n&2){let t=rt();ge(),Ka(" ",t.stockInfo.outOfStockDelivery," ")}}function Pee(n,e){if(n&1&&(L(0,"span",40),W(1),F()),n&2){let t=rt();ge(),fr(t.stockInfo.inStock)}}function kee(n,e){if(n&1&&(L(0,"span",41),W(1),F()),n&2){let t=rt();ge(),fr(t.stockInfo.outOfStock)}}function Fee(n,e){if(n&1){let t=hr();L(0,"button",42),fi("click",function(){Bi(t);let r=rt();return ji(r.buyButtonClick())}),W(1," V\xE1s\xE1rl\xE1s "),F()}if(n&2){let t=rt();Qo(t.stockInfo.buttonClass)}}function Lee(n,e){if(n&1&&(L(0,"button",43),W(1," V\xE1s\xE1rl\xE1s "),F()),n&2){let t=rt();Qo(t.stockInfo.buttonClass)}}function Vee(n,e){if(n&1&&(L(0,"span",38),W(1),F()),n&2){let t=rt();ge(),Ka(" ",t.stockInfo.inStockDelivery," ")}}function Bee(n,e){if(n&1&&(L(0,"span",39),W(1),F()),n&2){let t=rt();ge(),Ka(" ",t.stockInfo.outOfStockDelivery," ")}}function jee(n,e){if(n&1&&(L(0,"span",40),W(1),F()),n&2){let t=rt();ge(),fr(t.stockInfo.inStock)}}function Uee(n,e){if(n&1&&(L(0,"span",41),W(1),F()),n&2){let t=rt();ge(),fr(t.stockInfo.outOfStock)}}function $ee(n,e){if(n&1){let t=hr();L(0,"button",44),fi("click",function(){Bi(t);let r=rt();return ji(r.buyButtonClick())}),W(1," V\xE1s\xE1rl\xE1s "),F()}if(n&2){let t=rt();Qo(t.stockInfo.buttonClass)}}function Hee(n,e){if(n&1&&(L(0,"button",43),W(1," V\xE1s\xE1rl\xE1s "),F()),n&2){let t=rt();Qo(t.stockInfo.buttonClass)}}var _1=class n{constructor(e){this.base=e;this.loadItems(this.product)}stockInfo={inStock:"K\xE9szleten",inStockDelivery:"2-4 munkanap",outOfStock:"Nincs k\xE9szleten",outOfStockDelivery:"2 h\xE9t",stock:0,buttonClass:"btn btn-primary"};columns=[{key:"name",label:"Ne\u0301v",type:"text"},{key:"stock",label:"Rakt\xE1rk\xE9szlet",type:"number"}];product=[];ngOnInit(){this.loadItems(this.product)}loadItems(e){this.base.getProduct().snapshotChanges().pipe(ne(t=>t.map(i=>K({key:i.payload.key},i.payload.val())))).subscribe(t=>{this.product=t,this.product.length>0&&(this.stockInfo.stock=this.product[0].stock||0)})}buyButtonClick(){this.stockInfo.stock==1&&(this.stockInfo.buttonClass="btn btn-primary-disabled"),this.stockInfo.stock--,window.location.href="https://buy.stripe.com/14kfZ750Hdlt2nC5kk"}updateProduct(e){this.base.updateProduct(e)}static \u0275fac=function(t){return new(t||n)(lt(wh))};static \u0275cmp=hi({type:n,selectors:[["app-product"]],decls:126,vars:12,consts:[[1,"content"],[1,"container"],[1,"row"],[1,"col"],[1,"row","landing"],[1,"picture","col-2","desktop-only"],["src","/assets/images/trackcard.png","alt","SafeCard","id","trackcard-image",1,"TrackCard"],[1,"card","col","desktop-only"],[1,"product-main-block","warehouse-open-btn"],[1,"info"],[1,"delivery-info"],[1,"delivery-time"],["class","stock-status text-body-secondary",4,"ngIf"],["class","stock-status out text-body-secondary",4,"ngIf"],[1,"rc-summary-price-box"],[1,"rc-price"],[1,"rc-prices-currentprice","typography-label"],[1,"fullprice"],[1,"rc-prices-footer"],[1,"price-disclaimer"],[1,"text-body-secondary"],[1,"availability-info"],[1,"stock-status-wrapper"],["class","stock-status",4,"ngIf"],["class","stock-status out",4,"ngIf"],["id","checkout-button",3,"class","click",4,"ngIf"],["disabled","",3,"class",4,"ngIf"],[1,"row","landing","mobile-only"],[1,"picture","col"],["src","/assets/images/trackcard.png","alt","SafeCard",1,"TrackCard"],[1,"card","col"],[3,"class","click",4,"ngIf"],[1,"row","details"],[1,"line"],[1,"row","info"],["src","","alt",""],["role","list",1,"text-body-secondary"],["role","listitem"],[1,"stock-status","text-body-secondary"],[1,"stock-status","out","text-body-secondary"],[1,"stock-status"],[1,"stock-status","out"],["id","checkout-button",3,"click"],["disabled",""],[3,"click"]],template:function(t,i){t&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),W(5,"SafeCard"),F()()(),L(6,"div",4)(7,"div",5),de(8,"img",6),F(),L(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"h3"),W(14,"H\xE1zhozsz\xE1ll\xEDt\xE1s:"),F(),L(15,"div",11),ei(16,Nee,2,1,"span",12)(17,Oee,2,1,"span",13),F()(),L(18,"div",14)(19,"div",15)(20,"div",16)(21,"span",17),W(22,"8\xA0990 Ft"),F()()(),L(23,"div",18)(24,"div",19)(25,"p",20),W(26," A k\xE9sz\xFCl\xE9k teljes \xE1ra az \xE1f\xE1t is tartalmazza (nagyj\xE1b\xF3l 2\xA0425 Ft).* "),F()()()(),L(27,"div",21)(28,"span",22),ei(29,Pee,2,1,"span",23)(30,kee,2,1,"span",24),F()(),ei(31,Fee,2,3,"button",25)(32,Lee,2,3,"button",26),F()()()(),L(33,"div",27)(34,"div",28),de(35,"img",29),F(),L(36,"div",30)(37,"div",8)(38,"div",9)(39,"div",10)(40,"h3"),W(41,"H\xE1zhozsz\xE1ll\xEDt\xE1s:"),F(),L(42,"div",11),ei(43,Vee,2,1,"span",12)(44,Bee,2,1,"span",13),F()(),L(45,"div",14)(46,"div",15)(47,"div",16)(48,"span",17),W(49,"8\xA0990 Ft"),F()()(),L(50,"div",18)(51,"div",19)(52,"p",20),W(53," A k\xE9sz\xFCl\xE9k teljes \xE1ra az \xE1f\xE1t is tartalmazza (nagyj\xE1b\xF3l 2\xA0425 Ft).* "),F()()()(),L(54,"div",21)(55,"span",22),ei(56,jee,2,1,"span",23)(57,Uee,2,1,"span",24),F()(),ei(58,$ee,2,3,"button",31)(59,Hee,2,3,"button",26),F()()()(),L(60,"div",1)(61,"div",32)(62,"h2"),W(63,"Term\xE9kinform\xE1ci\xF3k"),F(),de(64,"div",33),L(65,"div",34)(66,"div",3)(67,"h3"),W(68,"M\xE9ret"),F()(),L(69,"div",3),de(70,"img",35),F()(),de(71,"div",33),L(72,"div",34)(73,"div",3)(74,"h3"),W(75,"Csatlakoztat\xE1si lehet\u0151s\xE9gek"),F()(),L(76,"div",3)(77,"ul",36)(78,"li",37),W(79,"Bluetooth a k\xF6zels\xE9galap\xFA keres\xE9shez"),F()()()(),de(80,"div",33),L(81,"div",34)(82,"div",3)(83,"h3"),W(84,"Hangsz\xF3r\xF3"),F()(),L(85,"div",3)(86,"ul",36)(87,"li",37),W(88,"Teljes\xEDtm\xE9nye: Maximum 100 Db"),F()()()(),de(89,"div",33),L(90,"div",34)(91,"div",3)(92,"h3"),W(93,"Akkumul\xE1tor"),F()(),L(94,"div",3)(95,"ul",36)(96,"li",37),W(97,"T\xEDpusa: CR2016"),F(),L(98,"li",37),W(99,"Fesz\xFClts\xE9g: 3 V"),F(),L(100,"li",37),W(101,"Darabsz\xE1ma: 3"),F()()()(),de(102,"div",33),L(103,"div",34)(104,"div",3)(105,"h3"),W(106,"Rendszer\xAD-k\xF6vetelm\xE9nyek \xE9s kompatibilit\xE1s"),F()(),L(107,"div",3)(108,"ul",36)(109,"li",37),W(110,"Apple\xA0ID"),F(),L(111,"li",37),W(112,"iPhone vagy iPod\xA0touch iOS\xA014.5-\xF6s vagy \xFAjabb rendszerrel"),F(),L(113,"li",37),W(114,"iPad iPadOS\xA014.5-\xF6s vagy \xFAjabb rendszerrel"),F()()()(),de(115,"div",33),L(116,"div",34)(117,"div",3)(118,"h3"),W(119,"A doboz tartalma"),F()(),L(120,"div",3)(121,"ul",20)(122,"li"),W(123,"SafeCard"),F(),L(124,"li"),W(125,"Dokument\xE1ci\xF3"),F()()()()()()()()),t&2&&(ge(16),Fe("ngIf",i.stockInfo.stock>0),ge(),Fe("ngIf",i.stockInfo.stock==0),ge(12),Fe("ngIf",i.stockInfo.stock>0),ge(),Fe("ngIf",i.stockInfo.stock==0),ge(),Fe("ngIf",i.stockInfo.stock>0),ge(),Fe("ngIf",i.stockInfo.stock==0),ge(11),Fe("ngIf",i.stockInfo.stock>0),ge(),Fe("ngIf",i.stockInfo.stock==0),ge(12),Fe("ngIf",i.stockInfo.stock>0),ge(),Fe("ngIf",i.stockInfo.stock==0),ge(),Fe("ngIf",i.stockInfo.stock>0),ge(),Fe("ngIf",i.stockInfo.stock==0))},dependencies:[iy],styles:[".content[_ngcontent-%COMP%]{padding-top:5vw;font-family:VolteRounded-Bold}.landing[_ngcontent-%COMP%]{padding-top:.5rem}.landing[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{padding-top:2rem;width:50%}.price-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:color(srgb red green blue)}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4rem}.details[_ngcontent-%COMP%]{margin-top:5vw}.details[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:2vw}.line[_ngcontent-%COMP%]{border-top:2px solid rgb(147,147,147);width:99%;margin:2rem auto}.info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:0}.delivery-time[_ngcontent-%COMP%]{margin-top:0;padding-top:0}.delivery-info[_ngcontent-%COMP%]{margin-bottom:20px}.delivery-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.desktop-only[_ngcontent-%COMP%]   .TrackCard[_ngcontent-%COMP%]{height:70%!important}.landing[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{margin-left:80px}.desktop-only[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   .TrackCard[_ngcontent-%COMP%]{margin:20px auto 0}.details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:VolteRounded-Bold}.card[_ngcontent-%COMP%]{background-color:#f5f5f7;border-radius:20px;width:fit-content;margin:30px auto;border-width:0;padding:50px;box-shadow:0 0 10px #0003;height:fit-content;font-family:VolteRounded-Bold;font-size:20px;font-style:normal;top:10%;width:50%}.fullprice[_ngcontent-%COMP%]{font-size:32px}.text-body-secondary[_ngcontent-%COMP%]{font-size:1em;font-family:VolteRounded-Bold}.text-body-secondary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;list-style-type:none;padding-left:0}.col-3[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;line-height:1.16667}button[_ngcontent-%COMP%]{width:100%}.mobile-only[_ngcontent-%COMP%]{display:none}.desktop-only[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 1000px){.card[_ngcontent-%COMP%]{padding:20px;width:90%}.TrackCard[_ngcontent-%COMP%]{width:90%;margin:0 auto}.picture[_ngcontent-%COMP%]{width:90%;margin:0 auto;margin-top:2rem}.container[_ngcontent-%COMP%]{width:98%}.col-3[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.title[_ngcontent-%COMP%]{font-size:10px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:block}}"]})};var $4=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(lt(yc),lt(Di))}}static{this.\u0275dir=Tr({type:n})}}return n})(),zee=(()=>{class n extends $4{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=gd(n)))(r||n)}})()}static{this.\u0275dir=Tr({type:n,features:[vc]})}}return n})(),H4=new J("");var Gee={provide:H4,useExisting:hd(()=>E1),multi:!0};function Wee(){let n=no()?no().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var qee=new J(""),E1=(()=>{class n extends $4{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Wee())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(lt(yc),lt(Di),lt(qee,8))}}static{this.\u0275dir=Tr({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&fi("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[U0([Gee]),vc]})}}return n})();var Kee=new J(""),Qee=new J("");function z4(n){return n!=null}function G4(n){return bc(n)?at(n):n}function W4(n){let e={};return n.forEach(t=>{e=t!=null?K(K({},e),t):e}),Object.keys(e).length===0?null:e}function q4(n,e){return e.map(t=>t(n))}function Yee(n){return!n.validate}function K4(n){return n.map(e=>Yee(e)?e:t=>e.validate(t))}function Jee(n){if(!n)return null;let e=n.filter(z4);return e.length==0?null:function(t){return W4(q4(t,e))}}function Q4(n){return n!=null?Jee(K4(n)):null}function Zee(n){if(!n)return null;let e=n.filter(z4);return e.length==0?null:function(t){let i=q4(t,e).map(G4);return Pb(i).pipe(ne(W4))}}function Y4(n){return n!=null?Zee(K4(n)):null}function k4(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Xee(n){return n._rawValidators}function ete(n){return n._rawAsyncValidators}function mA(n){return n?Array.isArray(n)?n:[n]:[]}function v1(n,e){return Array.isArray(n)?n.includes(e):n===e}function F4(n,e){let t=mA(e);return mA(n).forEach(r=>{v1(t,r)||t.push(r)}),t}function L4(n,e){return mA(e).filter(t=>!v1(n,t))}var w1=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Q4(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Y4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},_A=class extends w1{get formDirective(){return null}get path(){return null}},Qg=class extends w1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},yA=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},tte={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Tge=Pe(K({},tte),{"[class.ng-submitted]":"isSubmitted"}),J4=(()=>{class n extends yA{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(lt(Qg,2))}}static{this.\u0275dir=Tr({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&vd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[vc]})}}return n})();var Gg="VALID",y1="INVALID",bh="PENDING",Wg="DISABLED",Ch=class{},b1=class extends Ch{constructor(e,t){super(),this.value=e,this.source=t}},qg=class extends Ch{constructor(e,t){super(),this.pristine=e,this.source=t}},Kg=class extends Ch{constructor(e,t){super(),this.touched=e,this.source=t}},Eh=class extends Ch{constructor(e,t){super(),this.status=e,this.source=t}};function nte(n){return(C1(n)?n.validators:n)||null}function ite(n){return Array.isArray(n)?Q4(n):n||null}function rte(n,e){return(C1(e)?e.asyncValidators:n)||null}function ste(n){return Array.isArray(n)?Y4(n):n||null}function C1(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var vA=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Z0(()=>this.statusReactive()),this.statusReactive=V0(void 0),this._pristine=Z0(()=>this.pristineReactive()),this.pristineReactive=V0(!0),this._touched=Z0(()=>this.touchedReactive()),this.touchedReactive=V0(!1),this._events=new yt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qa(this.statusReactive)}set status(e){Qa(()=>this.statusReactive.set(e))}get valid(){return this.status===Gg}get invalid(){return this.status===y1}get pending(){return this.status==bh}get disabled(){return this.status===Wg}get enabled(){return this.status!==Wg}get pristine(){return Qa(this.pristineReactive)}set pristine(e){Qa(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qa(this.touchedReactive)}set touched(e){Qa(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(F4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(F4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(L4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(L4(e,this._rawAsyncValidators))}hasValidator(e){return v1(this._rawValidators,e)}hasAsyncValidator(e){return v1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Pe(K({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Kg(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Kg(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Pe(K({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new qg(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new qg(!0,i))}markAsPending(e={}){this.status=bh;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Eh(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Pe(K({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wg,this.errors=null,this._forEachChild(r=>{r.disable(Pe(K({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new b1(this.value,i)),this._events.next(new Eh(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Pe(K({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Gg,this._forEachChild(i=>{i.enable(Pe(K({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Pe(K({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gg||this.status===bh)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new b1(this.value,t)),this._events.next(new Eh(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Pe(K({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wg:Gg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=bh,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=G4(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Eh(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new en,this.statusChanges=new en}_calculateStatus(){return this._allControlsDisabled()?Wg:this.errors?y1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bh)?bh:this._anyControlsHaveStatus(y1)?y1:Gg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new qg(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Kg(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){C1(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ite(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ste(this._rawAsyncValidators)}};var Z4=new J("CallSetDisabledState",{providedIn:"root",factory:()=>wA}),wA="always";function ote(n,e){return[...e.path,n]}function ate(n,e,t=wA){cte(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),ute(n,e),hte(n,e),dte(n,e),lte(n,e)}function V4(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lte(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function cte(n,e){let t=Xee(n);e.validator!==null?n.setValidators(k4(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=ete(n);e.asyncValidator!==null?n.setAsyncValidators(k4(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();V4(e._rawValidators,r),V4(e._rawAsyncValidators,r)}function ute(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&X4(n,e)})}function dte(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&X4(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function X4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hte(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function fte(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function pte(n){return Object.getPrototypeOf(n.constructor)===zee}function gte(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===E1?t=s:pte(s)?i=s:r=s}),r||i||t||null}function B4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function j4(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var mte=class extends vA{constructor(e=null,t,i){super(nte(t),rte(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),C1(t)&&(t.nonNullable||t.initialValueIsDefault)&&(j4(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){B4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){B4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){j4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var _te={provide:Qg,useExisting:hd(()=>bA)},U4=Promise.resolve(),bA=(()=>{class n extends Qg{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new mte,this._registered=!1,this.name="",this.update=new en,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=gte(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fte(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ate(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){U4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&J0(i);U4.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ote(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(lt(_A,9),lt(Kee,10),lt(Qee,10),lt(H4,10),lt(Yo,8),lt(Z4,8))}}static{this.\u0275dir=Tr({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[U0([_te]),vc,pc]})}}return n})();var yte=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var ej=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Z4,useValue:t.callSetDisabledState??wA}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({imports:[yte]})}}return n})();function wte(n,e){if(n&1&&(L(0,"div",4),W(1),F()),n&2){let t=e.$implicit;ge(),fr(t.text)}}function bte(n,e){if(n&1){let t=hr();Gf(0),L(1,"textarea",9),bd("ngModelChange",function(r){Bi(t);let s=rt().$implicit,o=rt();return qf(o.newProduct[s.key],r)||(o.newProduct[s.key]=r),ji(r)}),F(),Wf()}if(n&2){let t=rt().$implicit,i=rt();ge(),wd("ngModel",i.newProduct[t.key])}}function Ete(n,e){if(n&1){let t=hr();L(0,"input",10),bd("ngModelChange",function(r){Bi(t);let s=rt().$implicit,o=rt();return qf(o.newProduct[s.key],r)||(o.newProduct[s.key]=r),ji(r)}),F()}if(n&2){let t=rt().$implicit,i=rt();wd("ngModel",i.newProduct[t.key]),Fe("type",t.type)}}function Cte(n,e){if(n&1&&(L(0,"div",4),ei(1,bte,2,1,"ng-container",8)(2,Ete,1,2,"ng-template",null,0,H0),F()),n&2){let t=e.$implicit,i=j0(3);ge(),Fe("ngIf",t.type=="textarea")("ngIfElse",i)}}function Dte(n,e){if(n&1){let t=hr();Gf(0),L(1,"textarea",9),bd("ngModelChange",function(r){Bi(t);let s=rt().$implicit,o=rt().$implicit;return qf(o[s.key],r)||(o[s.key]=r),ji(r)}),F(),Wf()}if(n&2){let t=rt().$implicit,i=rt().$implicit;ge(),wd("ngModel",i[t.key])}}function Ite(n,e){if(n&1){let t=hr();L(0,"input",10),bd("ngModelChange",function(r){Bi(t);let s=rt().$implicit,o=rt().$implicit;return qf(o[s.key],r)||(o[s.key]=r),ji(r)}),F()}if(n&2){let t=rt().$implicit,i=rt().$implicit;wd("ngModel",i[t.key]),Fe("type",t.type)}}function Tte(n,e){if(n&1&&(L(0,"div",4),ei(1,Dte,2,1,"ng-container",8)(2,Ite,1,2,"ng-template",null,0,H0),F()),n&2){let t=e.$implicit,i=j0(3);ge(),Fe("ngIf",t.type=="textarea")("ngIfElse",i)}}function Ste(n,e){if(n&1){let t=hr();L(0,"div",11),ei(1,Tte,4,2,"div",3),L(2,"div",4)(3,"button",6),fi("click",function(){let r=Bi(t).$implicit,s=rt();return ji(s.updatedProduct(r))}),W(4,"Ment"),F()()()}if(n&2){let t=rt();ge(),Fe("ngForOf",t.columns)}}var D1=class n{constructor(e){this.base=e;this.base.getProduct().snapshotChanges().pipe(ne(t=>t.map(i=>K({key:i.payload.key},i.payload.val())))).subscribe(t=>this.products=t)}products=[];newProduct={};columns=[{key:"name",label:"Ne\u0301v",type:"text"},{key:"stock",label:"Rakt\xE1rk\xE9szlet",type:"number"}];addProduct(){this.base.addProduct(this.newProduct),this.newProduct={}}updatedProduct(e){this.base.updateProduct(e)}static \u0275fac=function(t){return new(t||n)(lt(wh))};static \u0275cmp=hi({type:n,selectors:[["app-manage-product"]],decls:11,vars:3,consts:[["simainput",""],[1,"container"],[1,"row","my-3","fw-bold"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"row","my-3"],["type","button",1,"btn","btn-primary",3,"click"],["class","row",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel","type"],[1,"row"]],template:function(t,i){t&1&&(L(0,"div",1)(1,"div",2),ei(2,wte,2,1,"div",3),L(3,"div",4),W(4,"M\u0171veletek"),F()(),L(5,"div",5),ei(6,Cte,4,2,"div",3),L(7,"div",4)(8,"button",6),fi("click",function(){return i.addProduct()}),W(9,"Hozz\xE1ad"),F()()(),ei(10,Ste,5,1,"div",7),F()),t&2&&(ge(2),Fe("ngForOf",i.columns),ge(4),Fe("ngForOf",i.columns),ge(4),Fe("ngForOf",i.products))},dependencies:[ny,iy,E1,J4,bA],styles:[".container[_ngcontent-%COMP%]{padding-top:4vw}"]})};var Ate=[{path:"home",component:wv},{path:"product",component:_1},{path:"manage",component:D1},{path:"**",redirectTo:"home"}],I1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ne({type:n});static \u0275inj=Re({imports:[WD.forRoot(Ate),WD]})};var xte=n=>({active:n}),Mte=n=>({open:n});function Rte(n,e){if(n&1){let t=hr();L(0,"li",8)(1,"a",9),fi("click",function(){let r=Bi(t).$implicit,s=rt();return s.toggleNavbar(),ji(s.navigateto(r.path))}),W(2),F()()}if(n&2){let t=e.$implicit;ge(2),fr(t.text)}}var T1=class n{constructor(e){this.router=e}isNavbarOpen=!1;dropDownNavCollapse=!0;hamburgerActive=!1;navItems=[{path:"home",text:"F\u0151oldal"},{path:"product",text:"V\xE1s\xE1rl\xE1s"},{path:"manage",text:"Manage"}];toggleNavbar(){this.isNavbarOpen=!this.isNavbarOpen,this.hamburgerActive=!this.hamburgerActive}navigateto(e){this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)(lt(xs))};static \u0275cmp=hi({type:n,selectors:[["app-navbar"]],decls:10,vars:7,consts:[["id","navPrimary",1,"navbar","navbar-expand-lg"],[1,"container-fluid"],[1,"navbar-brand"],["type","button",1,"hamburger",3,"click","ngClass"],[1,"line"],["id","navbarSupportedContent",1,"navbar-collapse",3,"ngClass"],[1,"navbar-nav"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link",3,"click"]],template:function(t,i){t&1&&(L(0,"nav",0)(1,"div",1)(2,"a",2),W(3,"SafeCard"),F(),L(4,"button",3),fi("click",function(){return i.toggleNavbar()}),de(5,"span",4)(6,"span",4),F(),L(7,"div",5)(8,"ul",6),ei(9,Rte,3,1,"li",7),F()()()()),t&2&&(ge(4),Fe("ngClass",$0(3,xte,i.hamburgerActive)),ge(3),Fe("ngClass",$0(5,Mte,i.isNavbarOpen)),ge(2),Fe("ngForOf",i.navItems))},dependencies:[R2,ny],styles:["#navPrimary[_ngcontent-%COMP%]{padding:0;background-color:#171717cc;position:fixed;top:0;width:100%;z-index:1000;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px)}#navPrimary[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{line-height:3.3rem;text-align:center;font-weight:400;font-size:20px;padding:8px 16px;text-decoration:none;cursor:pointer;transition:background-color .3s;background:linear-gradient(45deg,#efcdbb,#dab8a4 70%,#a3735e calc(100% - 5px),#0000 calc(100% - 4px));background-size:calc(100% - 1px) auto;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:#a3735e;font-family:VolteRounded-Bold}#navPrimary[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#fff;color:#171717cc}.navbar-brand[_ngcontent-%COMP%]{line-height:3.3rem;text-align:center;font-weight:600;font-size:20px;padding:8px 16px;text-decoration:none;cursor:pointer;transition:background-color .3s;background:linear-gradient(90deg,#efcdbb,#dab8a4 25%,#a3735e calc(100% - 5px),#0000 calc(100% - 4px));background-size:calc(100% - 1px) auto;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;font-family:VolteRounded-Bold}.navbar-brand[_ngcontent-%COMP%]:hover{color:#fff}@media (max-width: 991px){.navbar-brand[_ngcontent-%COMP%]{line-height:3.3rem}.navbar-collapse[_ngcontent-%COMP%]{height:0;opacity:0;transform:translateY(-20px);transition:height .5s ease,opacity .8s ease,transform .5s ease;overflow:hidden}.navbar-collapse.open[_ngcontent-%COMP%]{height:1000px;opacity:1;transform:translateY(0)}button[_ngcontent-%COMP%]{border:0;line-height:3.3rem}.hamburger[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;cursor:pointer}.hamburger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:block;width:30px;height:3px;background-color:#fff;margin-block:10px;border-radius:4px;transition:transform .2s,opacity .2s}.hamburger.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(7px) rotate(45deg)}.hamburger.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){transform:translateY(-7px) rotate(-45deg)}li[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:100%;text-align:center;margin:0 auto}.nav-link[_ngcontent-%COMP%]{display:block;width:100%;margin:0 auto;padding:10px 0;text-align:center;opacity:100%}.navbar-toggler[_ngcontent-%COMP%]{display:block}.navbar-langselect[_ngcontent-%COMP%]{margin:0 auto;justify-content:center}.dropdown-item[_ngcontent-%COMP%]{font-size:20px}.dropdown-menu.show[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;width:100%;font-size:20px}.dropdown-menu[_ngcontent-%COMP%]{background:none;max-height:0;opacity:0;transform:translateY(-20px);transition:max-height .5s ease,opacity .5s ease,transform .5s ease;overflow:hidden}.dropdown-menu.show[_ngcontent-%COMP%]{position:relative;max-height:800px;opacity:1;transform:translateY(0)}}@media (min-width: 992px){.navbar-toggler[_ngcontent-%COMP%], .hamburger[_ngcontent-%COMP%]{display:none}.navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}}"]})};var S1=class n{title="SafeCard";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=hi({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){t&1&&de(0,"app-navbar")(1,"router-outlet")},dependencies:[jD,T1],styles:['@font-face{font-family:VolteRounded-Bold;src:url(/assets/fonts/VolteRounded-Bold.otf) format("truetype")}@font-face{font-family:VolteRounded;src:url(/assets/fonts/VolteRounded-Bold.otf) format("truetype")}@font-face{font-family:VolteRounded;src:url(/assets/fonts/VolteRounded-Bold.otf) format("truetype");font-weight:lighter}app-navbar[_ngcontent-%COMP%]{height:3.3rem}router-outlet[_ngcontent-%COMP%]{padding-top:3.3vw;padding-bottom:5rem}app-router-outlet[_ngcontent-%COMP%]{font-family:VolteRounded-Bold}']})};var Ote=["*"];var Pte=["dialog"];var tj={animation:!0,transitionTimerDelayMs:5},kte=(()=>{class n{constructor(){this.animation=tj.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Fte(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function nj(n){return typeof n=="string"}function EA(n){return n!=null}function Lte(n){return n&&n.then}function ij(n){return(n||document.body).getBoundingClientRect()}function Vte(n){return e=>new me(t=>{let i=o=>n.run(()=>t.next(o)),r=o=>n.run(()=>t.error(o)),s=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:s})})}var Bte=()=>{},{transitionTimerDelayMs:jte}=tj,A1=new Map,nu=(n,e,t,i)=>{let r=i.context||{},s=A1.get(e);if(s)switch(i.runningTransition){case"continue":return Un;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),A1.delete(e)}let o=t(e,i.animation,r)||Bte;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>o()),se(void 0).pipe(Vte(n));let a=new yt,l=new yt,c=a.pipe(Vb(!0));A1.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let d=Fte(e);return n.runOutsideAngular(()=>{let h=qr(e,"transitionend").pipe(Ei(c),Kt(({target:p})=>p===e)),f=kb(d+jte).pipe(Ei(c));Fb(f,h,l).pipe(Ei(c)).subscribe(()=>{A1.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var rj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var sj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var oj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})(),aj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var Cme=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var Ute=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function lj(n){let e=Array.from(n.querySelectorAll(Ute)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var $te=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let r=qr(e,"focusin").pipe(Ei(t),ne(s=>s.target));qr(e,"keydown").pipe(Ei(t),Kt(s=>s.key==="Tab"),Ku(r)).subscribe(([s,o])=>{let[a,l]=lj(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&qr(e,"click").pipe(Ei(t),Ku(r),ne(s=>s[1])).subscribe(s=>s.focus())})};var Dme=new Date(1882,10,12),Ime=new Date(2174,10,25);var Tme=1e3*60*60*24;var IA=1080,Hte=24*IA,zte=12*IA+793,Sme=29*Hte+zte,Ame=11*IA+204;var cj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var uj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})(),Gte=(()=>{class n{constructor(){this._ngbConfig=H(kte),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Dh=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}};var Wte=(()=>{class n{constructor(){this._document=H(Nn)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=o),r.overflow=s}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qte=(()=>{class n{constructor(){this._nativeElement=H(Di).nativeElement,this._zone=H(ke)}ngOnInit(){this._zone.onStable.asObservable().pipe(lr(1)).subscribe(()=>{nu(this._zone,this._nativeElement,(t,i)=>{i&&ij(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return nu(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=hi({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(Qo("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),vd("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Kf],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})(),x1=class{update(e){}close(e){}dismiss(e){}},Kte=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Qte=["animation","backdropClass"],CA=class{_applyWindowOptions(e,t){Kte.forEach(i=>{EA(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){Qte.forEach(i=>{EA(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ei(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ei(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new yt,this._dismissed=new yt,this._hidden=new yt,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();Lte(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():se(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Af(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},DA=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(DA||{}),Yte=(()=>{class n{constructor(){this._document=H(Nn),this._elRef=H(Di),this._zone=H(ke),this._closed$=new yt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new en,this.shown=new yt,this.hidden=new yt}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":nj(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(lr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=nu(this._zone,t,()=>t.classList.remove("show"),i),s=nu(this._zone,this._dialogEl.nativeElement,()=>{},i),o=Af(r,s);return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){let t={animation:this.animation,runningTransition:"continue"},i=nu(this._zone,this._elRef.nativeElement,(s,o)=>{o&&ij(s),s.classList.add("show")},t),r=nu(this._zone,this._dialogEl.nativeElement,()=>{},t);Af(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{qr(t,"keydown").pipe(Ei(this._closed$),Kt(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(DA.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;qr(this._dialogEl.nativeElement,"mousedown").pipe(Ei(this._closed$),fn(()=>i=!1),Mt(()=>qr(t,"mouseup").pipe(Ei(this._closed$),lr(1))),Kt(({target:r})=>t===r)).subscribe(()=>{i=!0}),qr(t,"click").pipe(Ei(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(DA.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=lj(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&nu(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=hi({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&a2(Pte,7),i&2){let s;OC(s=PC())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(zf("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Qo("modal d-block"+(r.windowClass?" "+r.windowClass:"")),vd("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Kf],ngContentSelectors:Ote,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(s2(),L(0,"div",1,0)(2,"div",2),o2(3),F()()),i&2&&Qo("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return n})(),Jte=(()=>{class n{constructor(){this._applicationRef=H(Ss),this._injector=H(di),this._environmentInjector=H(Xn),this._document=H(Nn),this._scrollBar=H(Wte),this._activeWindowCmptHasChanged=new yt,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new en;let t=H(ke);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];$te(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let s=r.container instanceof HTMLElement?r.container:EA(r.container)?this._document.querySelector(r.container):this._document.body;if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let o=new x1;t=r.injector||t;let a=t.get(Xn,null)||this._environmentInjector,l=this._getContentRef(t,a,i,o,r),c=r.backdrop!==!1?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,l.nodes),h=new CA(d,l,c,r.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(lr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),o.close=f=>{h.close(f)},o.dismiss=f=>{h.dismiss(f)},o.update=f=>{h.update(f)},h.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=X0(qte,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=X0(Yte,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,s,o){return r?r instanceof Uo?this._createFromTemplateRef(r,s):nj(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,o):new Dh([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}},s=t.createEmbeddedView(r);return this._applicationRef.attachView(s),new Dh([s.rootNodes],s)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new Dh([[i]])}_createFromComponent(t,i,r,s,o){let a=di.create({providers:[{provide:x1,useValue:s}],parent:t}),l=X0(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Dh([[c]],l.hostView,l)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zte=(()=>{class n{constructor(){this._injector=H(di),this._modalStack=H(Jte),this._config=H(Gte)}open(t,i={}){let r=K(Pe(K({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({providers:[Zte]})}}return n})();var hj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var fj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var pj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var gj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var mj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var _j=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var yj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var vj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var wj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var xme=new J("live announcer delay",{providedIn:"root",factory:()=>100});var bj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})();var Ej=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({})}}return n})(),Xte=[rj,sj,oj,aj,cj,uj,dj,hj,Ej,fj,pj,gj,mj,_j,yj,vj,wj,bj],Cj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ne({type:n})}static{this.\u0275inj=Re({imports:[Xte,rj,sj,oj,aj,cj,uj,dj,hj,Ej,fj,pj,gj,mj,_j,yj,vj,wj,bj]})}}return n})();var Dj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ij={};var Tl,TA;(function(){var n;function e(C,b){function v(){}v.prototype=b.prototype,C.D=b.prototype,C.prototype=new v,C.prototype.constructor=C,C.C=function(E,S,I){for(var T=Array(arguments.length-2),le=2;le<arguments.length;le++)T[le-2]=arguments[le];return b.prototype[S].apply(E,T)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,b,v){v||(v=0);var E=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)E[S]=b.charCodeAt(v++)|b.charCodeAt(v++)<<8|b.charCodeAt(v++)<<16|b.charCodeAt(v++)<<24;else for(S=0;16>S;++S)E[S]=b[v++]|b[v++]<<8|b[v++]<<16|b[v++]<<24;b=C.g[0],v=C.g[1],S=C.g[2];var I=C.g[3],T=b+(I^v&(S^I))+E[0]+3614090360&4294967295;b=v+(T<<7&4294967295|T>>>25),T=I+(S^b&(v^S))+E[1]+3905402710&4294967295,I=b+(T<<12&4294967295|T>>>20),T=S+(v^I&(b^v))+E[2]+606105819&4294967295,S=I+(T<<17&4294967295|T>>>15),T=v+(b^S&(I^b))+E[3]+3250441966&4294967295,v=S+(T<<22&4294967295|T>>>10),T=b+(I^v&(S^I))+E[4]+4118548399&4294967295,b=v+(T<<7&4294967295|T>>>25),T=I+(S^b&(v^S))+E[5]+1200080426&4294967295,I=b+(T<<12&4294967295|T>>>20),T=S+(v^I&(b^v))+E[6]+2821735955&4294967295,S=I+(T<<17&4294967295|T>>>15),T=v+(b^S&(I^b))+E[7]+4249261313&4294967295,v=S+(T<<22&4294967295|T>>>10),T=b+(I^v&(S^I))+E[8]+1770035416&4294967295,b=v+(T<<7&4294967295|T>>>25),T=I+(S^b&(v^S))+E[9]+2336552879&4294967295,I=b+(T<<12&4294967295|T>>>20),T=S+(v^I&(b^v))+E[10]+4294925233&4294967295,S=I+(T<<17&4294967295|T>>>15),T=v+(b^S&(I^b))+E[11]+2304563134&4294967295,v=S+(T<<22&4294967295|T>>>10),T=b+(I^v&(S^I))+E[12]+1804603682&4294967295,b=v+(T<<7&4294967295|T>>>25),T=I+(S^b&(v^S))+E[13]+4254626195&4294967295,I=b+(T<<12&4294967295|T>>>20),T=S+(v^I&(b^v))+E[14]+2792965006&4294967295,S=I+(T<<17&4294967295|T>>>15),T=v+(b^S&(I^b))+E[15]+1236535329&4294967295,v=S+(T<<22&4294967295|T>>>10),T=b+(S^I&(v^S))+E[1]+4129170786&4294967295,b=v+(T<<5&4294967295|T>>>27),T=I+(v^S&(b^v))+E[6]+3225465664&4294967295,I=b+(T<<9&4294967295|T>>>23),T=S+(b^v&(I^b))+E[11]+643717713&4294967295,S=I+(T<<14&4294967295|T>>>18),T=v+(I^b&(S^I))+E[0]+3921069994&4294967295,v=S+(T<<20&4294967295|T>>>12),T=b+(S^I&(v^S))+E[5]+3593408605&4294967295,b=v+(T<<5&4294967295|T>>>27),T=I+(v^S&(b^v))+E[10]+38016083&4294967295,I=b+(T<<9&4294967295|T>>>23),T=S+(b^v&(I^b))+E[15]+3634488961&4294967295,S=I+(T<<14&4294967295|T>>>18),T=v+(I^b&(S^I))+E[4]+3889429448&4294967295,v=S+(T<<20&4294967295|T>>>12),T=b+(S^I&(v^S))+E[9]+568446438&4294967295,b=v+(T<<5&4294967295|T>>>27),T=I+(v^S&(b^v))+E[14]+3275163606&4294967295,I=b+(T<<9&4294967295|T>>>23),T=S+(b^v&(I^b))+E[3]+4107603335&4294967295,S=I+(T<<14&4294967295|T>>>18),T=v+(I^b&(S^I))+E[8]+1163531501&4294967295,v=S+(T<<20&4294967295|T>>>12),T=b+(S^I&(v^S))+E[13]+2850285829&4294967295,b=v+(T<<5&4294967295|T>>>27),T=I+(v^S&(b^v))+E[2]+4243563512&4294967295,I=b+(T<<9&4294967295|T>>>23),T=S+(b^v&(I^b))+E[7]+1735328473&4294967295,S=I+(T<<14&4294967295|T>>>18),T=v+(I^b&(S^I))+E[12]+2368359562&4294967295,v=S+(T<<20&4294967295|T>>>12),T=b+(v^S^I)+E[5]+4294588738&4294967295,b=v+(T<<4&4294967295|T>>>28),T=I+(b^v^S)+E[8]+2272392833&4294967295,I=b+(T<<11&4294967295|T>>>21),T=S+(I^b^v)+E[11]+1839030562&4294967295,S=I+(T<<16&4294967295|T>>>16),T=v+(S^I^b)+E[14]+4259657740&4294967295,v=S+(T<<23&4294967295|T>>>9),T=b+(v^S^I)+E[1]+2763975236&4294967295,b=v+(T<<4&4294967295|T>>>28),T=I+(b^v^S)+E[4]+1272893353&4294967295,I=b+(T<<11&4294967295|T>>>21),T=S+(I^b^v)+E[7]+4139469664&4294967295,S=I+(T<<16&4294967295|T>>>16),T=v+(S^I^b)+E[10]+3200236656&4294967295,v=S+(T<<23&4294967295|T>>>9),T=b+(v^S^I)+E[13]+681279174&4294967295,b=v+(T<<4&4294967295|T>>>28),T=I+(b^v^S)+E[0]+3936430074&4294967295,I=b+(T<<11&4294967295|T>>>21),T=S+(I^b^v)+E[3]+3572445317&4294967295,S=I+(T<<16&4294967295|T>>>16),T=v+(S^I^b)+E[6]+76029189&4294967295,v=S+(T<<23&4294967295|T>>>9),T=b+(v^S^I)+E[9]+3654602809&4294967295,b=v+(T<<4&4294967295|T>>>28),T=I+(b^v^S)+E[12]+3873151461&4294967295,I=b+(T<<11&4294967295|T>>>21),T=S+(I^b^v)+E[15]+530742520&4294967295,S=I+(T<<16&4294967295|T>>>16),T=v+(S^I^b)+E[2]+3299628645&4294967295,v=S+(T<<23&4294967295|T>>>9),T=b+(S^(v|~I))+E[0]+4096336452&4294967295,b=v+(T<<6&4294967295|T>>>26),T=I+(v^(b|~S))+E[7]+1126891415&4294967295,I=b+(T<<10&4294967295|T>>>22),T=S+(b^(I|~v))+E[14]+2878612391&4294967295,S=I+(T<<15&4294967295|T>>>17),T=v+(I^(S|~b))+E[5]+4237533241&4294967295,v=S+(T<<21&4294967295|T>>>11),T=b+(S^(v|~I))+E[12]+1700485571&4294967295,b=v+(T<<6&4294967295|T>>>26),T=I+(v^(b|~S))+E[3]+2399980690&4294967295,I=b+(T<<10&4294967295|T>>>22),T=S+(b^(I|~v))+E[10]+4293915773&4294967295,S=I+(T<<15&4294967295|T>>>17),T=v+(I^(S|~b))+E[1]+2240044497&4294967295,v=S+(T<<21&4294967295|T>>>11),T=b+(S^(v|~I))+E[8]+1873313359&4294967295,b=v+(T<<6&4294967295|T>>>26),T=I+(v^(b|~S))+E[15]+4264355552&4294967295,I=b+(T<<10&4294967295|T>>>22),T=S+(b^(I|~v))+E[6]+2734768916&4294967295,S=I+(T<<15&4294967295|T>>>17),T=v+(I^(S|~b))+E[13]+1309151649&4294967295,v=S+(T<<21&4294967295|T>>>11),T=b+(S^(v|~I))+E[4]+4149444226&4294967295,b=v+(T<<6&4294967295|T>>>26),T=I+(v^(b|~S))+E[11]+3174756917&4294967295,I=b+(T<<10&4294967295|T>>>22),T=S+(b^(I|~v))+E[2]+718787259&4294967295,S=I+(T<<15&4294967295|T>>>17),T=v+(I^(S|~b))+E[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(S+(T<<21&4294967295|T>>>11))&4294967295,C.g[2]=C.g[2]+S&4294967295,C.g[3]=C.g[3]+I&4294967295}i.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var v=b-this.blockSize,E=this.B,S=this.h,I=0;I<b;){if(S==0)for(;I<=v;)r(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<b;)if(E[S++]=C.charCodeAt(I++),S==this.blockSize){r(this,E),S=0;break}}else for(;I<b;)if(E[S++]=C[I++],S==this.blockSize){r(this,E),S=0;break}}this.h=S,this.o+=b},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var v=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=v&255,v/=256;for(this.u(C),C=Array(16),b=v=0;4>b;++b)for(var E=0;32>E;E+=8)C[v++]=this.g[b]>>>E&255;return C};function s(C,b){var v=a;return Object.prototype.hasOwnProperty.call(v,C)?v[C]:v[C]=b(C)}function o(C,b){this.h=b;for(var v=[],E=!0,S=C.length-1;0<=S;S--){var I=C[S]|0;E&&I==b||(v[S]=I,E=!1)}this.g=v}var a={};function l(C){return-128<=C&&128>C?s(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return w(c(-C));for(var b=[],v=1,E=0;C>=v;E++)b[E]=C/v|0,v*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return w(d(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=c(Math.pow(b,8)),E=h,S=0;S<C.length;S+=8){var I=Math.min(8,C.length-S),T=parseInt(C.substring(S,S+I),b);8>I?(I=c(Math.pow(b,I)),E=E.j(I).add(c(T))):(E=E.j(v),E=E.add(c(T)))}return E}var h=l(0),f=l(1),p=l(16777216);n=o.prototype,n.m=function(){if(_(this))return-w(this).m();for(var C=0,b=1,v=0;v<this.g.length;v++){var E=this.i(v);C+=(0<=E?E:4294967296+E)*b,b*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(_(this))return"-"+w(this).toString(C);for(var b=c(Math.pow(C,6)),v=this,E="";;){var S=R(v,b).g;v=A(v,S.j(b));var I=((0<v.g.length?v.g[0]:v.h)>>>0).toString(C);if(v=S,y(v))return I+E;for(;6>I.length;)I="0"+I;E=I+E}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function _(C){return C.h==-1}n.l=function(C){return C=A(this,C),_(C)?-1:y(C)?0:1};function w(C){for(var b=C.g.length,v=[],E=0;E<b;E++)v[E]=~C.g[E];return new o(v,~C.h).add(f)}n.abs=function(){return _(this)?w(this):this},n.add=function(C){for(var b=Math.max(this.g.length,C.g.length),v=[],E=0,S=0;S<=b;S++){var I=E+(this.i(S)&65535)+(C.i(S)&65535),T=(I>>>16)+(this.i(S)>>>16)+(C.i(S)>>>16);E=T>>>16,I&=65535,T&=65535,v[S]=T<<16|I}return new o(v,v[v.length-1]&-2147483648?-1:0)};function A(C,b){return C.add(w(b))}n.j=function(C){if(y(this)||y(C))return h;if(_(this))return _(C)?w(this).j(w(C)):w(w(this).j(C));if(_(C))return w(this.j(w(C)));if(0>this.l(p)&&0>C.l(p))return c(this.m()*C.m());for(var b=this.g.length+C.g.length,v=[],E=0;E<2*b;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var S=0;S<C.g.length;S++){var I=this.i(E)>>>16,T=this.i(E)&65535,le=C.i(S)>>>16,ve=C.i(S)&65535;v[2*E+2*S]+=T*ve,M(v,2*E+2*S),v[2*E+2*S+1]+=I*ve,M(v,2*E+2*S+1),v[2*E+2*S+1]+=T*le,M(v,2*E+2*S+1),v[2*E+2*S+2]+=I*le,M(v,2*E+2*S+2)}for(E=0;E<b;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=b;E<2*b;E++)v[E]=0;return new o(v,0)};function M(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function x(C,b){this.g=C,this.h=b}function R(C,b){if(y(b))throw Error("division by zero");if(y(C))return new x(h,h);if(_(C))return b=R(w(C),b),new x(w(b.g),w(b.h));if(_(b))return b=R(C,w(b)),new x(w(b.g),b.h);if(30<C.g.length){if(_(C)||_(b))throw Error("slowDivide_ only works with positive integers.");for(var v=f,E=b;0>=E.l(C);)v=P(v),E=P(E);var S=N(v,1),I=N(E,1);for(E=N(E,2),v=N(v,2);!y(E);){var T=I.add(E);0>=T.l(C)&&(S=S.add(v),I=T),E=N(E,1),v=N(v,1)}return b=A(C,S.j(b)),new x(S,b)}for(S=h;0<=C.l(b);){for(v=Math.max(1,Math.floor(C.m()/b.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),I=c(v),T=I.j(b);_(T)||0<T.l(C);)v-=E,I=c(v),T=I.j(b);y(I)&&(I=f),S=S.add(I),C=A(C,T)}return new x(S,C)}n.A=function(C){return R(this,C).h},n.and=function(C){for(var b=Math.max(this.g.length,C.g.length),v=[],E=0;E<b;E++)v[E]=this.i(E)&C.i(E);return new o(v,this.h&C.h)},n.or=function(C){for(var b=Math.max(this.g.length,C.g.length),v=[],E=0;E<b;E++)v[E]=this.i(E)|C.i(E);return new o(v,this.h|C.h)},n.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),v=[],E=0;E<b;E++)v[E]=this.i(E)^C.i(E);return new o(v,this.h^C.h)};function P(C){for(var b=C.g.length+1,v=[],E=0;E<b;E++)v[E]=C.i(E)<<1|C.i(E-1)>>>31;return new o(v,C.h)}function N(C,b){var v=b>>5;b%=32;for(var E=C.g.length-v,S=[],I=0;I<E;I++)S[I]=0<b?C.i(I+v)>>>b|C.i(I+v+1)<<32-b:C.i(I+v);return new o(S,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,TA=Ij.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Tl=Ij.Integer=o}).apply(typeof Dj<"u"?Dj:typeof self<"u"?self:typeof window<"u"?window:{});var M1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ga={};var SA,ene,Ih,AA,Yg,R1,xA,MA,RA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,m){return u==Array.prototype||u==Object.prototype||(u[g]=m.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof M1=="object"&&M1];for(var g=0;g<u.length;++g){var m=u[g];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=t(this);function r(u,g){if(g)e:{var m=i;u=u.split(".");for(var D=0;D<u.length-1;D++){var k=u[D];if(!(k in m))break e;m=m[k]}u=u[u.length-1],D=m[u],g=g(D),g!=D&&g!=null&&e(m,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var m=0,D=!1,k={next:function(){if(!D&&m<u.length){var j=m++;return{value:g(j,u[j]),done:!1}}return D=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}r("Array.prototype.values",function(u){return u||function(){return s(this,function(g,m){return m})}});var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,m){return u.call.apply(u.bind,arguments)}function h(u,g,m){if(!u)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,D),u.apply(g,k)}}return function(){return u.apply(g,arguments)}}function f(u,g,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(u,g){var m=Array.prototype.slice.call(arguments,1);return function(){var D=m.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function y(u,g){function m(){}m.prototype=g.prototype,u.aa=g.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(D,k,j){for(var Z=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Z[Ot-2]=arguments[Ot];return g.prototype[k].apply(D,Z)}}function _(u){let g=u.length;if(0<g){let m=Array(g);for(let D=0;D<g;D++)m[D]=u[D];return m}return[]}function w(u,g){for(let m=1;m<arguments.length;m++){let D=arguments[m];if(l(D)){let k=u.length||0,j=D.length||0;u.length=k+j;for(let Z=0;Z<j;Z++)u[k+Z]=D[Z]}else u.push(D)}}class A{constructor(g,m){this.i=g,this.j=m,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var P=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function N(u,g,m){for(let D in u)g.call(m,u[D],D,u)}function C(u,g){for(let m in u)g.call(void 0,u[m],m,u)}function b(u){let g={};for(let m in u)g[m]=u[m];return g}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(u,g){let m,D;for(let k=1;k<arguments.length;k++){D=arguments[k];for(m in D)u[m]=D[m];for(let j=0;j<v.length;j++)m=v[j],Object.prototype.hasOwnProperty.call(D,m)&&(u[m]=D[m])}}function S(u){var g=1;u=u.split(":");let m=[];for(;0<g&&u.length;)m.push(u.shift()),g--;return u.length&&m.push(u.join(":")),m}function I(u){a.setTimeout(()=>{throw u},0)}function T(){var u=mt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class le{constructor(){this.h=this.g=null}add(g,m){let D=ve.get();D.set(g,m),this.h?this.h.next=D:this.g=D,this.h=D}}var ve=new A(()=>new Ee,u=>u.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(g,m){this.h=g,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Me=!1,mt=new le,O=()=>{let u=a.Promise.resolve(void 0);ae=()=>{u.then(Ke)}};var Ke=()=>{for(var u;u=T();){try{u.h.call(u.g)}catch(m){I(m)}var g=ve;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Me=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let m=()=>{};a.addEventListener("test",m,g),a.removeEventListener("test",m,g)}catch{}return u}();function Ve(u,g){if(ze.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(P){e:{try{R(g.nodeName);var k=!0;break e}catch{}k=!1}k||(g=null)}}else m=="mouseover"?g=u.fromElement:m=="mouseout"&&(g=u.toElement);this.relatedTarget=g,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ve.aa.h.call(this)}}y(Ve,ze);var tt={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function Rt(u,g,m,D,k){this.listener=u,this.proxy=null,this.src=g,this.type=m,this.capture=!!D,this.ha=k,this.key=++Vt,this.da=this.fa=!1}function Zt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Te(u){this.src=u,this.g={},this.h=0}Te.prototype.add=function(u,g,m,D,k){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var Z=_e(u,g,D,k);return-1<Z?(g=u[Z],m||(g.fa=!1)):(g=new Rt(g,this.src,j,!!D,k),g.fa=m,u.push(g)),g};function Se(u,g){var m=g.type;if(m in u.g){var D=u.g[m],k=Array.prototype.indexOf.call(D,g,void 0),j;(j=0<=k)&&Array.prototype.splice.call(D,k,1),j&&(Zt(g),u.g[m].length==0&&(delete u.g[m],u.h--))}}function _e(u,g,m,D){for(var k=0;k<u.length;++k){var j=u[k];if(!j.da&&j.listener==g&&j.capture==!!m&&j.ha==D)return k}return-1}var dt="closure_lm_"+(1e6*Math.random()|0),vn={};function vi(u,g,m,D,k){if(D&&D.once)return jr(u,g,m,D,k);if(Array.isArray(g)){for(var j=0;j<g.length;j++)vi(u,g[j],m,D,k);return null}return m=Ur(m),u&&u[$e]?u.K(g,m,c(D)?!!D.capture:!!D,k):$(u,g,m,!1,D,k)}function $(u,g,m,D,k,j){if(!g)throw Error("Invalid event type");var Z=c(k)?!!k.capture:!!k,Ot=Us(u);if(Ot||(u[dt]=Ot=new Te(u)),m=Ot.add(g,m,D,Z,j),m.proxy)return m;if(D=Pi(),m.proxy=D,D.src=u,D.listener=m,u.addEventListener)ot||(k=Z),k===void 0&&(k=!1),u.addEventListener(g.toString(),D,k);else if(u.attachEvent)u.attachEvent(ms(g.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Pi(){function u(m){return g.call(u.src,u.listener,m)}let g=So;return u}function jr(u,g,m,D,k){if(Array.isArray(g)){for(var j=0;j<g.length;j++)jr(u,g[j],m,D,k);return null}return m=Ur(m),u&&u[$e]?u.L(g,m,c(D)?!!D.capture:!!D,k):$(u,g,m,!0,D,k)}function gs(u,g,m,D,k){if(Array.isArray(g))for(var j=0;j<g.length;j++)gs(u,g[j],m,D,k);else D=c(D)?!!D.capture:!!D,m=Ur(m),u&&u[$e]?(u=u.i,g=String(g).toString(),g in u.g&&(j=u.g[g],m=_e(j,m,D,k),-1<m&&(Zt(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete u.g[g],u.h--)))):u&&(u=Us(u))&&(g=u.g[g.toString()],u=-1,g&&(u=_e(g,m,D,k)),(m=-1<u?g[u]:null)&&Gt(m))}function Gt(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[$e])Se(g.i,u);else{var m=u.type,D=u.proxy;g.removeEventListener?g.removeEventListener(m,D,u.capture):g.detachEvent?g.detachEvent(ms(m),D):g.addListener&&g.removeListener&&g.removeListener(D),(m=Us(g))?(Se(m,u),m.h==0&&(m.src=null,g[dt]=null)):Zt(u)}}}function ms(u){return u in vn?vn[u]:vn[u]="on"+u}function So(u,g){if(u.da)u=!0;else{g=new Ve(g,this);var m=u.listener,D=u.ha||u.src;u.fa&&Gt(u),u=m.call(D,g)}return u}function Us(u){return u=u[dt],u instanceof Te?u:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ur(u){return typeof u=="function"?u:(u[ln]||(u[ln]=function(g){return u.handleEvent(g)}),u[ln])}function Qe(){et.call(this),this.i=new Te(this),this.M=this,this.F=null}y(Qe,et),Qe.prototype[$e]=!0,Qe.prototype.removeEventListener=function(u,g,m,D){gs(this,u,g,m,D)};function Nt(u,g){var m,D=u.F;if(D)for(m=[];D;D=D.F)m.push(D);if(u=u.M,D=g.type||g,typeof g=="string")g=new ze(g,u);else if(g instanceof ze)g.target=g.target||u;else{var k=g;g=new ze(D,u),E(g,k)}if(k=!0,m)for(var j=m.length-1;0<=j;j--){var Z=g.g=m[j];k=ai(Z,D,!0,g)&&k}if(Z=g.g=u,k=ai(Z,D,!0,g)&&k,k=ai(Z,D,!1,g)&&k,m)for(j=0;j<m.length;j++)Z=g.g=m[j],k=ai(Z,D,!1,g)&&k}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var m=u.g[g],D=0;D<m.length;D++)Zt(m[D]);delete u.g[g],u.h--}}this.F=null},Qe.prototype.K=function(u,g,m,D){return this.i.add(String(u),g,!1,m,D)},Qe.prototype.L=function(u,g,m,D){return this.i.add(String(u),g,!0,m,D)};function ai(u,g,m,D){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,j=0;j<g.length;++j){var Z=g[j];if(Z&&!Z.da&&Z.capture==m){var Ot=Z.listener,ci=Z.ha||Z.src;Z.fa&&Se(u.i,Z),k=Ot.call(ci,D)!==!1&&k}}return k&&!D.defaultPrevented}function $r(u,g,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function Ia(u){u.g=$r(()=>{u.g=null,u.i&&(u.i=!1,Ia(u))},u.l);let g=u.h;u.h=null,u.m.apply(null,g)}class cn extends et{constructor(g,m){super(),this.m=g,this.l=m,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ia(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(u){et.call(this),this.h=u,this.g={}}y($s,et);var _s=[];function Ao(u){N(u.g,function(g,m){this.g.hasOwnProperty(m)&&Gt(g)},u),u.g={}}$s.prototype.N=function(){$s.aa.N.call(this),Ao(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=a.JSON.stringify,zs=a.JSON.parse,xo=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Be(){}Be.prototype.h=null;function Gs(u){return u.h||(u.h=u.i())}function ir(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){ze.call(this,"d")}y(ki,ze);function ys(){ze.call(this,"c")}y(ys,ze);var rr={},Hr=null;function Ws(){return Hr=Hr||new Qe}rr.La="serverreachability";function De(u){ze.call(this,rr.La,u)}y(De,ze);function fe(u){let g=Ws();Nt(g,new De(g))}rr.STAT_EVENT="statevent";function ht(u,g){ze.call(this,rr.STAT_EVENT,u),this.stat=g}y(ht,ze);function Y(u){let g=Ws();Nt(g,new ht(g,u))}rr.Ma="timingevent";function Ie(u,g){ze.call(this,rr.Ma,u),this.size=g}y(Ie,ze);function ce(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function we(){this.g=!0}we.prototype.xa=function(){this.g=!1};function Sn(u,g,m,D,k,j){u.info(function(){if(u.g)if(j)for(var Z="",Ot=j.split("&"),ci=0;ci<Ot.length;ci++){var bt=Ot[ci].split("=");if(1<bt.length){var wi=bt[0];bt=bt[1];var bi=wi.split("_");Z=2<=bi.length&&bi[1]=="type"?Z+(wi+"="+bt+"&"):Z+(wi+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+D+") [attempt "+k+"]: "+g+`
`+m+`
`+Z})}function nt(u,g,m,D,k,j,Z){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+k+"]: "+g+`
`+m+`
`+j+" "+Z})}function At(u,g,m,D){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Wt(u,m)+(D?" "+D:"")})}function Kn(u,g){u.info(function(){return"TIMEOUT: "+g})}we.prototype.info=function(){};function Wt(u,g){if(!u.g)return g;if(!g)return null;try{var m=JSON.parse(g);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var D=m[u];if(!(2>D.length)){var k=D[1];if(Array.isArray(k)&&!(1>k.length)){var j=k[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<k.length;Z++)k[Z]=""}}}}return Hs(m)}catch{return g}}var Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function xt(){}y(xt,Be),xt.prototype.g=function(){return new XMLHttpRequest},xt.prototype.i=function(){return{}},Fi=new xt;function un(u,g,m,D){this.j=u,this.i=g,this.l=m,this.R=D||1,this.U=new $s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wr}function wr(){this.i=null,this.g="",this.h=!1}var An={},wn={};function xn(u,g,m){u.L=1,u.v=Bm(Mo(g)),u.m=m,u.P=!0,qs(u,null)}function qs(u,g){u.F=Date.now(),qt(u),u.A=Mo(u.v);var m=u.A,D=u.R;Array.isArray(D)||(D=[String(D)]),$R(m.i,"t",D),u.C=0,m=u.j.J,u.h=new wr,u.g=oN(u.j,m?g:null,!u.m),0<u.O&&(u.M=new cn(f(u.Y,u,u.g),u.O)),g=u.U,m=u.g,D=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(_s[0]=k.toString()),k=_s);for(var j=0;j<k.length;j++){var Z=vi(m,k[j],D||g.handleEvent,!1,g.h||g);if(!Z)break;g.g[Z.key]=Z}g=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),fe(),Sn(u.i,u.u,u.A,u.l,u.R,u.m)}un.prototype.ca=function(u){u=u.target;let g=this.M;g&&Ro(u)==3?g.j():this.Y(u)},un.prototype.Y=function(u){try{if(u==this.g)e:{let bi=Ro(this.g);var g=this.g.Ba();let Ru=this.g.Z();if(!(3>bi)&&(bi!=3||this.g&&(this.h.h||this.g.oa()||QR(this.g)))){this.J||bi!=4||g==7||(g==8||0>=Ru?fe(3):fe(2)),ql(this);var m=this.g.Z();this.X=m;t:if(Wl(this)){var D=QR(this.g);u="";var k=D.length,j=Ro(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),Ta(this);var Z="";break t}this.h.i=new a.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,u+=this.h.i.decode(D[g],{stream:!(j&&g==k-1)});D.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=m==200,nt(this.i,this.u,this.A,this.l,this.R,bi,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,ci=this.g;if((Ot=ci.g?ci.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ot)){var bt=Ot;break t}}bt=null}if(m=bt)At(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sr(this,m);else{this.o=!1,this.s=3,Y(12),Er(this),Ta(this);break e}}if(this.P){m=!0;let vs;for(;!this.J&&this.C<Z.length;)if(vs=Qn(this,Z),vs==wn){bi==4&&(this.s=4,Y(14),m=!1),At(this.i,this.l,null,"[Incomplete Response]");break}else if(vs==An){this.s=4,Y(15),At(this.i,this.l,Z,"[Invalid Chunk]"),m=!1;break}else At(this.i,this.l,vs,null),sr(this,vs);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bi!=4||Z.length!=0||this.h.h||(this.s=1,Y(16),m=!1),this.o=this.o&&m,!m)At(this.i,this.l,Z,"[Invalid Chunked Response]"),Er(this),Ta(this);else if(0<Z.length&&!this.W){this.W=!0;var wi=this.j;wi.g==this&&wi.ba&&!wi.M&&(wi.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),ob(wi),wi.M=!0,Y(11))}}else At(this.i,this.l,Z,null),sr(this,Z);bi==4&&Er(this),this.o&&!this.J&&(bi==4?nN(this.j,this):(this.o=!1,qt(this)))}else E9(this.g),m==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),Er(this),Ta(this)}}}catch{}finally{}};function Wl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qn(u,g){var m=u.C,D=g.indexOf(`
`,m);return D==-1?wn:(m=Number(g.substring(m,D)),isNaN(m)?An:(D+=1,D+m>g.length?wn:(g=g.slice(D,D+m),u.C=D+m,g)))}un.prototype.cancel=function(){this.J=!0,Er(this)};function qt(u){u.S=Date.now()+u.I,br(u,u.I)}function br(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ce(f(u.ba,u),g)}function ql(u){u.B&&(a.clearTimeout(u.B),u.B=null)}un.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Kn(this.i,this.A),this.L!=2&&(fe(),Y(17)),Er(this),this.s=2,Ta(this)):br(this,this.S-u)};function Ta(u){u.j.G==0||u.J||nN(u.j,u)}function Er(u){ql(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Ao(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function sr(u,g){try{var m=u.j;if(m.G!=0&&(m.g==u||tb(m.h,u))){if(!u.K&&tb(m.h,u)&&m.G==3){try{var D=m.Da.g.parse(g)}catch{D=null}if(Array.isArray(D)&&D.length==3){var k=D;if(k[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)zm(m),$m(m);else break e;sb(m),Y(18)}}else m.za=k[1],0<m.za-m.T&&37500>k[2]&&m.F&&m.v==0&&!m.C&&(m.C=ce(f(m.Za,m),6e3));if(1>=OR(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Jl(m,11)}else if((u.K||m.g==u)&&zm(m),!M(g))for(k=m.Da.g.parse(g),g=0;g<k.length;g++){let bt=k[g];if(m.T=bt[0],bt=bt[1],m.G==2)if(bt[0]=="c"){m.K=bt[1],m.ia=bt[2];let wi=bt[3];wi!=null&&(m.la=wi,m.j.info("VER="+m.la));let bi=bt[4];bi!=null&&(m.Aa=bi,m.j.info("SVER="+m.Aa));let Ru=bt[5];Ru!=null&&typeof Ru=="number"&&0<Ru&&(D=1.5*Ru,m.L=D,m.j.info("backChannelRequestTimeoutMs_="+D)),D=m;let vs=u.g;if(vs){let Wm=vs.g?vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wm){var j=D.h;j.g||Wm.indexOf("spdy")==-1&&Wm.indexOf("quic")==-1&&Wm.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(nb(j,j.h),j.h=null))}if(D.D){let ab=vs.g?vs.g.getResponseHeader("X-HTTP-Session-Id"):null;ab&&(D.ya=ab,$t(D.I,D.D,ab))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),D=m;var Z=u;if(D.qa=sN(D,D.J?D.ia:null,D.W),Z.K){PR(D.h,Z);var Ot=Z,ci=D.L;ci&&(Ot.I=ci),Ot.B&&(ql(Ot),qt(Ot)),D.g=Z}else eN(D);0<m.i.length&&Hm(m)}else bt[0]!="stop"&&bt[0]!="close"||Jl(m,7);else m.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Jl(m,7):rb(m):bt[0]!="noop"&&m.l&&m.l.ta(bt),m.v=0)}}fe(4)}catch{}}var Kl=class{constructor(u,g){this.g=u,this.map=g}};function Ql(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function OR(u){return u.h?1:u.g?u.g.size:0}function tb(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function nb(u,g){u.g?u.g.add(g):u.h=g}function PR(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ql.prototype.cancel=function(){if(this.i=kR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function kR(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(let m of u.g.values())g=g.concat(m.D);return g}return _(u.i)}function a9(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],m=u.length,D=0;D<m;D++)g.push(u[D]);return g}g=[],m=0;for(D in u)g[m++]=u[D];return g}function l9(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var m=0;m<u;m++)g.push(m);return g}g=[],m=0;for(let D in u)g[m++]=D;return g}}}function FR(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var m=l9(u),D=a9(u),k=D.length,j=0;j<k;j++)g.call(void 0,D[j],m&&m[j],u)}var LR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c9(u,g){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var D=u[m].indexOf("="),k=null;if(0<=D){var j=u[m].substring(0,D);k=u[m].substring(D+1)}else j=u[m];g(j,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Yl(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yl){this.h=u.h,Lm(this,u.j),this.o=u.o,this.g=u.g,Vm(this,u.s),this.l=u.l;var g=u.i,m=new gf;m.i=g.i,g.g&&(m.g=new Map(g.g),m.h=g.h),VR(this,m),this.m=u.m}else u&&(g=String(u).match(LR))?(this.h=!1,Lm(this,g[1]||"",!0),this.o=ff(g[2]||""),this.g=ff(g[3]||"",!0),Vm(this,g[4]),this.l=ff(g[5]||"",!0),VR(this,g[6]||"",!0),this.m=ff(g[7]||"")):(this.h=!1,this.i=new gf(null,this.h))}Yl.prototype.toString=function(){var u=[],g=this.j;g&&u.push(pf(g,BR,!0),":");var m=this.g;return(m||g=="file")&&(u.push("//"),(g=this.o)&&u.push(pf(g,BR,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(pf(m,m.charAt(0)=="/"?h9:d9,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",pf(m,p9)),u.join("")};function Mo(u){return new Yl(u)}function Lm(u,g,m){u.j=m?ff(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Vm(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function VR(u,g,m){g instanceof gf?(u.i=g,g9(u.i,u.h)):(m||(g=pf(g,f9)),u.i=new gf(g,u.h))}function $t(u,g,m){u.i.set(g,m)}function Bm(u){return $t(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ff(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pf(u,g,m){return typeof u=="string"?(u=encodeURI(u).replace(g,u9),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function u9(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var BR=/[#\/\?@]/g,d9=/[#\?:]/g,h9=/[#\?]/g,f9=/[#\?@]/g,p9=/#/g;function gf(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Aa(u){u.g||(u.g=new Map,u.h=0,u.i&&c9(u.i,function(g,m){u.add(decodeURIComponent(g.replace(/\+/g," ")),m)}))}n=gf.prototype,n.add=function(u,g){Aa(this),this.i=null,u=xu(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(g),this.h+=1,this};function jR(u,g){Aa(u),g=xu(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function UR(u,g){return Aa(u),g=xu(u,g),u.g.has(g)}n.forEach=function(u,g){Aa(this),this.g.forEach(function(m,D){m.forEach(function(k){u.call(g,k,D,this)},this)},this)},n.na=function(){Aa(this);let u=Array.from(this.g.values()),g=Array.from(this.g.keys()),m=[];for(let D=0;D<g.length;D++){let k=u[D];for(let j=0;j<k.length;j++)m.push(g[D])}return m},n.V=function(u){Aa(this);let g=[];if(typeof u=="string")UR(this,u)&&(g=g.concat(this.g.get(xu(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)g=g.concat(u[m])}return g},n.set=function(u,g){return Aa(this),this.i=null,u=xu(this,u),UR(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function $R(u,g,m){jR(u,g),0<m.length&&(u.i=null,u.g.set(xu(u,g),_(m)),u.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],g=Array.from(this.g.keys());for(var m=0;m<g.length;m++){var D=g[m];let j=encodeURIComponent(String(D)),Z=this.V(D);for(D=0;D<Z.length;D++){var k=j;Z[D]!==""&&(k+="="+encodeURIComponent(String(Z[D]))),u.push(k)}}return this.i=u.join("&")};function xu(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function g9(u,g){g&&!u.j&&(Aa(u),u.i=null,u.g.forEach(function(m,D){var k=D.toLowerCase();D!=k&&(jR(this,D),$R(this,k,m))},u)),u.j=g}function m9(u,g){let m=new we;if(a.Image){let D=new Image;D.onload=p(xa,m,"TestLoadImage: loaded",!0,g,D),D.onerror=p(xa,m,"TestLoadImage: error",!1,g,D),D.onabort=p(xa,m,"TestLoadImage: abort",!1,g,D),D.ontimeout=p(xa,m,"TestLoadImage: timeout",!1,g,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else g(!1)}function _9(u,g){let m=new we,D=new AbortController,k=setTimeout(()=>{D.abort(),xa(m,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:D.signal}).then(j=>{clearTimeout(k),j.ok?xa(m,"TestPingServer: ok",!0,g):xa(m,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),xa(m,"TestPingServer: error",!1,g)})}function xa(u,g,m,D,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),D(m)}catch{}}function y9(){this.g=new xo}function v9(u,g,m){let D=m||"";try{FR(u,function(k,j){let Z=k;c(k)&&(Z=Hs(k)),g.push(D+j+"="+encodeURIComponent(Z))})}catch(k){throw g.push(D+"type="+encodeURIComponent("_badmap")),k}}function mf(u){this.l=u.Ub||null,this.j=u.eb||!1}y(mf,Be),mf.prototype.g=function(){return new jm(this.l,this.j)},mf.prototype.i=function(u){return function(){return u}}({});function jm(u,g){Qe.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(jm,Qe),n=jm.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,yf(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_f(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yf(this)),this.g&&(this.readyState=3,yf(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;HR(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function HR(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?_f(this):yf(this),this.readyState==3&&HR(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,_f(this))},n.Qa=function(u){this.g&&(this.response=u,_f(this))},n.ga=function(){this.g&&_f(this)};function _f(u){u.readyState=4,u.l=null,u.j=null,u.v=null,yf(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],g=this.h.entries();for(var m=g.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=g.next();return u.join(`\r
`)};function yf(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zR(u){let g="";return N(u,function(m,D){g+=D,g+=":",g+=m,g+=`\r
`}),g}function ib(u,g,m){e:{for(D in m){var D=!1;break e}D=!0}D||(m=zR(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):$t(u,g,m))}function dn(u){Qe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(dn,Qe);var w9=/^https?$/i,b9=["POST","PUT"];n=dn.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,m,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?Gs(this.o):Gs(Fi),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(j){GR(this,j);return}if(u=m||"",m=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var k in D)m.set(k,D[k]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(let j of D.keys())m.set(j,D.get(j));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),k=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(b9,g,void 0))||D||k||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[j,Z]of m)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KR(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){GR(this,j)}};function GR(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,WR(u),Um(u)}function WR(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Nt(this,"complete"),Nt(this,"abort"),Um(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Um(this,!0)),dn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qR(this):this.bb())},n.bb=function(){qR(this)};function qR(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ro(u)!=4||u.Z()!=2)){if(u.u&&Ro(u)==4)$r(u.Ea,0,u);else if(Nt(u,"readystatechange"),Ro(u)==4){u.h=!1;try{let Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var m;if(!(m=g)){var D;if(D=Z===0){var k=String(u.D).match(LR)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),D=!w9.test(k?k.toLowerCase():"")}m=D}if(m)Nt(u,"complete"),Nt(u,"success");else{u.m=6;try{var j=2<Ro(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",WR(u)}}finally{Um(u)}}}}function Um(u,g){if(u.g){KR(u);let m=u.g,D=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Nt(u,"ready");try{m.onreadystatechange=D}catch{}}}function KR(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Ro(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Ro(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),zs(g)}};function QR(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function E9(u){let g={};u=(u.g&&2<=Ro(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(M(u[D]))continue;var m=S(u[D]);let k=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let j=g[k]||[];g[k]=j,j.push(m)}C(g,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vf(u,g,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||g}function YR(u){this.Aa=0,this.i=[],this.j=new we,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vf("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vf("baseRetryDelayMs",5e3,u),this.cb=vf("retryDelaySeedMs",1e4,u),this.Wa=vf("forwardChannelMaxRetries",2,u),this.wa=vf("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ql(u&&u.concurrentRequestLimit),this.Da=new y9,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=YR.prototype,n.la=8,n.G=1,n.connect=function(u,g,m,D){Y(0),this.W=u,this.H=g||{},m&&D!==void 0&&(this.H.OSID=m,this.H.OAID=D),this.F=this.X,this.I=sN(this,null,this.W),Hm(this)};function rb(u){if(JR(u),u.G==3){var g=u.U++,m=Mo(u.I);if($t(m,"SID",u.K),$t(m,"RID",g),$t(m,"TYPE","terminate"),wf(u,m),g=new un(u,u.j,g),g.L=2,g.v=Bm(Mo(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=g.v,m=!0),m||(g.g=oN(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qt(g)}rN(u)}function $m(u){u.g&&(ob(u),u.g.cancel(),u.g=null)}function JR(u){$m(u),u.u&&(a.clearTimeout(u.u),u.u=null),zm(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Hm(u){if(!Sa(u.h)&&!u.s){u.s=!0;var g=u.Ga;ae||O(),Me||(ae(),Me=!0),mt.add(g,u),u.B=0}}function C9(u,g){return OR(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ce(f(u.Ga,u,g),iN(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let k=new un(this,this.j,u),j=this.o;if(this.S&&(j?(j=b(j),E(j,this.S)):j=this.S),this.m!==null||this.O||(k.H=j,j=null),this.P)e:{for(var g=0,m=0;m<this.i.length;m++){t:{var D=this.i[m];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(g+=D,4096<g){g=m;break e}if(g===4096||m===this.i.length-1){g=m+1;break e}}g=1e3}else g=1e3;g=XR(this,k,g),m=Mo(this.I),$t(m,"RID",u),$t(m,"CVER",22),this.D&&$t(m,"X-HTTP-Session-Id",this.D),wf(this,m),j&&(this.O?g="headers="+encodeURIComponent(String(zR(j)))+"&"+g:this.m&&ib(m,this.m,j)),nb(this.h,k),this.Ua&&$t(m,"TYPE","init"),this.P?($t(m,"$req",g),$t(m,"SID","null"),k.T=!0,xn(k,m,null)):xn(k,m,g),this.G=2}}else this.G==3&&(u?ZR(this,u):this.i.length==0||Sa(this.h)||ZR(this))};function ZR(u,g){var m;g?m=g.l:m=u.U++;let D=Mo(u.I);$t(D,"SID",u.K),$t(D,"RID",m),$t(D,"AID",u.T),wf(u,D),u.m&&u.o&&ib(D,u.m,u.o),m=new un(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),g&&(u.i=g.D.concat(u.i)),g=XR(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),nb(u.h,m),xn(m,D,g)}function wf(u,g){u.H&&N(u.H,function(m,D){$t(g,D,m)}),u.l&&FR({},function(m,D){$t(g,D,m)})}function XR(u,g,m){m=Math.min(u.i.length,m);var D=u.l?f(u.l.Na,u.l,u):null;e:{var k=u.i;let j=-1;for(;;){let Z=["count="+m];j==-1?0<m?(j=k[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let Ot=!0;for(let ci=0;ci<m;ci++){let bt=k[ci].g,wi=k[ci].map;if(bt-=j,0>bt)j=Math.max(0,k[ci].g-100),Ot=!1;else try{v9(wi,Z,"req"+bt+"_")}catch{D&&D(wi)}}if(Ot){D=Z.join("&");break e}}}return u=u.i.splice(0,m),g.D=u,D}function eN(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ae||O(),Me||(ae(),Me=!0),mt.add(g,u),u.v=0}}function sb(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ce(f(u.Fa,u),iN(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,tN(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ce(f(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),$m(this),tN(this))};function ob(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function tN(u){u.g=new un(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Mo(u.qa);$t(g,"RID","rpc"),$t(g,"SID",u.K),$t(g,"AID",u.T),$t(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&$t(g,"TO",u.ja),$t(g,"TYPE","xmlhttp"),wf(u,g),u.m&&u.o&&ib(g,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Bm(Mo(g)),m.m=null,m.P=!0,qs(m,u)}n.Za=function(){this.C!=null&&(this.C=null,$m(this),sb(this),Y(19))};function zm(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function nN(u,g){var m=null;if(u.g==g){zm(u),ob(u),u.g=null;var D=2}else if(tb(u.h,g))m=g.D,PR(u.h,g),D=1;else return;if(u.G!=0){if(g.o)if(D==1){m=g.m?g.m.length:0,g=Date.now()-g.F;var k=u.B;D=Ws(),Nt(D,new Ie(D,m)),Hm(u)}else eN(u);else if(k=g.s,k==3||k==0&&0<g.X||!(D==1&&C9(u,g)||D==2&&sb(u)))switch(m&&0<m.length&&(g=u.h,g.i=g.i.concat(m)),k){case 1:Jl(u,5);break;case 4:Jl(u,10);break;case 3:Jl(u,6);break;default:Jl(u,2)}}}function iN(u,g){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*g}function Jl(u,g){if(u.j.info("Error code "+g),g==2){var m=f(u.fb,u),D=u.Xa;let k=!D;D=new Yl(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lm(D,"https"),Bm(D),k?m9(D.toString(),m):_9(D.toString(),m)}else Y(2);u.G=0,u.l&&u.l.sa(g),rN(u),JR(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function rN(u){if(u.G=0,u.ka=[],u.l){let g=kR(u.h);(g.length!=0||u.i.length!=0)&&(w(u.ka,g),w(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function sN(u,g,m){var D=m instanceof Yl?Mo(m):new Yl(m);if(D.g!="")g&&(D.g=g+"."+D.g),Vm(D,D.s);else{var k=a.location;D=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var j=new Yl(null);D&&Lm(j,D),g&&(j.g=g),k&&Vm(j,k),m&&(j.l=m),D=j}return m=u.D,g=u.ya,m&&g&&$t(D,m,g),$t(D,"VER",u.la),wf(u,D),D}function oN(u,g,m){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new dn(new mf({eb:m})):new dn(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function aN(){}n=aN.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Gm(){}Gm.prototype.g=function(u,g){return new Cr(u,g)};function Cr(u,g){Qe.call(this),this.g=new YR(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!M(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!M(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Mu(this)}y(Cr,Qe),Cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){rb(this.g)},Cr.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Hs(u),u=m);g.i.push(new Kl(g.Ya++,u)),g.G==3&&Hm(g)},Cr.prototype.N=function(){this.g.l=null,delete this.j,rb(this.g),delete this.g,Cr.aa.N.call(this)};function lN(u){ki.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(let m in g){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}y(lN,ki);function cN(){ys.call(this),this.status=1}y(cN,ys);function Mu(u){this.g=u}y(Mu,aN),Mu.prototype.ua=function(){Nt(this.g,"a")},Mu.prototype.ta=function(u){Nt(this.g,new lN(u))},Mu.prototype.sa=function(u){Nt(this.g,new cN)},Mu.prototype.ra=function(){Nt(this.g,"b")},Gm.prototype.createWebChannel=Gm.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,RA=ga.createWebChannelTransport=function(){return new Gm},MA=ga.getStatEventTarget=function(){return Ws()},xA=ga.Event=rr,R1=ga.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Yg=ga.ErrorCode=Tt,Dt.COMPLETE="complete",AA=ga.EventType=Dt,ir.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Ih=ga.WebChannel=ir,ene=ga.FetchXmlHttpFactory=mf,dn.prototype.listenOnce=dn.prototype.L,dn.prototype.getLastError=dn.prototype.Ka,dn.prototype.getLastErrorCode=dn.prototype.Ba,dn.prototype.getStatus=dn.prototype.Z,dn.prototype.getResponseJson=dn.prototype.Oa,dn.prototype.getResponseText=dn.prototype.oa,dn.prototype.send=dn.prototype.ea,dn.prototype.setWithCredentials=dn.prototype.Ha,SA=ga.XhrIo=dn}).apply(typeof M1<"u"?M1:typeof self<"u"?self:typeof window<"u"?window:{});var Tj="@firebase/firestore";var Ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");var nf="10.14.0";var Ol=new Ra("@firebase/firestore");function Mh(){return Ol.logLevel}function x5(n){Ol.setLogLevel(n)}function q(n,...e){if(Ol.logLevel<=Gr.DEBUG){let t=e.map(FM);Ol.debug(`Firestore (${nf}): ${n}`,...t)}}function Cn(n,...e){if(Ol.logLevel<=Gr.ERROR){let t=e.map(FM);Ol.error(`Firestore (${nf}): ${n}`,...t)}}function Fs(n,...e){if(Ol.logLevel<=Gr.WARN){let t=e.map(FM);Ol.warn(`Firestore (${nf}): ${n}`,...t)}}function FM(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ie(n="Unexpected state"){let e=`FIRESTORE (${nf}) INTERNAL ASSERTION FAILED: `+n;throw Cn(e),new Error(e)}function oe(n,e){n||ie()}function M5(n,e){n||ie()}function X(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends mN{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var U1=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},LA=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ln.UNAUTHENTICATED))}shutdown(){}},VA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},BA=class{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){oe(this.o===void 0);let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>B(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(oe(typeof i.accessToken=="string"),new U1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new Ln(e)}},jA=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},UA=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new jA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}},$A=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},HA=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){oe(this.o===void 0);let i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(oe(typeof t.token=="string"),this.R=t.token,new $A(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function tne(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var $1=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=tne(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function xe(n,e){return n<e?-1:n>e?1:0}function Bh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function R5(n){return n+"\0"}var on=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var he=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new on(0,0))}static max(){return new n(new on(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var H1=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ie(),i===void 0?i=e.length-t:i>e.length-t&&ie(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},gt=class n extends H1{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},nne=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dn=class n extends H1{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return nne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ee=class n{constructor(e){this.path=e}static fromPath(e){return new n(gt.fromString(e))}static fromName(e){return new n(gt.fromString(e).popFirst(5))}static empty(){return new n(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new gt(e.slice()))}};var jh=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};function zA(n){return n.fields.find(e=>e.kind===2)}function ru(n){return n.fields.filter(e=>e.kind!==2)}jh.UNKNOWN_ID=-1;var Fh=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var lm=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,fs.min())}};function N5(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=he.fromTimestamp(i===1e9?new on(t+1,0):new on(t,i));return new fs(r,ee.empty(),e)}function O5(n){return new fs(n.readTime,n.key,-1)}var fs=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(he.min(),ee.empty(),-1)}static max(){return new n(he.max(),ee.empty(),-1)}};function LM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ee.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}var P5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",z1=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Hl(n){return B(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==P5)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};var G1=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Wn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new uu(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=VM(i.target.error);this.V.reject(new uu(e,r))}}static open(e,t,i,r){try{return new n(t,e.transaction(r,i))}catch(s){throw new uu(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new WA(t)}},Pl=class n{constructor(e,t,i){this.name=e,this.version=t,this.p=i,n.S(bf())===12.2&&Cn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return q("SimpleDb","Removing database:",e),su(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ym())return!1;if(n.v())return!0;let e=bf(),t=n.S(e),i=0<t&&t<10,r=k5(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return B(this,null,function*(){return this.db||(q("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;t(o)},r.onblocked=()=>{i(new uu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new G(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new G(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new uu(e,o))},r.onupgradeneeded=s=>{q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,r.transaction,s.oldVersion,this.version).next(()=>{q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){return B(this,null,function*(){let s=t==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=G1.open(this.db,e,s?"readonly":"readwrite",i),l=r(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),V.reject(c))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,c=l.name!=="FirebaseError"&&o<3;if(q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function k5(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var GA=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return su(this.B.delete())}},uu=class extends G{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function zl(n){return n.name==="IndexedDbTransactionError"}var WA=class{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(q("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),su(i)}add(e){return q("SimpleDb","ADD",this.store.name,e,e),su(this.store.add(e))}get(e){return su(this.store.get(e)).next(t=>(t===void 0&&(t=null),q("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return q("SimpleDb","DELETE",this.store.name,e),su(this.store.delete(e))}count(){return q("SimpleDb","COUNT",this.store.name),su(this.store.count())}U(e,t){let i=this.options(e,t),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new V((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{let s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,t){let i=this.store.getAll(e,t===null?void 0:t);return new V((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(e,t){q("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,t);i.H=!1;let r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(e,t){let i;t?i=e:(i={},t=e);let r=this.cursor(i);return this.W(r,t)}Y(e){let t=this.cursor({});return new V((i,r)=>{t.onerror=s=>{let o=VM(s.target.error);r(o)},t.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(e,t){let i=[];return new V((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let l=new GA(a),c=t(a.primaryKey,a.value,l);if(c instanceof V){let d=c.catch(h=>(l.done(),V.reject(h)));i.push(d)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>V.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function su(n){return new V((e,t)=>{n.onsuccess=i=>{let r=i.target.result;e(r)},n.onerror=i=>{let r=VM(i.target.error);t(r)}})}var Sj=!1;function VM(n){let e=Pl.S(bf());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let i=new G("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Sj||(Sj=!0,setTimeout(()=>{throw i},0)),i}}return n}var qA=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){q("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>B(this,null,function*(){this.task=null;try{q("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){zl(t)?q("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield Hl(t)}yield this.X(6e4)}))}},KA=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return B(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let i=new Set,r=t,s=!0;return V.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!i.has(o))return q("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>t-r)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(r,s)).next(a=>(q("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let i=e;return t.changes.forEach((r,s)=>{let o=O5(s);LM(o,i)>0&&(i=o)}),new fs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Vr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function xm(n){return n==null}function cm(n){return n===0&&1/n==-1/0}function F5(n){return typeof n=="number"&&Number.isInteger(n)&&!cm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function er(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Aj(e)),e=ine(n.get(t),e);return Aj(e)}function ine(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let s=n.charAt(r);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function Aj(n){return n+""}function _o(n){let e=n.length;if(oe(e>=2),e===2)return oe(n.charAt(0)===""&&n.charAt(1)===""),gt.emptyPath();let t=e-2,i=[],r="";for(let s=0;s<e;){let o=n.indexOf("",s);switch((o<0||o>t)&&ie(),n.charAt(o+1)){case"":let a=n.substring(s,o),l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=n.substring(s,o),r+="\0";break;case"":r+=n.substring(s,o+1);break;default:ie()}s=o+2}return new gt(i)}var xj=["userId","batchId"];function F1(n,e){return[n,er(e)]}function L5(n,e,t){return[n,er(e),t]}var rne={},sne=["prefixPath","collectionGroup","readTime","documentId"],one=["prefixPath","collectionGroup","documentId"],ane=["collectionGroup","readTime","prefixPath","documentId"],lne=["canonicalId","targetId"],cne=["targetId","path"],une=["path","targetId"],dne=["collectionId","parent"],hne=["indexId","uid"],fne=["uid","sequenceNumber"],pne=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gne=["indexId","uid","orderedDocumentKey"],mne=["userId","collectionPath","documentId"],_ne=["userId","collectionPath","largestBatchId"],yne=["userId","collectionGroup","largestBatchId"],V5=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vne=[...V5,"documentOverlays"],B5=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],j5=B5,BM=[...j5,"indexConfiguration","indexState","indexEntries"],wne=BM,bne=[...BM,"globals"];var um=class extends z1{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function qn(n,e){let t=X(n);return Pl.F(t._e,e)}function Mj(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Eu(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function U5(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var zt=class n{constructor(e,t){this.comparator=e,this.root=t||vo.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vo.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}},kh=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vo=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();let e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}};vo.EMPTY=null,vo.RED=!0,vo.BLACK=!1;vo.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,t,i,r,s){return this}insert(e,t,i){return new vo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Lt=class n{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W1(this.data.getIterator())}getIteratorFrom(e){return new W1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},W1=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Th(n){return n.hasNext()?n.getNext():void 0}var Br=class n{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Lt(Dn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bh(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var q1=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function $5(){return typeof atob<"u"}var Tn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new q1("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tn.EMPTY_BYTE_STRING=new Tn("");var Ene=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(n){if(oe(!!n),typeof n=="string"){let e=0,t=Ene.exec(n);if(oe(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Jt(n.seconds),nanos:Jt(n.nanos)}}function Jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function kl(n){return typeof n=="string"?Tn.fromBase64String(n):Tn.fromUint8Array(n)}function Vw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function jM(n){let e=n.mapValue.fields.__previous_value__;return Vw(e)?jM(e):e}function dm(n){let e=ya(n.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}var QA=class{constructor(e,t,i,r,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},Fl=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Rl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},L1={nullValue:"NULL_VALUE"};function du(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vw(n)?4:H5(n)?9007199254740991:Bw(n)?10:11:ie()}function Eo(n,e){if(n===e)return!0;let t=du(n);if(t!==du(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dm(n).isEqual(dm(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=ya(r.timestampValue),a=ya(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return kl(r.bytesValue).isEqual(kl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Jt(r.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(r.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Jt(r.integerValue)===Jt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Jt(r.doubleValue),a=Jt(s.doubleValue);return o===a?cm(o)===cm(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Bh(n.arrayValue.values||[],e.arrayValue.values||[],Eo);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Mj(o)!==Mj(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Eo(o[l],a[l])))return!1;return!0}(n,e);default:return ie()}}function hm(n,e){return(n.values||[]).find(t=>Eo(t,e))!==void 0}function Ll(n,e){if(n===e)return 0;let t=du(n),i=du(e);if(t!==i)return xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Jt(s.integerValue||s.doubleValue),l=Jt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Rj(n.timestampValue,e.timestampValue);case 4:return Rj(dm(n),dm(e));case 5:return xe(n.stringValue,e.stringValue);case 6:return function(s,o){let a=kl(s),l=kl(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=xe(a[c],l[c]);if(d!==0)return d}return xe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=xe(Jt(s.latitude),Jt(o.latitude));return a!==0?a:xe(Jt(s.longitude),Jt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Nj(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;let h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=xe(((c=p?.values)===null||c===void 0?void 0:c.length)||0,((d=y?.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:Nj(p,y)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Rl.mapValue&&o===Rl.mapValue)return 0;if(s===Rl.mapValue)return 1;if(o===Rl.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){let f=xe(l[h],d[h]);if(f!==0)return f;let p=Ll(a[l[h]],c[d[h]]);if(p!==0)return p}return xe(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ie()}}function Rj(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);let t=ya(n),i=ya(e),r=xe(t.seconds,i.seconds);return r!==0?r:xe(t.nanos,i.nanos)}function Nj(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=Ll(t[r],i[r]);if(s)return s}return xe(t.length,i.length)}function Uh(n){return YA(n)}function YA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=ya(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return kl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=YA(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${YA(t.fields[o])}`;return r+"}"}(n.mapValue):ie()}function hu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function JA(n){return!!n&&"integerValue"in n}function fm(n){return!!n&&"arrayValue"in n}function Oj(n){return!!n&&"nullValue"in n}function Pj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function V1(n){return!!n&&"mapValue"in n}function Bw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function im(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Eu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=im(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=im(n.arrayValue.values[t]);return e}return Object.assign({},n)}function H5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var z5={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Cne(n){return"nullValue"in n?L1:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hu(Fl.empty(),ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Bw(n)?z5:{mapValue:{}}:ie()}function Dne(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hu(Fl.empty(),ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?z5:"mapValue"in n?Bw(n)?{mapValue:{}}:Rl:ie()}function kj(n,e){let t=Ll(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Fj(n,e){let t=Ll(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Oi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!V1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=im(t)}setAll(e){let t=Dn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=im(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());V1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];V1(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Eu(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(im(this.value))}};function G5(n){let e=[];return Eu(n.fields,(t,i)=>{let r=new Dn([t]);if(V1(i)){let s=G5(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Br(e)}var Vn=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,he.min(),he.min(),he.min(),Oi.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,he.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,he.min(),he.min(),Oi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,he.min(),he.min(),Oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Co=class{constructor(e,t){this.position=e,this.inclusive=t}};function Lj(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=ee.comparator(ee.fromName(o.referenceValue),t.key):i=Ll(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Vj(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Eo(n.position[t],e.position[t]))return!1;return!0}var fu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Ine(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var K1=class{},st=class n extends K1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ex(e,t,i):t==="array-contains"?new ix(e,i):t==="in"?new Q1(e,i):t==="not-in"?new rx(e,i):t==="array-contains-any"?new sx(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new tx(e,i):new nx(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ll(t,this.value)):t!==null&&du(this.value)===du(t)&&this.matchesComparison(Ll(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},St=class n extends K1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return $h(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function $h(n){return n.op==="and"}function ZA(n){return n.op==="or"}function UM(n){return W5(n)&&$h(n)}function W5(n){for(let e of n.filters)if(e instanceof St)return!1;return!0}function XA(n){if(n instanceof st)return n.field.canonicalString()+n.op.toString()+Uh(n.value);if(UM(n))return n.filters.map(e=>XA(e)).join(",");{let e=n.filters.map(t=>XA(t)).join(",");return`${n.op}(${e})`}}function q5(n,e){return n instanceof st?function(i,r){return r instanceof st&&i.op===r.op&&i.field.isEqual(r.field)&&Eo(i.value,r.value)}(n,e):n instanceof St?function(i,r){return r instanceof St&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&q5(o,r.filters[a]),!0):!1}(n,e):void ie()}function K5(n,e){let t=n.filters.concat(e);return St.create(t,n.op)}function Q5(n){return n instanceof st?function(t){return`${t.field.canonicalString()} ${t.op} ${Uh(t.value)}`}(n):n instanceof St?function(t){return t.op.toString()+" {"+t.getFilters().map(Q5).join(" ,")+"}"}(n):"Filter"}var ex=class extends st{constructor(e,t,i){super(e,t,i),this.key=ee.fromName(i.referenceValue)}matches(e){let t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}},tx=class extends st{constructor(e,t){super(e,"in",t),this.keys=Y5("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},nx=class extends st{constructor(e,t){super(e,"not-in",t),this.keys=Y5("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Y5(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ee.fromName(i.referenceValue))}var ix=class extends st{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return fm(t)&&hm(t.arrayValue,this.value)}},Q1=class extends st{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&hm(this.value.arrayValue,t)}},rx=class extends st{constructor(e,t){super(e,"not-in",t)}matches(e){if(hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!hm(this.value.arrayValue,t)}},sx=class extends st{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!fm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>hm(this.value.arrayValue,i))}};var ox=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function ax(n,e=null,t=[],i=[],r=null,s=null,o=null){return new ox(n,e,t,i,r,s,o)}function pu(n){let e=X(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>XA(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),xm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Uh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Uh(i)).join(",")),e.ue=t}return e.ue}function Mm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ine(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!q5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vj(n.startAt,e.startAt)&&Vj(n.endAt,e.endAt)}function Y1(n){return ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function J1(n,e){return n.filters.filter(t=>t instanceof st&&t.field.isEqual(e))}function Bj(n,e,t){let i=L1,r=!0;for(let s of J1(n,e)){let o=L1,a=!0;switch(s.op){case"<":case"<=":o=Cne(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=L1}kj({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];kj({value:i,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(i=o,r=t.inclusive);break}}return{value:i,inclusive:r}}function jj(n,e,t){let i=Rl,r=!0;for(let s of J1(n,e)){let o=Rl,a=!0;switch(s.op){case">=":case">":o=Dne(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Rl}Fj({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];Fj({value:i,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(i=o,r=t.inclusive);break}}return{value:i,inclusive:r}}var Ls=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function J5(n,e,t,i,r,s,o,a){return new Ls(n,e,t,i,r,s,o,a)}function rf(n){return new Ls(n)}function Uj(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $M(n){return n.collectionGroup!==null}function Lh(n){let e=X(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Dn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new fu(s,i))}),t.has(Dn.keyField().canonicalString())||e.ce.push(new fu(Dn.keyField(),i))}return e.ce}function tr(n){let e=X(n);return e.le||(e.le=Tne(e,Lh(n))),e.le}function Tne(n,e){if(n.limitType==="F")return ax(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new fu(r.field,s)});let t=n.endAt?new Co(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Co(n.startAt.position,n.startAt.inclusive):null;return ax(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function lx(n,e){let t=n.filters.concat([e]);return new Ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Z1(n,e,t){return new Ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rm(n,e){return Mm(tr(n),tr(e))&&n.limitType===e.limitType}function Z5(n){return`${pu(tr(n))}|lt:${n.limitType}`}function Rh(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>Q5(r)).join(", ")}]`),xm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Uh(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Uh(r)).join(",")),`Target(${i})`}(tr(n))}; limitType=${n.limitType})`}function Nm(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ee.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of Lh(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=Lj(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Lh(i),r)||i.endAt&&!function(o,a,l){let c=Lj(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Lh(i),r))}(n,e)}function X5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eU(n){return(e,t)=>{let i=!1;for(let r of Lh(n)){let s=Sne(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Sne(n,e,t){let i=n.field.isKeyField()?ee.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ll(l,c):ie()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ie()}}var Do=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Eu(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return U5(this.inner)}size(){return this.innerSize}};var Ane=new zt(ee.comparator);function vr(){return Ane}var tU=new zt(ee.comparator);function tm(...n){let e=tU;for(let t of n)e=e.insert(t.key,t);return e}function nU(n){let e=tU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function yo(){return rm()}function iU(){return rm()}function rm(){return new Do(n=>n.toString(),(n,e)=>n.isEqual(e))}var xne=new zt(ee.comparator),Mne=new Lt(ee.comparator);function Le(...n){let e=Mne;for(let t of n)e=e.add(t);return e}var Rne=new Lt(xe);function HM(){return Rne}function zM(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cm(e)?"-0":e}}function rU(n){return{integerValue:""+n}}function sU(n,e){return F5(e)?rU(e):zM(n,e)}var Hh=class{constructor(){this._=void 0}};function Nne(n,e,t){return n instanceof Vl?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Vw(s)&&(s=jM(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof va?aU(n,e):n instanceof wa?lU(n,e):function(r,s){let o=oU(r,s),a=$j(o)+$j(r.Pe);return JA(o)&&JA(r.Pe)?rU(a):zM(r.serializer,a)}(n,e)}function One(n,e,t){return n instanceof va?aU(n,e):n instanceof wa?lU(n,e):t}function oU(n,e){return n instanceof Bl?function(i){return JA(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Vl=class extends Hh{},va=class extends Hh{constructor(e){super(),this.elements=e}};function aU(n,e){let t=cU(e);for(let i of n.elements)t.some(r=>Eo(r,i))||t.push(i);return{arrayValue:{values:t}}}var wa=class extends Hh{constructor(e){super(),this.elements=e}};function lU(n,e){let t=cU(e);for(let i of n.elements)t=t.filter(r=>!Eo(r,i));return{arrayValue:{values:t}}}var Bl=class extends Hh{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function $j(n){return Jt(n.integerValue||n.doubleValue)}function cU(n){return fm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var gu=class{constructor(e,t){this.field=e,this.transform=t}};function Pne(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof va&&r instanceof va||i instanceof wa&&r instanceof wa?Bh(i.elements,r.elements,Eo):i instanceof Bl&&r instanceof Bl?Eo(i.Pe,r.Pe):i instanceof Vl&&r instanceof Vl}(n.transform,e.transform)}var cx=class{constructor(e,t){this.version=e,this.transformResults=t}},yn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function B1(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var zh=class{};function uU(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ul(n.key,yn.none()):new jl(n.key,n.data,yn.none());{let t=n.data,i=Oi.empty(),r=new Lt(Dn.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Vs(n.key,i,new Br(r.toArray()),yn.none())}}function kne(n,e,t){n instanceof jl?function(r,s,o){let a=r.value.clone(),l=zj(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Vs?function(r,s,o){if(!B1(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=zj(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(dU(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function sm(n,e,t,i){return n instanceof jl?function(s,o,a,l){if(!B1(s.precondition,o))return a;let c=s.value.clone(),d=Gj(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Vs?function(s,o,a,l){if(!B1(s.precondition,o))return a;let c=Gj(s.fieldTransforms,l,o),d=o.data;return d.setAll(dU(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,a){return B1(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Fne(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=oU(i.transform,r||null);s!=null&&(t===null&&(t=Oi.empty()),t.set(i.field,s))}return t||null}function Hj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Bh(i,r,(s,o)=>Pne(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var jl=class extends zh{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Vs=class extends zh{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function dU(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function zj(n,e,t){let i=new Map;oe(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,One(o,a,t[r]))}return i}function Gj(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,Nne(s,o,e))}return i}var Ul=class extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},pm=class extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var gm=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&kne(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=sm(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=sm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=iU();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=uU(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Bh(this.mutations,e.mutations,(t,i)=>Hj(t,i))&&Bh(this.baseMutations,e.baseMutations,(t,i)=>Hj(t,i))}},ux=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){oe(e.mutations.length===i.length);let r=function(){return xne}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var mm=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dx=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var kn,pt;function hU(n){switch(n){default:return ie();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function fU(n){if(n===void 0)return Cn("GRPC error has no .code"),U.UNKNOWN;switch(n){case kn.OK:return U.OK;case kn.CANCELLED:return U.CANCELLED;case kn.UNKNOWN:return U.UNKNOWN;case kn.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case kn.INTERNAL:return U.INTERNAL;case kn.UNAVAILABLE:return U.UNAVAILABLE;case kn.UNAUTHENTICATED:return U.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case kn.NOT_FOUND:return U.NOT_FOUND;case kn.ALREADY_EXISTS:return U.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return U.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case kn.ABORTED:return U.ABORTED;case kn.OUT_OF_RANGE:return U.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return U.UNIMPLEMENTED;case kn.DATA_LOSS:return U.DATA_LOSS;default:return ie()}}(pt=kn||(kn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";var Wj=null;function pU(){return new TextEncoder}var Lne=new Tl([4294967295,4294967295],0);function qj(n){let e=pU().encode(n),t=new TA;return t.update(e),new Uint8Array(t.digest())}function Kj(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Tl([t,i],0),new Tl([r,s],0)]}var hx=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new cu(`Invalid padding: ${t}`);if(i<0)throw new cu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new cu(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Tl.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Tl.fromNumber(i)));return r.compare(Lne)===1&&(r=new Tl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=qj(e),[i,r]=Kj(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=qj(e),[i,r]=Kj(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},cu=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _m=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,ym.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(he.min(),r,new zt(xe),vr(),Le())}},ym=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Le(),Le(),Le())}};var Vh=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},X1=class{constructor(e,t){this.targetId=e,this.me=t}},ew=class{constructor(e,t,i=Tn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},tw=class{constructor(){this.fe=0,this.ge=Yj(),this.pe=Tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),i=Le();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ie()}}),new ym(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Yj()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},fx=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=vr(),this.qe=Qj(),this.Qe=new zt(xe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(Y1(s))if(i===0){let o=new ee(s.path);this.Ue(t,o,Vn.newNoDocument(o,he.min()))}else oe(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}Wj?.et(function(d,h,f,p,y){var _,w,A,M,x,R;let P={localCacheCount:d,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},N=h.unchangedNames;return N&&(P.bloomFilter={applied:y===0,hashCount:(_=N?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(M=(A=(w=N?.bits)===null||w===void 0?void 0:w.bitmap)===null||A===void 0?void 0:A.length)!==null&&M!==void 0?M:0,padding:(R=(x=N?.bits)===null||x===void 0?void 0:x.padding)!==null&&R!==void 0?R:0,mightContain:C=>{var b;return(b=p?.mightContain(C))!==null&&b!==void 0&&b}}),P}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=kl(i).toUint8Array()}catch(l){if(l instanceof q1)return Fs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new hx(o,r,s)}catch(l){return Fs(l instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Y1(a.target)){let l=new ee(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Vn.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=Le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new _m(e,t,this.Qe,this.ke,i);return this.ke=vr(),this.qe=Qj(),this.Qe=new zt(xe),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new tw,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Lt(xe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tw),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Qj(){return new zt(ee.comparator)}function Yj(){return new zt(ee.comparator)}var Vne={asc:"ASCENDING",desc:"DESCENDING"},Bne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jne={and:"AND",or:"OR"},px=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function gx(n,e){return n.useProto3Json||xm(e)?e:{value:e}}function Gh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Une(n,e){return Gh(n,e.toTimestamp())}function In(n){return oe(!!n),he.fromTimestamp(function(t){let i=ya(t);return new on(i.seconds,i.nanos)}(n))}function GM(n,e){return mx(n,e).canonicalString()}function mx(n,e){let t=function(r){return new gt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mU(n){let e=gt.fromString(n);return oe(TU(e)),e}function vm(n,e){return GM(n.databaseId,e.path)}function wo(n,e){let t=mU(e);if(t.get(1)!==n.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ee(vU(t))}function _U(n,e){return GM(n.databaseId,e)}function yU(n){let e=mU(n);return e.length===4?gt.emptyPath():vU(e)}function _x(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vU(n){return oe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Jj(n,e,t){return{name:vm(n,e),fields:t.value.mapValue.fields}}function wU(n,e,t){let i=wo(n,e.name),r=In(e.updateTime),s=e.createTime?In(e.createTime):he.min(),o=new Oi({mapValue:{fields:e.fields}}),a=Vn.newFoundDocument(i,r,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function $ne(n,e){return"found"in e?function(i,r){oe(!!r.found),r.found.name,r.found.updateTime;let s=wo(i,r.found.name),o=In(r.found.updateTime),a=r.found.createTime?In(r.found.createTime):he.min(),l=new Oi({mapValue:{fields:r.found.fields}});return Vn.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(i,r){oe(!!r.missing),oe(!!r.readTime);let s=wo(i,r.missing),o=In(r.readTime);return Vn.newNoDocument(s,o)}(n,e):ie()}function Hne(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(oe(d===void 0||typeof d=="string"),Tn.fromBase64String(d||"")):(oe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Tn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?U.UNKNOWN:fU(c.code);return new G(d,c.message||"")}(o);t=new ew(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=wo(n,i.document.name),s=In(i.document.updateTime),o=i.document.createTime?In(i.document.createTime):he.min(),a=new Oi({mapValue:{fields:i.document.fields}}),l=Vn.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];t=new Vh(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=wo(n,i.document),s=i.readTime?In(i.readTime):he.min(),o=Vn.newNoDocument(r,s),a=i.removedTargetIds||[];t=new Vh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=wo(n,i.document),s=i.removedTargetIds||[];t=new Vh([],s,r,null)}else{if(!("filter"in e))return ie();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new dx(r,s),a=i.targetId;t=new X1(a,o)}}return t}function wm(n,e){let t;if(e instanceof jl)t={update:Jj(n,e.key,e.value)};else if(e instanceof Ul)t={delete:vm(n,e.key)};else if(e instanceof Vs)t={update:Jj(n,e.key,e.data),updateMask:Qne(e.fieldMask)};else{if(!(e instanceof pm))return ie();t={verify:vm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof va)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ie()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Une(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(n,e.precondition)),t}function yx(n,e){let t=e.currentDocument?function(s){return s.updateTime!==void 0?yn.updateTime(In(s.updateTime)):s.exists!==void 0?yn.exists(s.exists):yn.none()}(e.currentDocument):yn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,a){let l=null;if("setToServerValue"in a)oe(a.setToServerValue==="REQUEST_TIME"),l=new Vl;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new va(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new wa(d)}else"increment"in a?l=new Bl(o,a.increment):ie();let c=Dn.fromServerFormat(a.fieldPath);return new gu(c,l)}(n,r)):[];if(e.update){e.update.name;let r=wo(n,e.update.name),s=new Oi({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(l){let c=l.fieldPaths||[];return new Br(c.map(d=>Dn.fromServerFormat(d)))}(e.updateMask);return new Vs(r,s,o,t,i)}return new jl(r,s,t,i)}if(e.delete){let r=wo(n,e.delete);return new Ul(r,t)}if(e.verify){let r=wo(n,e.verify);return new pm(r,t)}return ie()}function zne(n,e){return n&&n.length>0?(oe(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?In(r.updateTime):In(s);return o.isEqual(he.min())&&(o=In(s)),new cx(o,r.transformResults||[])}(t,e))):[]}function bU(n,e){return{documents:[_U(n,e.path)]}}function EU(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_U(n,r);let s=function(c){if(c.length!==0)return IU(St.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Nh(f.field),direction:Wne(f.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=gx(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:r}}function CU(n){let e=yU(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){oe(i===1);let d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(h){let f=DU(h);return f instanceof St&&UM(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(y){return new fu(Oh(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,xm(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){let f=!!h.before,p=h.values||[];return new Co(p,f)}(t.startAt));let c=null;return t.endAt&&(c=function(h){let f=!h.before,p=h.values||[];return new Co(p,f)}(t.endAt)),J5(e,r,o,s,a,"F",l,c)}function Gne(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DU(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Oh(t.unaryFilter.field);return st.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Oh(t.unaryFilter.field);return st.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Oh(t.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Oh(t.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(n):n.fieldFilter!==void 0?function(t){return st.create(Oh(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return St.create(t.compositeFilter.filters.map(i=>DU(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ie()}}(t.compositeFilter.op))}(n):ie()}function Wne(n){return Vne[n]}function qne(n){return Bne[n]}function Kne(n){return jne[n]}function Nh(n){return{fieldPath:n.canonicalString()}}function Oh(n){return Dn.fromServerFormat(n.fieldPath)}function IU(n){return n instanceof st?function(t){if(t.op==="=="){if(Pj(t.value))return{unaryFilter:{field:Nh(t.field),op:"IS_NAN"}};if(Oj(t.value))return{unaryFilter:{field:Nh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Pj(t.value))return{unaryFilter:{field:Nh(t.field),op:"IS_NOT_NAN"}};if(Oj(t.value))return{unaryFilter:{field:Nh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nh(t.field),op:qne(t.op),value:t.value}}}(n):n instanceof St?function(t){let i=t.getFilters().map(r=>IU(r));return i.length===1?i[0]:{compositeFilter:{op:Kne(t.op),filters:i}}}(n):ie()}function Qne(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TU(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Wh=class n{constructor(e,t,i,r,s=he.min(),o=he.min(),a=Tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var nw=class{constructor(e){this.ct=e}};function Yne(n,e){let t;if(e.document)t=wU(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=ee.fromSegments(e.noDocument.path),r=_u(e.noDocument.readTime);t=Vn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ie();{let i=ee.fromSegments(e.unknownDocument.path),r=_u(e.unknownDocument.version);t=Vn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){let s=new on(r[0],r[1]);return he.fromTimestamp(s)}(e.readTime)),t}function Zj(n,e){let t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:iw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(s,o){return{name:vm(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Gh(s,o.version.toTimestamp()),createTime:Gh(s,o.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:mu(e.version)};else{if(!e.isUnknownDocument())return ie();i.unknownDocument={path:t.path.toArray(),version:mu(e.version)}}return i}function iw(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function mu(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _u(n){let e=new on(n.seconds,n.nanoseconds);return he.fromTimestamp(e)}function ou(n,e){let t=(e.baseMutations||[]).map(s=>yx(n.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let i=e.mutations.map(s=>yx(n.ct,s)),r=on.fromMillis(e.localWriteTimeMs);return new gm(e.batchId,r,t,i)}function nm(n){let e=_u(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?_u(n.lastLimboFreeSnapshotVersion):he.min(),i;return i=function(s){return s.documents!==void 0}(n.query)?function(s){return oe(s.documents.length===1),tr(rf(yU(s.documents[0])))}(n.query):function(s){return tr(CU(s))}(n.query),new Wh(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Tn.fromBase64String(n.resumeToken))}function SU(n,e){let t=mu(e.snapshotVersion),i=mu(e.lastLimboFreeSnapshotVersion),r;r=Y1(e.target)?bU(n.ct,e.target):EU(n.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pu(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function WM(n){let e=CU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Z1(e,e.limit,"L"):e}function NA(n,e){return new mm(e.largestBatchId,yx(n.ct,e.overlayMutation))}function Xj(n,e){let t=e.path.lastSegment();return[n,er(e.path.popLast()),t]}function e5(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:mu(i.readTime),documentKey:er(i.documentKey.path),largestBatchId:i.largestBatchId}}var vx=class{getBundleMetadata(e,t){return t5(e).get(t).next(i=>{if(i)return function(s){return{id:s.bundleId,createTime:_u(s.createTime),version:s.version}}(i)})}saveBundleMetadata(e,t){return t5(e).put(function(r){return{bundleId:r.id,createTime:mu(In(r.createTime)),version:r.version}}(t))}getNamedQuery(e,t){return n5(e).get(t).next(i=>{if(i)return function(s){return{name:s.name,query:WM(s.bundledQuery),readTime:_u(s.readTime)}}(i)})}saveNamedQuery(e,t){return n5(e).put(function(r){return{name:r.name,readTime:mu(In(r.readTime)),bundledQuery:r.bundledQuery}}(t))}};function t5(n){return qn(n,"bundles")}function n5(n){return qn(n,"namedQueries")}var rw=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let i=t.uid||"";return new n(e,i)}getOverlay(e,t){return Jg(e).get(Xj(this.userId,t)).next(i=>i?NA(this.serializer,i):null)}getOverlays(e,t){let i=yo();return V.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){let r=[];return i.forEach((s,o)=>{let a=new mm(t,o);r.push(this.ht(e,a))}),V.waitFor(r)}removeOverlaysForBatchId(e,t,i){let r=new Set;t.forEach(o=>r.add(er(o.getCollectionPath())));let s=[];return r.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Jg(e).j("collectionPathOverlayIndex",a))}),V.waitFor(s)}getOverlaysForCollection(e,t,i){let r=yo(),s=er(t),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Jg(e).U("collectionPathOverlayIndex",o).next(a=>{for(let l of a){let c=NA(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,t,i,r){let s=yo(),o,a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jg(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{let h=NA(this.serializer,c);s.size()<r||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,t){return Jg(e).put(function(r,s,o){let[a,l,c]=Xj(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:wm(r.ct,o.mutation)}}(this.serializer,this.userId,t))}};function Jg(n){return qn(n,"documentOverlays")}var wx=class{Pt(e){return qn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let i=t?.value;return i?Tn.fromUint8Array(i):Tn.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var ma=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Jt(e.integerValue));else if("doubleValue"in e){let i=Jt(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),cm(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=ya(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(kl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?H5(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Bw(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ie()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(Jt(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),ee.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};ma.vt=new ma;function Jne(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function i5(n){let e=64-function(i){let r=0;for(let s=0;s<8;++s){let o=Jne(255&i[s]);if(r+=o,o!==8)break}return r}(n);return Math.ceil(e/8)}var bx=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ot(i.value),i=t.next();this.Nt()}Lt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{let r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{let r=t.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(e){let t=this.qt(e),i=i5(t);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Kt(e){let t=this.qt(e),i=i5(t);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),i=(128&t[0])!=0;t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},Ex=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},Cx=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},au=class{constructor(){this.jt=new bx,this.Ht=new Ex(this.jt),this.Jt=new Cx(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var lu=class n{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new n(this.indexId,this.documentKey,this.arrayValue,i)}};function Sl(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=r5(n.arrayValue,e.arrayValue),t!==0?t:(t=r5(n.directionalValue,e.directionalValue),t!==0?t:ee.comparator(n.documentKey,e.documentKey)))}function r5(n,e){for(let t=0;t<n.length&&t<e.length;++t){let i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}var sw=class{constructor(e){this.Xt=new Lt((t,i)=>Dn.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let i=t;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(oe(e.collectionGroup===this.collectionId),this.nn)return!1;let t=zA(e);if(t!==void 0&&!this.sn(t))return!1;let i=ru(e),r=new Set,s=0,o=0;for(;s<i.length&&this.sn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=i[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<i.length;++s){let a=i[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Lt(Dn.comparator),t=[];for(let i of this.tn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new Fh(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Fh(i.field,0))}for(let i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Fh(i.field,i.dir==="asc"?0:1)));return new jh(jh.UNKNOWN_ID,this.collectionId,t,lm.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function AU(n){var e,t;if(oe(n instanceof st||n instanceof St),n instanceof st){if(n instanceof Q1){let r=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>st.create(n.field,"==",s)))||[];return St.create(r,"or")}return n}let i=n.filters.map(r=>AU(r));return St.create(i,n.op)}function Zne(n){if(n.getFilters().length===0)return[];let e=Tx(AU(n));return oe(xU(e)),Dx(e)||Ix(e)?[e]:e.getFilters()}function Dx(n){return n instanceof st}function Ix(n){return n instanceof St&&UM(n)}function xU(n){return Dx(n)||Ix(n)||function(t){if(t instanceof St&&ZA(t)){for(let i of t.getFilters())if(!Dx(i)&&!Ix(i))return!1;return!0}return!1}(n)}function Tx(n){if(oe(n instanceof st||n instanceof St),n instanceof st)return n;if(n.filters.length===1)return Tx(n.filters[0]);let e=n.filters.map(i=>Tx(i)),t=St.create(e,n.op);return t=ow(t),xU(t)?t:(oe(t instanceof St),oe($h(t)),oe(t.filters.length>1),t.filters.reduce((i,r)=>qM(i,r)))}function qM(n,e){let t;return oe(n instanceof st||n instanceof St),oe(e instanceof st||e instanceof St),t=n instanceof st?e instanceof st?function(r,s){return St.create([r,s],"and")}(n,e):s5(n,e):e instanceof st?s5(e,n):function(r,s){if(oe(r.filters.length>0&&s.filters.length>0),$h(r)&&$h(s))return K5(r,s.getFilters());let o=ZA(r)?r:s,a=ZA(r)?s:r,l=o.filters.map(c=>qM(c,a));return St.create(l,"or")}(n,e),ow(t)}function s5(n,e){if($h(e))return K5(e,n.getFilters());{let t=e.filters.map(i=>qM(n,i));return St.create(t,"or")}}function ow(n){if(oe(n instanceof st||n instanceof St),n instanceof st)return n;let e=n.getFilters();if(e.length===1)return ow(e[0]);if(W5(n))return n;let t=e.map(r=>ow(r)),i=[];return t.forEach(r=>{r instanceof st?i.push(r):r instanceof St&&(r.op===n.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:St.create(i,n.op)}var Sx=class{constructor(){this.un=new bm}addToCollectionParentIndex(e,t){return this.un.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(fs.min())}updateCollectionGroup(e,t,i){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},bm=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Lt(gt.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Lt(gt.comparator)).toArray()}};var N1=new Uint8Array(0),Ax=class{constructor(e,t){this.databaseId=t,this.cn=new bm,this.ln=new Do(i=>pu(i),(i,r)=>Mm(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let s={collectionId:i,parent:er(r)};return o5(e).put(s)}return V.resolve()}getCollectionParents(e,t){let i=[],r=IDBKeyRange.bound([t,""],[R5(t),""],!1,!0);return o5(e).U(r).next(s=>{for(let o of s){if(o.collectionId!==t)break;i.push(_o(o.parent))}return i})}addFieldIndex(e,t){let i=Zg(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete r.indexId;let s=i.add(r);if(t.indexState){let o=Ah(e);return s.next(a=>{o.put(e5(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){let i=Zg(e),r=Ah(e),s=Sh(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Zg(e),i=Sh(e),r=Ah(e);return t.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,t){return V.forEach(this.hn(t),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let s=new sw(i).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){let i=Sh(e),r=!0,s=new Map;return V.forEach(this.hn(t),o=>this.Pn(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=Le(),a=[];return V.forEach(s,(l,c)=>{q("IndexedDbIndexManager",`Using index ${function(x){return`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(R=>`${R.fieldPath}:${R.kind}`).join(",")}`}(l)} to execute ${pu(t)}`);let d=function(x,R){let P=zA(R);if(P===void 0)return null;for(let N of J1(x,P.fieldPath))switch(N.op){case"array-contains-any":return N.value.arrayValue.values||[];case"array-contains":return[N.value]}return null}(c,l),h=function(x,R){let P=new Map;for(let N of ru(R))for(let C of J1(x,N.fieldPath))switch(C.op){case"==":case"in":P.set(N.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return P.set(N.fieldPath.canonicalString(),C.value),Array.from(P.values())}return null}(c,l),f=function(x,R){let P=[],N=!0;for(let C of ru(R)){let b=C.kind===0?Bj(x,C.fieldPath,x.startAt):jj(x,C.fieldPath,x.startAt);P.push(b.value),N&&(N=b.inclusive)}return new Co(P,N)}(c,l),p=function(x,R){let P=[],N=!0;for(let C of ru(R)){let b=C.kind===0?jj(x,C.fieldPath,x.endAt):Bj(x,C.fieldPath,x.endAt);P.push(b.value),N&&(N=b.inclusive)}return new Co(P,N)}(c,l),y=this.In(l,c,f),_=this.In(l,c,p),w=this.Tn(l,c,h),A=this.En(l.indexId,d,y,f.inclusive,_,p.inclusive,w);return V.forEach(A,M=>i.G(M,t.limit).next(x=>{x.forEach(R=>{let P=ee.fromSegments(R.documentKey);o.has(P)||(o=o.add(P),a.push(P))})}))}).next(()=>a)}return V.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=Zne(St.create(e.filters,"and")).map(i=>ax(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,i,r,s,o,a){let l=(t!=null?t.length:1)*Math.max(i.length,s.length),c=l/(t!=null?t.length:1),d=[];for(let h=0;h<l;++h){let f=t?this.dn(t[h/c]):N1,p=this.An(e,f,i[h%c],r),y=this.Rn(e,f,s[h%c],o),_=a.map(w=>this.An(e,f,w,!0));d.push(...this.createRange(p,y,_))}return d}An(e,t,i,r){let s=new lu(e,ee.empty(),t,i);return r?s:s.Zt()}Rn(e,t,i,r){let s=new lu(e,ee.empty(),t,i);return r?s.Zt():s}Pn(e,t){let i=new sw(t),r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(let a of s)i.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let i=2,r=this.hn(t);return V.forEach(r,s=>this.Pn(e,s).next(o=>{o?i!==0&&o.fields.length<function(l){let c=new Lt(Dn.comparator),d=!1;for(let h of l.filters)for(let f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(let h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(s)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(t)&&r.length>1&&i===2?1:i)}Vn(e,t){let i=new au;for(let r of ru(e)){let s=t.data.field(r.fieldPath);if(s==null)return null;let o=i.Yt(r.kind);ma.vt.It(s,o)}return i.zt()}dn(e){let t=new au;return ma.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let i=new au;return ma.vt.It(hu(this.databaseId,t),i.Yt(function(s){let o=ru(s);return o.length===0?0:o[o.length-1].kind}(e))),i.zt()}Tn(e,t,i){if(i===null)return[];let r=[];r.push(new au);let s=0;for(let o of ru(e)){let a=i[s++];for(let l of r)if(this.fn(t,o.fieldPath)&&fm(a))r=this.gn(r,o,a);else{let c=l.Yt(o.kind);ma.vt.It(a,c)}}return this.pn(r)}In(e,t,i){return this.Tn(e,t,i.position)}pn(e){let t=[];for(let i=0;i<e.length;++i)t[i]=e[i].zt();return t}gn(e,t,i){let r=[...e],s=[];for(let o of i.arrayValue.values||[])for(let a of r){let l=new au;l.seed(a.zt()),ma.vt.It(o,l.Yt(t.kind)),s.push(l)}return s}fn(e,t){return!!e.filters.find(i=>i instanceof st&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){let i=Zg(e),r=Ah(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(s=>{let o=[];return V.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){let f=h?new lm(h.sequenceNumber,new fs(_u(h.readTime),new ee(_o(h.documentKey)),h.largestBatchId)):lm.empty(),p=d.fields.map(([y,_])=>new Fh(Dn.fromServerFormat(y),_));return new jh(d.indexId,d.collectionGroup,p,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,r)=>{let s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:xe(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){let r=Zg(e),s=Ah(e);return this.yn(e).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>V.forEach(a,l=>s.put(e5(l.indexId,this.uid,o,i)))))}updateIndexEntries(e,t){let i=new Map;return V.forEach(t,(r,s)=>{let o=i.get(r.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),V.forEach(a,l=>this.wn(e,r,l).next(c=>{let d=this.Sn(s,l);return c.isEqual(d)?V.resolve():this.bn(e,s,l,c,d)}))))})}Dn(e,t,i,r){return Sh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return Sh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}wn(e,t,i){let r=Sh(e),s=new Lt(Sl);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(o,a)=>{s=s.add(new lu(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,t){let i=new Lt(Sl),r=this.Vn(t,e);if(r==null)return i;let s=zA(t);if(s!=null){let o=e.data.field(s.fieldPath);if(fm(o))for(let a of o.arrayValue.values||[])i=i.add(new lu(t.indexId,e.key,this.dn(a),r))}else i=i.add(new lu(t.indexId,e.key,N1,r));return i}bn(e,t,i,r,s){q("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let o=[];return function(l,c,d,h,f){let p=l.getIterator(),y=c.getIterator(),_=Th(p),w=Th(y);for(;_||w;){let A=!1,M=!1;if(_&&w){let x=d(_,w);x<0?M=!0:x>0&&(A=!0)}else _!=null?M=!0:A=!0;A?(h(w),w=Th(y)):M?(f(_),_=Th(p)):(_=Th(p),w=Th(y))}}(r,s,Sl,a=>{o.push(this.Dn(e,t,i,a))},a=>{o.push(this.vn(e,t,i,a))}),V.waitFor(o)}yn(e){let t=1;return Ah(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((o,a)=>Sl(o,a)).filter((o,a,l)=>!a||Sl(o,l[a-1])!==0);let r=[];r.push(e);for(let o of i){let a=Sl(o,e),l=Sl(o,t);if(a===0)r[0]=e.Zt();else if(a>0&&l<0)r.push(o),r.push(o.Zt());else if(l>0)break}r.push(t);let s=[];for(let o=0;o<r.length;o+=2){if(this.Cn(r[o],r[o+1]))return[];let a=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,N1,[]],l=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,N1,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,t){return Sl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(a5)}getMinOffset(e,t){return V.mapArray(this.hn(t),i=>this.Pn(e,i).next(r=>r||ie())).next(a5)}};function o5(n){return qn(n,"collectionParents")}function Sh(n){return qn(n,"indexEntries")}function Zg(n){return qn(n,"indexConfiguration")}function Ah(n){return qn(n,"indexState")}function a5(n){oe(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){let r=n[i].indexState.offset;LM(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new fs(e.readTime,e.documentKey,t)}var l5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hs=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function MU(n,e,t){let i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId),a=0,l=i.J({range:o},(d,h,f)=>(a++,f.delete()));s.push(l.next(()=>{oe(a===1)}));let c=[];for(let d of t.mutations){let h=L5(e,d.key.path,t.batchId);s.push(r.delete(h)),c.push(d.key)}return V.waitFor(s).next(()=>c)}function aw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ie();e=n.noDocument}return JSON.stringify(e).length}hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(41943040,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);var lw=class n{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(e,t,i,r){oe(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new n(s,t,i,r)}checkEmpty(e){let t=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Al(e).J({index:"userMutationsIndex",range:i},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,r){let s=Ph(e),o=Al(e);return o.add({}).next(a=>{oe(typeof a=="number");let l=new gm(a,t,i,r),c=function(p,y,_){let w=_.baseMutations.map(M=>wm(p.ct,M)),A=_.mutations.map(M=>wm(p.ct,M));return{userId:y,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:w,mutations:A}}(this.serializer,this.userId,l),d=[],h=new Lt((f,p)=>xe(f.canonicalString(),p.canonicalString()));for(let f of r){let p=L5(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(c)),d.push(s.put(p,rne))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),V.waitFor(d).next(()=>l)})}lookupMutationBatch(e,t){return Al(e).get(t).next(i=>i?(oe(i.userId===this.userId),ou(this.serializer,i)):null)}Mn(e,t){return this.Fn[t]?V.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){let r=i.keys();return this.Fn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Al(e).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(oe(a.batchId>=i),s=ou(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Al(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Al(e).U("userMutationsIndex",t).next(i=>i.map(r=>ou(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){let i=F1(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Ph(e).J({range:r},(o,a,l)=>{let[c,d,h]=o,f=_o(d);if(c===this.userId&&t.path.isEqual(f))return Al(e).get(h).next(p=>{if(!p)throw ie();oe(p.userId===this.userId),s.push(ou(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(xe),r=[];return t.forEach(s=>{let o=F1(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ph(e).J({range:a},(c,d,h)=>{let[f,p,y]=c,_=_o(p);f===this.userId&&s.path.isEqual(_)?i=i.add(y):h.done()});r.push(l)}),V.waitFor(r).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=F1(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new Lt(xe);return Ph(e).J({range:o},(l,c,d)=>{let[h,f,p]=l,y=_o(f);h===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(p)):d.done()}).next(()=>this.xn(e,a))}xn(e,t){let i=[],r=[];return t.forEach(s=>{r.push(Al(e).get(s).next(o=>{if(o===null)throw ie();oe(o.userId===this.userId),i.push(ou(this.serializer,o))}))}),V.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return MU(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),V.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return V.resolve();let i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return Ph(e).J({range:i},(s,o,a)=>{if(s[0]===this.userId){let l=_o(s[1]);r.push(l)}else a.done()}).next(()=>{oe(r.length===0)})})}containsKey(e,t){return RU(e,this.userId,t)}Nn(e){return NU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function RU(n,e,t){let i=F1(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return Ph(n).J({range:s,H:!0},(a,l,c)=>{let[d,h,f]=a;d===e&&h===r&&(o=!0),c.done()}).next(()=>o)}function Al(n){return qn(n,"mutations")}function Ph(n){return qn(n,"documentMutations")}function NU(n){return qn(n,"mutationQueues")}var qh=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var xx=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let i=new qh(t.highestTargetId);return t.highestTargetId=i.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>he.fromTimestamp(new on(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.qn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Qn(e,r)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(t,i),this.Qn(e,i))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>xh(e).delete(t.targetId)).next(()=>this.qn(e)).next(i=>(oe(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,t,i){let r=0,s=[];return xh(e).J((o,a)=>{let l=nm(a);l.sequenceNumber<=t&&i.get(l.targetId)===null&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(s)).next(()=>r)}forEachTarget(e,t){return xh(e).J((i,r)=>{let s=nm(r);t(s)})}qn(e){return c5(e).get("targetGlobalKey").next(t=>(oe(t!==null),t))}Qn(e,t){return c5(e).put("targetGlobalKey",t)}Kn(e,t){return xh(e).put(SU(this.serializer,t))}$n(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let i=pu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return xh(e).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{let c=nm(a);Mm(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,i){let r=[],s=xl(e);return t.forEach(o=>{let a=er(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,o))}),V.waitFor(r)}removeMatchingKeys(e,t,i){let r=xl(e);return V.forEach(t,s=>{let o=er(s.path);return V.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){let i=xl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){let i=IDBKeyRange.bound([t],[t+1],!1,!0),r=xl(e),s=Le();return r.J({range:i,H:!0},(o,a,l)=>{let c=_o(o[1]),d=new ee(c);s=s.add(d)}).next(()=>s)}containsKey(e,t){let i=er(t.path),r=IDBKeyRange.bound([i],[R5(i)],!1,!0),s=0;return xl(e).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,t){return xh(e).get(t).next(i=>i?nm(i):null)}};function xh(n){return qn(n,"targets")}function c5(n){return qn(n,"targetGlobal")}function xl(n){return qn(n,"targetDocuments")}function u5([n,e],[t,i]){let r=xe(n,t);return r===0?xe(e,i):r}var Mx=class{constructor(e){this.Un=e,this.buffer=new Lt(u5),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();u5(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},Rx=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>B(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){zl(t)?q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Hl(t)}yield this.Hn(3e5)}))}},Nx=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return V.resolve(Vr.oe);let i=new Mx(t);return this.Jn.forEachTarget(e,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(e,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(l5)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l5):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,r,s,o,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(i=h,a=Date.now(),this.removeTargets(e,i,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(c=Date.now(),Mh()<=Gr.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h})))}};function Xne(n,e){return new Nx(n,e)}var Ox=class{constructor(e,t){this.db=e,this.garbageCollector=Xne(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(i,r)=>t(r))}addReference(e,t,i){return O1(e,i)}removeReference(e,t,i){return O1(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return O1(e,t)}nr(e,t){return function(r,s){let o=!1;return NU(r).Y(a=>RU(r,a,s).next(l=>(l&&(o=!0),V.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],s=0;return this.tr(e,(o,a)=>{if(a<=t){let l=this.nr(e,o).next(c=>{if(!c)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,he.min()),xl(e).delete(function(h){return[0,er(h.path)]}(o))))});r.push(l)}}).next(()=>V.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return O1(e,t)}tr(e,t){let i=xl(e),r,s=Vr.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Vr.oe&&t(new ee(_o(r)),s),s=c,r=l):s=Vr.oe}).next(()=>{s!==Vr.oe&&t(new ee(_o(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function O1(n,e){return xl(n).put(function(i,r){return{targetId:0,path:er(i.path),sequenceNumber:r}}(e,n.currentSequenceNumber))}var cw=class{constructor(){this.changes=new Do(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?V.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Px=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return iu(e).put(i)}removeEntry(e,t,i){return iu(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],iw(o),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.rr(e,i)))}getEntry(e,t){let i=Vn.newInvalidDocument(t);return iu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xg(t))},(r,s)=>{i=this.ir(t,s)}).next(()=>i)}sr(e,t){let i={size:0,document:Vn.newInvalidDocument(t)};return iu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xg(t))},(r,s)=>{i={document:this.ir(t,s),size:aw(s)}}).next(()=>i)}getEntries(e,t){let i=vr();return this._r(e,t,(r,s)=>{let o=this.ir(r,s);i=i.insert(r,o)}).next(()=>i)}ar(e,t){let i=vr(),r=new zt(ee.comparator);return this._r(e,t,(s,o)=>{let a=this.ir(s,o);i=i.insert(s,a),r=r.insert(s,aw(o))}).next(()=>({documents:i,ur:r}))}_r(e,t,i){if(t.isEmpty())return V.resolve();let r=new Lt(f5);t.forEach(l=>r=r.add(l));let s=IDBKeyRange.bound(Xg(r.first()),Xg(r.last())),o=r.getIterator(),a=o.getNext();return iu(e).J({index:"documentKeyIndex",range:s},(l,c,d)=>{let h=ee.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&f5(a,h)<0;)i(a,null),a=o.getNext();a&&a.isEqual(h)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?d.$(Xg(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,s){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),iw(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return iu(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let d=vr();for(let h of c){let f=this.ir(ee.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(Nm(t,f)||r.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,t,i,r){let s=vr(),o=h5(t,i),a=h5(t,fs.max());return iu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{let h=this.ir(ee.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===r&&d.done()}).next(()=>s)}newChangeBuffer(e){return new kx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return d5(e).get("remoteDocumentGlobalKey").next(t=>(oe(!!t),t))}rr(e,t){return d5(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let i=Yne(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(he.min())))return i}return Vn.newInvalidDocument(e)}};function OU(n){return new Px(n)}var kx=class extends cw{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Do(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let t=[],i=0,r=new Lt((s,o)=>xe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){let l=Zj(this.cr.serializer,o);r=r.add(s.path.popLast());let c=aw(l);i+=c-a.size,t.push(this.cr.addEntry(e,s,l))}else if(i-=a.size,this.trackRemovals){let l=Zj(this.cr.serializer,o.convertToNoDocument(he.min()));t.push(this.cr.addEntry(e,s,l))}}),r.forEach(s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.cr.updateMetadata(e,i)),V.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(i=>(this.lr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:i,ur:r})=>(r.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:i.get(s).readTime})}),i))}};function d5(n){return qn(n,"remoteDocumentGlobal")}function iu(n){return qn(n,"remoteDocumentsV14")}function Xg(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function h5(n,e){let t=e.documentKey.path.toArray();return[n,iw(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function f5(n,e){let t=n.path.toArray(),i=e.path.toArray(),r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=xe(t[s],i[s]),r)return r;return r=xe(t.length,i.length),r||(r=xe(t[t.length-2],i[i.length-2]),r||xe(t[t.length-1],i[i.length-1]))}var Fx=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var uw=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&sm(i.mutation,r,Br.empty(),on.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Le()){let r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=tm();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Le()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=vr(),o=rm(),a=function(){return rm()}();return t.forEach((l,c)=>{let d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof Vs)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),sm(d.mutation,c,d.mutation.getFieldMask(),on.now())):o.set(c.key,Br.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var h;return a.set(c,new Fx(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=rm(),r=new zt((o,a)=>o-a),s=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let d=i.get(l)||Br.empty();d=a.applyToLocalView(c,d),i.set(l,d);let h=(r.get(a.batchId)||Le()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,h=iU();d.forEach(f=>{if(!s.has(f)){let p=uU(t.get(f),i.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return V.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$M(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):V.resolve(yo()),a=-1,l=s;return o.next(c=>V.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Le())).next(d=>({batchId:a,changes:nU(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next(i=>{let r=tm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=tm();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{let c=function(h,f){return new Ls(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,Vn.newInvalidDocument(d)))});let a=tm();return o.forEach((l,c)=>{let d=s.get(l);d!==void 0&&sm(d.mutation,c,Br.empty(),on.now()),Nm(t,c)&&(a=a.insert(l,c))}),a})}};var Lx=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return V.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:In(r.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:WM(r.bundledQuery),readTime:In(r.readTime)}}(t)),V.resolve()}};var Vx=class{constructor(){this.overlays=new zt(ee.comparator),this.Ir=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let i=yo();return V.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),V.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),V.resolve()}getOverlaysForCollection(e,t,i){let r=yo(),s=t.length+1,o=new ee(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return V.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new zt((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=yo(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=yo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return V.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new mm(t,i));let s=this.Ir.get(t);s===void 0&&(s=Le(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var Bx=class{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var Em=class{constructor(){this.Tr=new Lt(Fn.Er),this.dr=new Lt(Fn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Fn(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Fn(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new ee(new gt([])),i=new Fn(t,e),r=new Fn(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ee(new gt([])),i=new Fn(t,e),r=new Fn(t,e+1),s=Le();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Fn(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Fn=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ee.comparator(e.key,t.key)||xe(e.wr,t.wr)}static Ar(e,t){return xe(e.wr,t.wr)||ee.comparator(e.key,t.key)}};var jx=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Lt(Fn.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new gm(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new Fn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,t){return V.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Fn(t,0),r=new Fn(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(xe);return t.forEach(r=>{let s=new Fn(r,0),o=new Fn(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),V.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;ee.isDocumentKey(s)||(s=s.child(""));let o=new Fn(new ee(s),0),a=new Lt(xe);return this.br.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},o),V.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){oe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return V.forEach(t.mutations,r=>{let s=new Fn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Fn(t,0),r=this.br.firstAfterOrEqual(i);return V.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Ux=class{constructor(e){this.Mr=e,this.docs=function(){return new zt(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return V.resolve(i?i.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let i=vr();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Vn.newInvalidDocument(r))}),V.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=vr(),o=t.path,a=new ee(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||LM(O5(d),i)<=0||(r.has(d.key)||Nm(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ie()}Or(e,t){return V.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $x(this)}getSize(e){return V.resolve(this.size)}},$x=class extends cw{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),V.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Hx=class{constructor(e){this.persistence=e,this.Nr=new Do(t=>pu(t),Mm),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Em,this.targetCount=0,this.kr=qh.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),V.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new qh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.Kn(t),V.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),V.waitFor(s).next(()=>r)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return V.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),V.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return V.resolve(i)}containsKey(e,t){return V.resolve(this.Br.containsKey(t))}};var dw=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Vr(0),this.Kr=!1,this.Kr=!0,this.$r=new Bx,this.referenceDelegate=e(this),this.Ur=new Hx(this),this.indexManager=new Sx,this.remoteDocumentCache=function(r){return new Ux(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new nw(t),this.Gr=new Lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new jx(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){q("MemoryPersistence","Starting transaction:",e);let r=new zx(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return V.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},zx=class extends z1{constructor(e){super(),this.currentSequenceNumber=e}},hw=class n{constructor(e){this.persistence=e,this.Jr=new Em,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),V.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),V.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,i=>{let r=ee.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,he.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return V.or([()=>V.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Gx=class{constructor(e){this.serializer=e}O(e,t,i,r){let s=new G1("createOrUpgrade",t);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xj,{unique:!0}),l.createObjectStore("documentMutations")}(e),p5(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=V.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),p5(e)),o=o.next(()=>function(l){let c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),i<4&&r>=4&&(i!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xj,{unique:!0});let h=c.store("mutations"),f=d.map(p=>h.put(p));return V.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(o=o.next(()=>this.ni(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),i<7&&r>=7&&(o=o.next(()=>this.ii(s))),i<8&&r>=8&&(o=o.next(()=>this.si(e,s))),i<9&&r>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(o=o.next(()=>this.oi(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{(function(l){let c=l.createObjectStore("documentOverlays",{keyPath:mne});c.createIndex("collectionPathOverlayIndex",_ne,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",yne,{unique:!1})})(e)})),i<13&&r>=13&&(o=o.next(()=>function(l){let c=l.createObjectStore("remoteDocumentsV14",{keyPath:sne});c.createIndex("documentKeyIndex",one),c.createIndex("collectionGroupIndex",ane)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ai(e,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:hne}).createIndex("sequenceNumberIndex",fne,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:pne}).createIndex("documentKeyIndex",gne,{unique:!1})}(e))),i<16&&r>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),i<17&&r>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=aw(r)}).next(()=>{let i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){let t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(r=>V.forEach(r,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>V.forEach(a,l=>{oe(l.userId===s.userId);let c=ou(this.serializer,l);return MU(e,s.userId,c).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let s=[];return i.J((o,a)=>{let l=new gt(o),c=function(h){return[0,er(h)]}(l);s.push(t.get(c).next(d=>d?V.resolve():(h=>t.put({targetId:0,path:er(h),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>V.waitFor(s))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:dne});let i=t.store("collectionParents"),r=new bm,s=o=>{if(r.add(o)){let a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:er(l)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{let l=new gt(o);return s(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,l],c)=>{let d=_o(a);return s(d.popLast())}))}oi(e){let t=e.store("targets");return t.J((i,r)=>{let s=nm(r),o=SU(this.serializer,s);return t.put(o)})}_i(e,t){let i=t.store("remoteDocuments"),r=[];return i.J((s,o)=>{let a=t.store("remoteDocumentsV14"),l=function(h){return h.document?new ee(gt.fromString(h.document.name).popFirst(5)):h.noDocument?ee.fromSegments(h.noDocument.path):h.unknownDocument?ee.fromSegments(h.unknownDocument.path):ie()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(c))}).next(()=>V.waitFor(r))}ai(e,t){let i=t.store("mutations"),r=OU(this.serializer),s=new dw(hw.Zr,this.serializer.ct);return i.U().next(o=>{let a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:Le();ou(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),V.forEach(a,(l,c)=>{let d=new Ln(c),h=rw.lt(this.serializer,d),f=s.getIndexManager(d),p=lw.lt(d,this.serializer,f,s.referenceDelegate);return new uw(r,p,h,f).recalculateAndSaveOverlaysForDocumentKeys(new um(t,Vr.oe),l).next()})})}};function p5(n){n.createObjectStore("targetDocuments",{keyPath:cne}).createIndex("documentTargetsIndex",une,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lne,{unique:!0}),n.createObjectStore("targetGlobal")}var OA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wx=class n{constructor(e,t,i,r,s,o,a,l,c,d,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=d,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!n.D())throw new G(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ox(this,r),this.Ai=t+"main",this.serializer=new nw(l),this.Ri=new Pl(this.Ai,this.hi,new Gx(this.serializer)),this.$r=new wx,this.Ur=new xx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OU(this.serializer),this.Gr=new vx,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&Cn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new G(U.FAILED_PRECONDITION,OA);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Vr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>B(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>B(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>B(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>P1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(zl(e))return q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return em(e).get("owner").next(t=>V.resolve(this.vi(t)))}Ci(e){return P1(e).delete(this.clientId)}Fi(){return B(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let i=qn(t,"clientMetadata");return i.U().next(r=>{let s=this.xi(r,18e5),o=r.filter(a=>s.indexOf(a)===-1);return V.forEach(o,a=>i.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?V.resolve(!0):em(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new G(U.FAILED_PRECONDITION,OA);return!1}}return!(!this.networkEnabled||!this.inForeground)||P1(e).U().next(i=>this.xi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&q("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return B(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new um(e,Vr.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(i=>this.Mi(i.updateTimeMs,t)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>P1(e).U().next(t=>this.xi(t,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return lw.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ax(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return rw.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,i){q("IndexedDbPersistence","Starting transaction:",e);let r=t==="readonly"?"readonly":"readwrite",s=function(l){return l===17?bne:l===16?wne:l===15?BM:l===14?j5:l===13?B5:l===12?vne:l===11?V5:void ie()}(this.hi),o;return this.Ri.runTransaction(e,r,s,a=>(o=new um(a,this.Qr?this.Qr.next():Vr.oe),t==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Cn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new G(U.FAILED_PRECONDITION,P5);return i(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return em(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new G(U.FAILED_PRECONDITION,OA)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return em(e).put("owner",t)}static D(){return Pl.D()}bi(e){let t=em(e);return t.get("owner").next(i=>this.vi(i)?(q("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):V.resolve())}Mi(e,t){let i=Date.now();return!(e<i-t)&&(!(e>i)||(Cn(`Detected an update time that is in the future: ${e} > ${i}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;ub()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let i=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return q("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Cn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Cn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function em(n){return qn(n,"owner")}function P1(n){return qn(n,"clientMetadata")}function KM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var qx=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=Le(),r=Le();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var Kx=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fw=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ub()?8:k5(bf())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Kx;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Mh()<=Gr.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Rh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(Mh()<=Gr.DEBUG&&q("QueryEngine","Query:",Rh(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Mh()<=Gr.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Rh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):V.resolve())}Yi(e,t){if(Uj(t))return V.resolve(null);let i=tr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Z1(t,null,"F"),i=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Le(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,Z1(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,i,r){return Uj(t)||r.isEqual(he.min())?V.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?V.resolve(null):(Mh()<=Gr.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rh(t)),this.rs(e,o,t,N5(r,-1)).next(a=>a))})}ts(e,t){let i=new Lt(eU(e));return t.forEach((r,s)=>{Nm(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return Mh()<=Gr.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Rh(t)),this.Ji.getDocumentsMatchingQuery(e,t,fs.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Qx=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new zt(xe),this._s=new Do(s=>pu(s),Mm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function PU(n,e,t,i){return new Qx(n,e,t,i)}function kU(n,e){return B(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=Le();for(let c of r){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of s){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(i,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})}function eie(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let h=c.batch,f=h.keys(),p=V.resolve();return f.forEach(y=>{p=p.next(()=>d.getEntry(l,y)).next(_=>{let w=c.docVersions.get(y);oe(w!==null),_.version.compareTo(w)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function FU(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function tie(n,e){let t=X(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((d,h)=>{let f=r.get(h);if(!f)return;a.push(t.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Tn.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,i)),r=r.insert(h,p),function(_,w,A){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(f,p,d)&&a.push(t.Ur.updateTargetData(s,p))});let l=vr(),c=Le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(LU(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!i.isEqual(he.min())){let d=t.Ur.getLastRemoteSnapshotVersion(s).next(h=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=r,s))}function LU(n,e,t){let i=Le(),r=Le();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=vr();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function nie(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Kh(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,V.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new Wh(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function Qh(n,e,t){return B(this,null,function*(){let i=X(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!zl(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function pw(n,e,t){let i=X(n),r=he.min(),s=Le();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let h=X(l),f=h._s.get(d);return f!==void 0?V.resolve(h.os.get(f)):h.Ur.getTargetData(c,d)}(i,o,tr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:he.min(),t?s:Le())).next(a=>(jU(i,X5(e),a),{documents:a,Ts:s})))}function VU(n,e){let t=X(n),i=X(t.Ur),r=t.os.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.ot(s,e).next(o=>o?o.target:null))}function BU(n,e){let t=X(n),i=t.us.get(e)||he.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.cs.getAllFromCollectionGroup(r,e,N5(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(jU(t,e,r),r))}function jU(n,e,t){let i=n.us.get(e)||he.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}function iie(n,e,t,i){return B(this,null,function*(){let r=X(n),s=Le(),o=vr();for(let c of t){let d=e.Es(c.metadata.name);c.document&&(s=s.add(d));let h=e.ds(c);h.setReadTime(e.As(c.metadata.readTime)),o=o.insert(d,h)}let a=r.cs.newChangeBuffer({trackRemovals:!0}),l=yield Kh(r,function(d){return tr(rf(gt.fromString(`__bundle__/docs/${d}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>LU(c,a,o).next(d=>(a.apply(c),d)).next(d=>r.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Ur.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.Ps,d.Is)).next(()=>d.Ps)))})}function rie(i,r){return B(this,arguments,function*(n,e,t=Le()){let s=yield Kh(n,tr(WM(e.bundledQuery))),o=X(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{let l=In(e.readTime);if(s.snapshotVersion.compareTo(l)>=0)return o.Gr.saveNamedQuery(a,e);let c=s.withResumeToken(Tn.EMPTY_BYTE_STRING,l);return o.os=o.os.insert(c.targetId,c),o.Ur.updateTargetData(a,c).next(()=>o.Ur.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Ur.addMatchingKeys(a,t,s.targetId)).next(()=>o.Gr.saveNamedQuery(a,e))})})}function g5(n,e){return`firestore_clients_${n}_${e}`}function m5(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function PA(n,e){return`firestore_targets_${n}_${e}`}var gw=class n{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Rs(e,t,i){let r=JSON.parse(i),s,o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new G(r.error.code,r.error.message))),o?new n(e,t,r.state,s):(Cn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},om=class n{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Rs(e,t){let i=JSON.parse(t),r,s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(r=new G(i.error.code,i.error.message))),s?new n(e,i.state,r):(Cn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},mw=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let i=JSON.parse(t),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=HM();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=F5(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new n(e,s):(Cn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},Yx=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(Cn("SharedClientState",`Failed to parse online state: ${e}`),null)}},Cm=class{constructor(){this.activeTargetIds=HM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},am=class{constructor(e,t,i,r,s){this.window=e,this.ui=t,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new zt(xe),this.started=!1,this.bs=[];let o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=g5(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new Cm),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return B(this,null,function*(){let e=yield this.syncEngine.Qi();for(let i of e){if(i===this.ps)continue;let r=this.getItem(g5(this.persistenceKey,i));if(r){let s=mw.Rs(i,r);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let i=this.Ls(t);i&&this.Bs(i)}for(let i of this.bs)this.ws(i);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,i){this.qs(e,t,i),this.Qs(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(PA(this.persistenceKey,e));if(r){let s=om.Rs(e,r);s&&(i=s.state)}}return t&&this.Ks.fs(e),this.Ns(),i}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(PA(this.persistenceKey,e))}updateQueryState(e,t,i){this.$s(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Qs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return q("SharedClientState","READ",e,t),t}setItem(e,t){q("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){q("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(q("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void Cn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>B(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let i=this.Gs(t.key);return this.zs(i,null)}{let i=this.js(t.key,t.newValue);if(i)return this.zs(i.clientId,i)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let i=this.Hs(t.key,t.newValue);if(i)return this.Js(i)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let i=this.Ys(t.key,t.newValue);if(i)return this.Zs(i)}}else if(t.key===this.xs){if(t.newValue!==null){let i=this.Ls(t.newValue);if(i)return this.Bs(i)}}else if(t.key===this.vs){let i=function(s){let o=Vr.oe;if(s!=null)try{let a=JSON.parse(s);oe(typeof a=="number"),o=a}catch(a){Cn("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(t.newValue);i!==Vr.oe&&this.sequenceNumberHandler(i)}else if(t.key===this.Os){let i=this.Xs(t.newValue);yield Promise.all(i.map(r=>this.syncEngine.eo(r)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,i){let r=new gw(this.currentUser,e,t,i),s=m5(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Vs())}Qs(e){let t=m5(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,i){let r=PA(this.persistenceKey,e),s=new om(e,t,i);this.setItem(r,s.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let i=this.Gs(e);return mw.Rs(i,t)}Hs(e,t){let i=this.Fs.exec(e),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return gw.Rs(new Ln(s),r,t)}Ys(e,t){let i=this.Ms.exec(e),r=Number(i[1]);return om.Rs(r,t)}Ls(e){return Yx.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return B(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);q("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let i=t?this.Ss.insert(e,t):this.Ss.remove(e),r=this.ks(this.Ss),s=this.ks(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=HM();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}},_w=class{constructor(){this.so=new Cm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cm,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Jx=class{_o(e){}shutdown(){}};var yw=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var k1=null;function kA(){return k1===null?k1=function(){return 268435456+Math.round(2147483648*Math.random())}():k1++,"0x"+k1.toString(16)}var sie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Zx=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ni="WebChannelConnection",Xx=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let a=kA(),l=this.xo(t,i.toUriEncodedString());q("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,r).then(d=>(q("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Fs("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(t,i,r,s,o,a){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=sie[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=kA();return new Promise((o,a)=>{let l=new SA;l.setWithCredentials(!0),l.listenOnce(AA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yg.NO_ERROR:let d=l.getResponseJson();q(Ni,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Yg.TIMEOUT:q(Ni,`RPC '${e}' ${s} timed out`),a(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case Yg.HTTP_ERROR:let h=l.getStatus();if(q(Ni,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);let p=f?.error;if(p&&p.status&&p.message){let y=function(w){let A=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(A)>=0?A:U.UNKNOWN}(p.status);a(new G(y,p.message))}else a(new G(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(U.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{q(Ni,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);q(Ni,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",c,i,15)})}Bo(e,t,i){let r=kA(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RA(),a=MA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let d=s.join("");q(Ni,`Creating RPC '${e}' stream ${r}: ${d}`,l);let h=o.createWebChannel(d,l),f=!1,p=!1,y=new Zx({Io:w=>{p?q(Ni,`Not sending because RPC '${e}' stream ${r} is closed:`,w):(f||(q(Ni,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),q(Ni,`RPC '${e}' stream ${r} sending:`,w),h.send(w))},To:()=>h.close()}),_=(w,A,M)=>{w.listen(A,x=>{try{M(x)}catch(R){setTimeout(()=>{throw R},0)}})};return _(h,Ih.EventType.OPEN,()=>{p||(q(Ni,`RPC '${e}' stream ${r} transport opened.`),y.yo())}),_(h,Ih.EventType.CLOSE,()=>{p||(p=!0,q(Ni,`RPC '${e}' stream ${r} transport closed`),y.So())}),_(h,Ih.EventType.ERROR,w=>{p||(p=!0,Fs(Ni,`RPC '${e}' stream ${r} transport errored:`,w),y.So(new G(U.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ih.EventType.MESSAGE,w=>{var A;if(!p){let M=w.data[0];oe(!!M);let x=M,R=x.error||((A=x[0])===null||A===void 0?void 0:A.error);if(R){q(Ni,`RPC '${e}' stream ${r} received error:`,R);let P=R.status,N=function(v){let E=kn[v];if(E!==void 0)return fU(E)}(P),C=R.message;N===void 0&&(N=U.INTERNAL,C="Unknown error status: "+P+" with message "+R.message),p=!0,y.So(new G(N,C)),h.close()}else q(Ni,`RPC '${e}' stream ${r} received:`,M),y.bo(M)}}),_(a,xA.STAT_EVENT,w=>{w.stat===R1.PROXY?q(Ni,`RPC '${e}' stream ${r} detected buffering proxy`):w.stat===R1.NOPROXY&&q(Ni,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}};function UU(){return typeof window<"u"?window:null}function j1(){return typeof document<"u"?document:null}function Om(n){return new px(n,!0)}var Dm=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var vw=class{constructor(e,t,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Dm(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return B(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return B(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return B(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Cn(t.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new G(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>B(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},eM=class extends vw{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=Hne(this.serializer,e),i=function(s){if(!("targetChange"in s))return he.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?In(o.readTime):he.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=_x(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=Y1(l)?{documents:bU(s,l)}:{query:EU(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=gU(s,o.resumeToken);let c=gx(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Gh(s,o.snapshotVersion.toTimestamp());let c=gx(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=Gne(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=_x(this.serializer),t.removeTarget=e,this.a_(t)}},tM=class extends vw{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return oe(!!e.streamToken),this.lastStreamToken=e.streamToken,oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=zne(e.writeResults,e.commitTime),i=In(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=_x(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>wm(this.serializer,i))};this.a_(t)}};var nM=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,mx(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,mx(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},iM=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cn(t),this.D_=!1):q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var rM=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>B(this,null,function*(){Gl(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(l){return B(this,null,function*(){let c=X(l);c.L_.add(4),yield sf(c),c.q_.set("Unknown"),c.L_.delete(4),yield Pm(c)})}(this))}))}),this.q_=new iM(i,r)}};function Pm(n){return B(this,null,function*(){if(Gl(n))for(let e of n.B_)yield e(!0)})}function sf(n){return B(this,null,function*(){for(let e of n.B_)yield e(!1)})}function jw(n,e){let t=X(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),JM(t)?YM(t):af(t).r_()&&QM(t,e))}function Yh(n,e){let t=X(n),i=af(t);t.N_.delete(e),i.r_()&&$U(t,e),t.N_.size===0&&(i.r_()?i.o_():Gl(t)&&t.q_.set("Unknown"))}function QM(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}af(n).A_(e)}function $U(n,e){n.Q_.xe(e),af(n).R_(e)}function YM(n){n.Q_=new fx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),af(n).start(),n.q_.v_()}function JM(n){return Gl(n)&&!af(n).n_()&&n.N_.size>0}function Gl(n){return X(n).L_.size===0}function HU(n){n.Q_=void 0}function oie(n){return B(this,null,function*(){n.q_.set("Online")})}function aie(n){return B(this,null,function*(){n.N_.forEach((e,t)=>{QM(n,e)})})}function lie(n,e){return B(this,null,function*(){HU(n),JM(n)?(n.q_.M_(e),YM(n)):n.q_.set("Unknown")})}function cie(n,e,t){return B(this,null,function*(){if(n.q_.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{yield function(r,s){return B(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ww(n,i)}else if(e instanceof Vh?n.Q_.Ke(e):e instanceof X1?n.Q_.He(e):n.Q_.We(e),!t.isEqual(he.min()))try{let i=yield FU(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Tn.EMPTY_BYTE_STRING,d.snapshotVersion)),$U(s,l);let h=new Wh(d.target,l,c,d.sequenceNumber);QM(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){q("RemoteStore","Failed to raise snapshot:",i),yield ww(n,i)}})}function ww(n,e,t){return B(this,null,function*(){if(!zl(e))throw e;n.L_.add(1),yield sf(n),n.q_.set("Offline"),t||(t=()=>FU(n.localStore)),n.asyncQueue.enqueueRetryable(()=>B(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Pm(n)}))})}function zU(n,e){return e().catch(t=>ww(n,t,e))}function of(n){return B(this,null,function*(){let e=X(n),t=$l(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;uie(e);)try{let r=yield nie(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,die(e,r)}catch(r){yield ww(e,r)}GU(e)&&WU(e)})}function uie(n){return Gl(n)&&n.O_.length<10}function die(n,e){n.O_.push(e);let t=$l(n);t.r_()&&t.V_&&t.m_(e.mutations)}function GU(n){return Gl(n)&&!$l(n).n_()&&n.O_.length>0}function WU(n){$l(n).start()}function hie(n){return B(this,null,function*(){$l(n).p_()})}function fie(n){return B(this,null,function*(){let e=$l(n);for(let t of n.O_)e.m_(t.mutations)})}function pie(n,e,t){return B(this,null,function*(){let i=n.O_.shift(),r=ux.from(i,e,t);yield zU(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield of(n)})}function gie(n,e){return B(this,null,function*(){e&&$l(n).V_&&(yield function(i,r){return B(this,null,function*(){if(function(o){return hU(o)&&o!==U.ABORTED}(r.code)){let s=i.O_.shift();$l(i).s_(),yield zU(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield of(i)}})}(n,e)),GU(n)&&WU(n)})}function _5(n,e){return B(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let i=Gl(t);t.L_.add(3),yield sf(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Pm(t)})}function sM(n,e){return B(this,null,function*(){let t=X(n);e?(t.L_.delete(2),yield Pm(t)):e||(t.L_.add(2),yield sf(t),t.q_.set("Unknown"))})}function af(n){return n.K_||(n.K_=function(t,i,r){let s=X(t);return s.w_(),new eM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:oie.bind(null,n),Ro:aie.bind(null,n),mo:lie.bind(null,n),d_:cie.bind(null,n)}),n.B_.push(e=>B(this,null,function*(){e?(n.K_.s_(),JM(n)?YM(n):n.q_.set("Unknown")):(yield n.K_.stop(),HU(n))}))),n.K_}function $l(n){return n.U_||(n.U_=function(t,i,r){let s=X(t);return s.w_(),new tM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hie.bind(null,n),mo:gie.bind(null,n),f_:fie.bind(null,n),g_:pie.bind(null,n)}),n.B_.push(e=>B(this,null,function*(){e?(n.U_.s_(),yield of(n)):(yield n.U_.stop(),n.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var oM=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function lf(n,e){if(Cn("AsyncQueue",`${e}: ${n}`),zl(n))return new G(U.UNAVAILABLE,`${e}: ${n}`);throw n}var bw=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ee.comparator(t.key,i.key):(t,i)=>ee.comparator(t.key,i.key),this.keyedMap=tm(),this.sortedSet=new zt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Ew=class{constructor(){this.W_=new zt(ee.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},Jh=class n{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,bw.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var aM=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},lM=class{constructor(){this.queries=y5(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=X(t),s=r.queries;r.queries=y5(),s.forEach((o,a)=>{for(let l of a.j_)l.onError(i)})})(this,new G(U.ABORTED,"Firestore shutting down"))}};function y5(){return new Do(n=>Z5(n),Rm)}function ZM(n,e){return B(this,null,function*(){let t=X(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new aM,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=lf(o,`Initialization of query '${Rh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&eR(t)})}function XM(n,e){return B(this,null,function*(){let t=X(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function mie(n,e){let t=X(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&eR(t)}function _ie(n,e,t){let i=X(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function eR(n){n.Y_.forEach(e=>{e.next()})}var cM,v5;(v5=cM||(cM={})).ea="default",v5.Cache="cache";var Im=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Jh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==cM.Cache}};var uM=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var Cw=class{constructor(e){this.serializer=e}Es(e){return wo(this.serializer,e)}ds(e){return e.metadata.exists?wU(this.serializer,e.document,!1):Vn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return In(e)}},dM=class{constructor(e,t,i){this.ca=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qU(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let i=gt.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,i=new Cw(this.serializer);for(let r of e)if(r.metadata.queries){let s=i.Es(r.metadata.name);for(let o of r.metadata.queries){let a=(t.get(o)||Le()).add(s);t.set(o,a)}}return t}complete(){return B(this,null,function*(){let e=yield iie(this.localStore,new Cw(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let i of this.queries)yield rie(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function qU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var Dw=class{constructor(e){this.key=e}},Iw=class{constructor(e){this.key=e}},Tw=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=eU(e),this.Ra=new bw(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Ew,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{let f=r.get(d),p=Nm(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),w=!1;f&&p?f.data.isEqual(p.data)?y!==_&&(i.track({type:3,doc:p}),w=!0):this.ga(f,p)||(i.track({type:2,doc:p}),w=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),w=!0):f&&!p&&(i.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,h)=>function(p,y){let _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return _(p)-_(y)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Jh(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ew,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Le(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new Iw(i))}),this.da.forEach(i=>{e.has(i)||t.push(new Dw(i))}),t}ba(e){this.Ta=e.Ts,this.da=Le();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Jh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},hM=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},fM=class{constructor(e){this.key=e,this.va=!1}},pM=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Do(a=>Z5(a),Rm),this.Ma=new Map,this.xa=new Set,this.Oa=new zt(ee.comparator),this.Na=new Map,this.La=new Em,this.Ba={},this.ka=new Map,this.qa=qh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function yie(n,e,t=!0){return B(this,null,function*(){let i=Uw(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield KU(i,e,t,!0),r})}function vie(n,e){return B(this,null,function*(){let t=Uw(n);yield KU(t,e,!0,!1)})}function KU(n,e,t,i){return B(this,null,function*(){let r=yield Kh(n.localStore,tr(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return i&&(a=yield tR(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&jw(n.remoteStore,r),a})}function tR(n,e,t,i,r){return B(this,null,function*(){n.Ka=(h,f,p)=>function(_,w,A,M){return B(this,null,function*(){let x=w.view.ma(A);x.ns&&(x=yield pw(_.localStore,w.query,!1).then(({documents:C})=>w.view.ma(C,x)));let R=M&&M.targetChanges.get(w.targetId),P=M&&M.targetMismatches.get(w.targetId)!=null,N=w.view.applyChanges(x,_.isPrimaryClient,R,P);return gM(_,w.targetId,N.wa),N.snapshot})}(n,h,f,p);let s=yield pw(n.localStore,e,!0),o=new Tw(e,s.Ts),a=o.ma(s.documents),l=ym.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=o.applyChanges(a,n.isPrimaryClient,l);gM(n,t,c.wa);let d=new hM(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot})}function wie(n,e,t){return B(this,null,function*(){let i=X(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Rm(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Qh(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Yh(i.remoteStore,r.targetId),Zh(i,r.targetId)}).catch(Hl))):(Zh(i,r.targetId),yield Qh(i.localStore,r.targetId,!0))})}function bie(n,e){return B(this,null,function*(){let t=X(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Yh(t.remoteStore,i.targetId))})}function Eie(n,e,t){return B(this,null,function*(){let i=sR(n);try{let r=yield function(o,a){let l=X(o),c=on.now(),d=a.reduce((p,y)=>p.add(y.key),Le()),h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=vr(),_=Le();return l.cs.getEntries(p,d).next(w=>{y=w,y.forEach((A,M)=>{M.isValidDocument()||(_=_.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(w=>{h=w;let A=[];for(let M of a){let x=Fne(M,h.get(M.key).overlayedDocument);x!=null&&A.push(new Vs(M.key,x,G5(x.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,A,a)}).next(w=>{f=w;let A=w.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,w.batchId,A)})}).then(()=>({batchId:f.batchId,changes:nU(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new zt(xe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(i,r.batchId,t),yield Ca(i,r.changes),yield of(i.remoteStore)}catch(r){let s=lf(r,"Failed to persist write");t.reject(s)}})}function QU(n,e){return B(this,null,function*(){let t=X(n);try{let i=yield tie(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(oe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?oe(o.va):r.removedDocuments.size>0&&(oe(o.va),o.va=!1))}),yield Ca(t,i,e)}catch(i){yield Hl(i)}})}function w5(n,e,t){let i=X(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=X(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(let f of h.j_)f.Z_(a)&&(c=!0)}),c&&eR(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Cie(n,e,t){return B(this,null,function*(){let i=X(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new zt(ee.comparator);o=o.insert(s,Vn.newNoDocument(s,he.min()));let a=Le().add(s),l=new _m(he.min(),new Map,new zt(xe),o,a);yield QU(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),rR(i)}else yield Qh(i.localStore,e,!1).then(()=>Zh(i,e,t)).catch(Hl)})}function Die(n,e){return B(this,null,function*(){let t=X(n),i=e.batch.batchId;try{let r=yield eie(t.localStore,e);iR(t,i,null),nR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ca(t,r)}catch(r){yield Hl(r)}})}function Iie(n,e,t){return B(this,null,function*(){let i=X(n);try{let r=yield function(o,a){let l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(oe(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,e);iR(i,e,t),nR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ca(i,r)}catch(r){yield Hl(r)}})}function Tie(n,e){return B(this,null,function*(){let t=X(n);Gl(t.remoteStore)||q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(o){let a=X(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(i===-1)return void e.resolve();let r=t.ka.get(i)||[];r.push(e),t.ka.set(i,r)}catch(i){let r=lf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function nR(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function iR(n,e,t){let i=X(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Zh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||YU(n,i)})}function YU(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Yh(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),rR(n))}function gM(n,e,t){for(let i of t)i instanceof Dw?(n.La.addReference(i.key,e),Sie(n,i)):i instanceof Iw?(q("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||YU(n,i.key)):ie()}function Sie(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(q("SyncEngine","New document in limbo: "+t),n.xa.add(i),rR(n))}function rR(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ee(gt.fromString(e)),i=n.qa.next();n.Na.set(i,new fM(t)),n.Oa=n.Oa.insert(t,i),jw(n.remoteStore,new Wh(tr(rf(t.path)),i,"TargetPurposeLimboResolution",Vr.oe))}}function Ca(n,e,t){return B(this,null,function*(){let i=X(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,t).then(c=>{var d;if((c||t)&&i.isPrimaryClient){let h=c?!c.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);let h=qx.Wi(l.targetId,c);s.push(h)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(l,c){return B(this,null,function*(){let d=X(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(c,f=>V.forEach(f.$i,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>V.forEach(f.Ui,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!zl(h))throw h;q("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let f=h.targetId;if(!h.fromCache){let p=d.os.get(f),y=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(f,_)}}})}(i.localStore,s))})}function Aie(n,e){return B(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let i=yield kU(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new G(U.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ca(t,i.hs)}})}function xie(n,e){let t=X(n),i=t.Na.get(e);if(i&&i.va)return Le().add(i.key);{let r=Le(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let a=t.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function Mie(n,e){return B(this,null,function*(){let t=X(n),i=yield pw(t.localStore,e.query,!0),r=e.view.ba(i);return t.isPrimaryClient&&gM(t,e.targetId,r.wa),r})}function Rie(n,e){return B(this,null,function*(){let t=X(n);return BU(t.localStore,e).then(i=>Ca(t,i))})}function Nie(n,e,t,i){return B(this,null,function*(){let r=X(n),s=yield function(a,l){let c=X(a),d=X(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Mn(h,l).next(f=>f?c.localDocuments.getDocuments(h,f):V.resolve(null)))}(r.localStore,e);s!==null?(t==="pending"?yield of(r.remoteStore):t==="acknowledged"||t==="rejected"?(iR(r,e,i||null),nR(r,e),function(a,l){X(X(a).mutationQueue).On(l)}(r.localStore,e)):ie(),yield Ca(r,s)):q("SyncEngine","Cannot apply mutation batch with id: "+e)})}function Oie(n,e){return B(this,null,function*(){let t=X(n);if(Uw(t),sR(t),e===!0&&t.Qa!==!0){let i=t.sharedClientState.getAllActiveQueryTargets(),r=yield b5(t,i.toArray());t.Qa=!0,yield sM(t.remoteStore,!0);for(let s of r)jw(t.remoteStore,s)}else if(e===!1&&t.Qa!==!1){let i=[],r=Promise.resolve();t.Ma.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Zh(t,o),Qh(t.localStore,o,!0))),Yh(t.remoteStore,o)}),yield r,yield b5(t,i),function(o){let a=X(o);a.Na.forEach((l,c)=>{Yh(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new zt(ee.comparator)}(t),t.Qa=!1,yield sM(t.remoteStore,!1)}})}function b5(n,e,t){return B(this,null,function*(){let i=X(n),r=[],s=[];for(let o of e){let a,l=i.Ma.get(o);if(l&&l.length!==0){a=yield Kh(i.localStore,tr(l[0]));for(let c of l){let d=i.Fa.get(c),h=yield Mie(i,d);h.snapshot&&s.push(h.snapshot)}}else{let c=yield VU(i.localStore,o);a=yield Kh(i.localStore,c),yield tR(i,JU(c),o,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(s),r})}function JU(n){return J5(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Pie(n){return function(t){return X(X(t).persistence).Qi()}(X(n).localStore)}function kie(n,e,t,i){return B(this,null,function*(){let r=X(n);if(r.Qa)return void q("SyncEngine","Ignoring unexpected query state notification.");let s=r.Ma.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{let o=yield BU(r.localStore,X5(s[0])),a=_m.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Tn.EMPTY_BYTE_STRING);yield Ca(r,o,a);break}case"rejected":yield Qh(r.localStore,e,!0),Zh(r,e,i);break;default:ie()}})}function Fie(n,e,t){return B(this,null,function*(){let i=Uw(n);if(i.Qa){for(let r of e){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){q("SyncEngine","Adding an already active target "+r);continue}let s=yield VU(i.localStore,r),o=yield Kh(i.localStore,s);yield tR(i,JU(s),o.targetId,!1,o.resumeToken),jw(i.remoteStore,o)}for(let r of t)i.Ma.has(r)&&(yield Qh(i.localStore,r,!1).then(()=>{Yh(i.remoteStore,r),Zh(i,r)}).catch(Hl))}})}function Uw(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cie.bind(null,e),e.Ca.d_=mie.bind(null,e.eventManager),e.Ca.$a=_ie.bind(null,e.eventManager),e}function sR(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Die.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iie.bind(null,e),e}function Lie(n,e,t){let i=X(n);(function(s,o,a){return B(this,null,function*(){try{let l=yield o.getMetadata();if(yield function(p,y){let _=X(p),w=In(y.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",A=>_.Gr.getBundleMetadata(A,y.id)).then(A=>!!A&&A.createTime.compareTo(w)>=0)}(s.localStore,l))return yield o.close(),a._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(qU(l));let c=new dM(l,s.localStore,o.serializer),d=yield o.Ua();for(;d;){let f=yield c.la(d);f&&a._updateProgress(f),d=yield o.Ua()}let h=yield c.complete();return yield Ca(s,h.Ia,void 0),yield function(p,y){let _=X(p);return _.persistence.runTransaction("Save bundle","readwrite",w=>_.Gr.saveBundleMetadata(w,y))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.Pa)}catch(l){return Fs("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var mM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return B(this,null,function*(){this.serializer=Om(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return PU(this.persistence,new fw,t.initialUser,this.serializer)}Ga(t){return new dw(hw.Zr,this.serializer)}Wa(t){return new _w}terminate(){return B(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Sw=class n extends mM{constructor(e,t,i){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return B(this,null,function*(){yield lb(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield sR(this.Ja.syncEngine),yield of(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return PU(this.persistence,new fw,e.initialUser,this.serializer)}ja(e,t){let i=this.persistence.referenceDelegate.garbageCollector;return new Rx(i,e.asyncQueue,t)}Ha(e,t){let i=new KA(t,this.persistence);return new qA(e.asyncQueue,i)}Ga(e){let t=KM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?hs.withCacheSize(this.cacheSizeBytes):hs.DEFAULT;return new Wx(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,UU(),j1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new _w}},_M=class n extends Sw{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return B(this,null,function*(){yield lb(n.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof am&&(this.sharedClientState.syncEngine={no:Nie.bind(null,t),ro:kie.bind(null,t),io:Fie.bind(null,t),Qi:Pie.bind(null,t),eo:Rie.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(i=>B(this,null,function*(){yield Oie(this.Ja.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=UU();if(!am.D(t))throw new G(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=KM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new am(t,e.asyncQueue,i,e.clientId,e.initialUser)}},oR=(()=>{class n{initialize(t,i){return B(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w5(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aie.bind(null,this.syncEngine),yield sM(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new lM}()}createDatastore(t){let i=Om(t.databaseInfo.databaseId),r=function(o){return new Xx(o)}(t.databaseInfo);return function(o,a,l,c){return new nM(o,a,l,c)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,s,o,a,l){return new rM(r,s,o,a,l)}(this.localStore,this.datastore,t.asyncQueue,i=>w5(this.syncEngine,i,0),function(){return yw.D()?new yw:new Jx}())}createSyncEngine(t,i){return function(s,o,a,l,c,d,h){let f=new pM(s,o,a,l,c,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return B(this,null,function*(){var t,i;yield function(s){return B(this,null,function*(){let o=X(s);q("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield sf(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();function E5(n,e=10240){let t=0;return{read(){return B(this,null,function*(){if(t<n.byteLength){let r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})},cancel(){return B(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Xh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var yM=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Wn,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){return B(this,null,function*(){return this.metadata.promise})}Ua(){return B(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return B(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),i=Number(t);isNaN(i)&&this.ru(`length string (${t}) is not valid number`);let r=yield this.iu(i);return new uM(JSON.parse(r),e.length+i)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return B(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return B(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return B(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var vM=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return B(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new G(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(r,s){return B(this,null,function*(){let o=X(r),a={documents:s.map(h=>vm(o.serializer,h))},l=yield o.Lo("BatchGetDocuments",o.serializer.databaseId,gt.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{let f=$ne(o.serializer,h);c.set(f.key.toString(),f)});let d=[];return s.forEach(h=>{let f=c.get(h.toString());oe(!!f),d.push(f)}),d})}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ul(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return B(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{let r=ee.fromPath(i);this.mutations.push(new pm(r,this.precondition(r)))}),yield function(i,r){return B(this,null,function*(){let s=X(i),o={writes:r.map(a=>wm(s.serializer,a))};yield s.Mo("Commit",s.serializer.databaseId,gt.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ie();t=he.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new G(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(he.min())?yn.exists(!1):yn.updateTime(t):yn.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(he.min()))throw new G(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yn.updateTime(t)}return yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var wM=class{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this._u=i.maxAttempts,this.t_=new Dm(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>B(this,null,function*(){let e=new vM(this.datastore),t=this.cu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.lu(r)}))}).catch(i=>{this.lu(i)})}))}cu(e){try{let t=this.updateFunction(e);return!xm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!hU(t)}return!1}};var bM=class{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ln.UNAUTHENTICATED,this.clientId=$1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>B(this,null,function*(){q("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>B(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=lf(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function FA(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>B(this,null,function*(){i.isEqual(r)||(yield kU(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function C5(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield aR(n);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>_5(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>_5(e.remoteStore,r)),n._onlineComponents=e})}function aR(n){return B(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield FA(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Fs("Error using user provided cache. Falling back to memory cache: "+t),yield FA(n,new mM)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield FA(n,new mM);return n._offlineComponents})}function $w(n){return B(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield C5(n,n._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield C5(n,new oR))),n._onlineComponents})}function ZU(n){return aR(n).then(e=>e.persistence)}function lR(n){return aR(n).then(e=>e.localStore)}function XU(n){return $w(n).then(e=>e.remoteStore)}function cR(n){return $w(n).then(e=>e.syncEngine)}function Vie(n){return $w(n).then(e=>e.datastore)}function ef(n){return B(this,null,function*(){let e=yield $w(n),t=e.eventManager;return t.onListen=yie.bind(null,e.syncEngine),t.onUnlisten=wie.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vie.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bie.bind(null,e.syncEngine),t})}function Bie(n){return n.asyncQueue.enqueue(()=>B(this,null,function*(){let e=yield ZU(n),t=yield XU(n);return e.setNetworkEnabled(!0),function(r){let s=X(r);return s.L_.delete(0),Pm(s)}(t)}))}function jie(n){return n.asyncQueue.enqueue(()=>B(this,null,function*(){let e=yield ZU(n),t=yield XU(n);return e.setNetworkEnabled(!1),function(r){return B(this,null,function*(){let s=X(r);s.L_.add(0),yield sf(s),s.q_.set("Offline")})}(t)}))}function Uie(n,e){let t=new Wn;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(r,s,o){return B(this,null,function*(){try{let a=yield function(c,d){let h=X(c);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(r,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new G(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=lf(a,`Failed to get document '${s} from cache`);o.reject(l)}})}(yield lR(n),e,t)})),t.promise}function e8(n,e,t={}){let i=new Wn;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(s,o,a,l,c){let d=new Xh({next:f=>{d.Za(),o.enqueueAndForget(()=>XM(s,h));let p=f.docs.has(a);!p&&f.fromCache?c.reject(new G(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new G(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Im(rf(a.path),d,{includeMetadataChanges:!0,_a:!0});return ZM(s,h)}(yield ef(n),n.asyncQueue,e,t,i)})),i.promise}function $ie(n,e){let t=new Wn;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(r,s,o){return B(this,null,function*(){try{let a=yield pw(r,s,!0),l=new Tw(s,a.Ts),c=l.ma(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){let l=lf(a,`Failed to execute query '${s} against cache`);o.reject(l)}})}(yield lR(n),e,t)})),t.promise}function t8(n,e,t={}){let i=new Wn;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(s,o,a,l,c){let d=new Xh({next:f=>{d.Za(),o.enqueueAndForget(()=>XM(s,h)),f.fromCache&&l.source==="server"?c.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Im(a,d,{includeMetadataChanges:!0,_a:!0});return ZM(s,h)}(yield ef(n),n.asyncQueue,e,t,i)})),i.promise}function Hie(n,e){let t=new Xh(e);return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(r,s){X(r).Y_.add(s),s.next()}(yield ef(n),t)})),()=>{t.Za(),n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(r,s){X(r).Y_.delete(s)}(yield ef(n),t)}))}}function zie(n,e,t,i){let r=function(o,a){let l;return l=typeof o=="string"?pU().encode(o):o,function(d,h){return new yM(d,h)}(function(d,h){if(d instanceof Uint8Array)return E5(d,h);if(d instanceof ArrayBuffer)return E5(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(t,Om(e));n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){Lie(yield cR(n),r,i)}))}function Gie(n,e){return n.asyncQueue.enqueue(()=>B(this,null,function*(){return function(i,r){let s=X(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,r))}(yield lR(n),e)}))}function n8(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var D5=new Map;function uR(n,e,t){if(!t)throw new G(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dR(n,e,t,i){if(e===!0&&i===!0)throw new G(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I5(n){if(!ee.isDocumentKey(n))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function T5(n){if(ee.isDocumentKey(n))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ie()}function wt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Hw(n);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function i8(n,e){if(e<=0)throw new G(U.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var Aw=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n8((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},yu=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aw(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new LA;switch(i.type){case"firstParty":return new UA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return B(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=D5.get(t);i&&(q("ComponentProvider","Removing Datastore"),D5.delete(t),i.terminate())}(this),Promise.resolve()}};function r8(n,e,t,i={}){var r;let s=(n=wt(n,yu))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ln.MOCK_USER;else{a=Qm(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ln(c)}n._authCredentials=new VA(new U1(a,l))}}var _i=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ut=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},bo=class n extends _i{constructor(e,t,i){super(e,t,rf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ee(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function hR(n,e,...t){if(n=it(n),uR("collection","path",e),n instanceof yu){let i=gt.fromString(e,...t);return T5(i),new bo(n,null,i)}{if(!(n instanceof Ut||n instanceof bo))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(gt.fromString(e,...t));return T5(i),new bo(n.firestore,null,i)}}function s8(n,e){if(n=wt(n,yu),uR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _i(n,null,function(i){return new Ls(gt.emptyPath(),i)}(e))}function km(n,e,...t){if(n=it(n),arguments.length===1&&(e=$1.newId()),uR("doc","path",e),n instanceof yu){let i=gt.fromString(e,...t);return I5(i),new Ut(n,null,new ee(i))}{if(!(n instanceof Ut||n instanceof bo))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(gt.fromString(e,...t));return I5(i),new Ut(n.firestore,n instanceof bo?n.converter:null,new ee(i))}}function fR(n,e){return n=it(n),e=it(e),(n instanceof Ut||n instanceof bo)&&(e instanceof Ut||e instanceof bo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pR(n,e){return n=it(n),e=it(e),n instanceof _i&&e instanceof _i&&n.firestore===e.firestore&&Rm(n._query,e._query)&&n.converter===e.converter}var xw=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Dm(this,"async_queue_retry"),this.Vu=()=>{let i=j1();i&&q("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=j1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=j1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Wn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return B(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zl(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Cn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=oM.createAndSchedule(this,e,t,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&ie()}verifyOperationInProgress(){}wu(){return B(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function EM(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var CM=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var o8=-1,an=class extends yu{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new xw,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return B(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new xw(e),this._firestoreClient=void 0,yield e}})}};function yi(n){if(n._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||a8(n),n._firestoreClient}function a8(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,c,d){return new QA(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,n8(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new bM(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}function l8(n,e){Fs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return u8(n,oR.provider,{build:i=>new Sw(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function c8(n){return B(this,null,function*(){Fs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();u8(n,oR.provider,{build:t=>new _M(t,e.cacheSizeBytes)})})}function u8(n,e,t){if((n=wt(n,an))._firestoreClient||n._terminated)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new G(U.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},a8(n)}function d8(n){if(n._initialized&&!n._terminated)throw new G(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Wn;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>B(this,null,function*(){try{yield function(i){return B(this,null,function*(){if(!Pl.D())return Promise.resolve();let r=i+"main";yield Pl.delete(r)})}(KM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function h8(n){return function(t){let i=new Wn;return t.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return Tie(yield cR(t),i)})),i.promise}(yi(n=wt(n,an)))}function f8(n){return Bie(yi(n=wt(n,an)))}function p8(n){return jie(yi(n=wt(n,an)))}function g8(n,e){let t=yi(n=wt(n,an)),i=new CM;return zie(t,n._databaseId,e,i),i}function m8(n,e){return Gie(yi(n=wt(n,an)),e).then(t=>t?new _i(n,null,t.query):null)}var Io=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Tn.fromBase64String(e))}catch(t){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Bs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ba=class{constructor(e){this._methodName=e}};var vu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}};var Tm=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var Wie=/^__.*__$/,DM=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new jl(e,this.data,t,this.fieldTransforms)}},Mw=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function _8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}var Rw=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Nw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(_8(this.Cu)&&Wie.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},IM=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Om(e)}Qu(e,t,i,r=!1){return new Rw({Cu:e,methodName:t,qu:i,path:Dn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Cu(n){let e=n._freezeSettings(),t=Om(n._databaseId);return new IM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zw(n,e,t,i,r,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,r);_R("Data must be an object, but it was:",o,i);let a=w8(i,o),l,c;if(s.merge)l=new Br(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let f=MM(e,h,t);if(!o.contains(f))throw new G(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);E8(d,f)||d.push(f)}l=new Br(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new DM(new Oi(a),l,c)}var Sm=class n extends ba{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function y8(n,e,t){return new Rw({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var TM=class n extends ba{_toFieldTransform(e){return new gu(e.path,new Vl)}isEqual(e){return e instanceof n}},SM=class n extends ba{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=y8(this,e,!0),i=this.Ku.map(s=>Du(s,t)),r=new va(i);return new gu(e.path,r)}isEqual(e){return e instanceof n&&db(this.Ku,e.Ku)}},AM=class n extends ba{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=y8(this,e,!0),i=this.Ku.map(s=>Du(s,t)),r=new wa(i);return new gu(e.path,r)}isEqual(e){return e instanceof n&&db(this.Ku,e.Ku)}},xM=class n extends ba{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Bl(e.serializer,sU(e.serializer,this.$u));return new gu(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function gR(n,e,t,i){let r=n.Qu(1,e,t);_R("Data must be an object, but it was:",r,i);let s=[],o=Oi.empty();Eu(i,(l,c)=>{let d=yR(e,l,t);c=it(c);let h=r.Nu(d);if(c instanceof Sm)s.push(d);else{let f=Du(c,h);f!=null&&(s.push(d),o.set(d,f))}});let a=new Br(s);return new Mw(o,a,r.fieldTransforms)}function mR(n,e,t,i,r,s){let o=n.Qu(1,e,t),a=[MM(e,i,t)],l=[r];if(s.length%2!=0)throw new G(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(MM(e,s[f])),l.push(s[f+1]);let c=[],d=Oi.empty();for(let f=a.length-1;f>=0;--f)if(!E8(c,a[f])){let p=a[f],y=l[f];y=it(y);let _=o.Nu(p);if(y instanceof Sm)c.push(p);else{let w=Du(y,_);w!=null&&(c.push(p),d.set(p,w))}}let h=new Br(c);return new Mw(d,h,o.fieldTransforms)}function v8(n,e,t,i=!1){return Du(t,n.Qu(i?4:3,e))}function Du(n,e){if(b8(n=it(n)))return _R("Unsupported field value:",e,n),w8(n,e);if(n instanceof ba)return function(i,r){if(!_8(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=Du(a,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=it(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return sU(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=on.fromDate(i);return{timestampValue:Gh(r.serializer,s)}}if(i instanceof on){let s=new on(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gh(r.serializer,s)}}if(i instanceof vu)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Io)return{bytesValue:gU(r.serializer,i._byteString)};if(i instanceof Ut){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:GM(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Tm)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return zM(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Hw(i)}`)}(n,e)}function w8(n,e){let t={};return U5(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eu(n,(i,r)=>{let s=Du(r,e.Mu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function b8(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof on||n instanceof vu||n instanceof Io||n instanceof Ut||n instanceof ba||n instanceof Tm)}function _R(n,e,t){if(!b8(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Hw(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function MM(n,e,t){if((e=it(e))instanceof Bs)return e._internalPath;if(typeof e=="string")return yR(n,e);throw Nw("Field path arguments must be of type string or ",n,!1,void 0,t)}var qie=new RegExp("[~\\*/\\[\\]]");function yR(n,e,t){if(e.search(qie)>=0)throw Nw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bs(...e.split("."))._internalPath}catch{throw Nw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nw(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new G(U.INVALID_ARGUMENT,a+n+l)}function E8(n,e){return n.some(t=>t.isEqual(e))}var wu=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new RM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Gw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},RM=class extends wu{data(){return super.data()}};function Gw(n,e){return typeof e=="string"?yR(n,e):e instanceof Bs?e._internalPath:e._delegate._internalPath}function C8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Am=class{},bu=class extends Am{};function Da(n,e,...t){let i=[];e instanceof Am&&i.push(e),i=i.concat(t),function(s){let o=s.filter(l=>l instanceof NM).length,a=s.filter(l=>l instanceof Ow).length;if(o>1||o>0&&a>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var Ow=class n extends bu{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return O8(e._query,t),new _i(e.firestore,e.converter,lx(e._query,t))}_parse(e){let t=Cu(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){A5(h,d);let p=[];for(let y of h)p.push(S5(l,s,y));f={arrayValue:{values:p}}}else f=S5(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||A5(h,d),f=v8(a,o,h,d==="in"||d==="not-in");return st.create(c,d,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function D8(n,e,t){let i=e,r=Gw("where",n);return Ow._create(r,i,t)}var NM=class n extends Am{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:St.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)O8(o,l),o=lx(o,l)}(e._query,t),new _i(e.firestore,e.converter,lx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var OM=class n extends bu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,s,o){if(r.startAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(s,o)}(e._query,this._field,this._direction);return new _i(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Ls(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function I8(n,e="asc"){let t=e,i=Gw("orderBy",n);return OM._create(i,t)}var Pw=class n extends bu{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){return new _i(e.firestore,e.converter,Z1(e._query,this._limit,this._limitType))}};function T8(n){return i8("limit",n),Pw._create("limit",n,"F")}function S8(n){return i8("limitToLast",n),Pw._create("limitToLast",n,"L")}var kw=class n extends bu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=N8(e,this.type,this._docOrFields,this._inclusive);return new _i(e.firestore,e.converter,function(r,s){return new Ls(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,t))}};function A8(...n){return kw._create("startAt",n,!0)}function x8(...n){return kw._create("startAfter",n,!1)}var Fw=class n extends bu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=N8(e,this.type,this._docOrFields,this._inclusive);return new _i(e.firestore,e.converter,function(r,s){return new Ls(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(e._query,t))}};function M8(...n){return Fw._create("endBefore",n,!1)}function R8(...n){return Fw._create("endAt",n,!0)}function N8(n,e,t,i){if(t[0]=it(t[0]),t[0]instanceof wu)return function(s,o,a,l,c){if(!l)throw new G(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let h of Lh(s))if(h.field.isKeyField())d.push(hu(o,l.key));else{let f=l.data.field(h.field);if(Vw(f))throw new G(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){let p=h.field.canonicalString();throw new G(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}d.push(f)}return new Co(d,c)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{let r=Cu(n.firestore);return function(o,a,l,c,d,h){let f=o.explicitOrderBy;if(d.length>f.length)throw new G(U.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let p=[];for(let y=0;y<d.length;y++){let _=d[y];if(f[y].field.isKeyField()){if(typeof _!="string")throw new G(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof _}`);if(!$M(o)&&_.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${_}' contains a slash.`);let w=o.path.child(gt.fromString(_));if(!ee.isDocumentKey(w))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);let A=new ee(w);p.push(hu(a,A))}else{let w=v8(l,c,_);p.push(w)}}return new Co(p,h)}(n._query,n.firestore._databaseId,r,e,t,i)}}function S5(n,e,t){if(typeof(t=it(t))=="string"){if(t==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$M(e)&&t.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(gt.fromString(t));if(!ee.isDocumentKey(i))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hu(n,new ee(i))}if(t instanceof Ut)return hu(n,t._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hw(t)}.`)}function A5(n,e){if(!Array.isArray(n)||n.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O8(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var tf=class{convertValue(e,t="none"){switch(du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Eu(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Jt(o.doubleValue));return new Tm(s)}convertGeoPoint(e){return new vu(Jt(e.latitude),Jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=jM(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dm(e));default:return null}}convertTimestamp(e){let t=ya(e);return new on(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=gt.fromString(e);oe(TU(i));let r=new Fl(i.get(1),i.get(3)),s=new ee(i.popFirst(5));return r.isEqual(t)||Cn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Ww(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var PM=class extends tf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}};var _a=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ps=class extends wu{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Gw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Nl=class extends ps{data(e={}){return super.data(e)}},js=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new _a(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nl(this._firestore,this._userDataWriter,i.key,i,new _a(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new Nl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new _a(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Nl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new _a(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Kie(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Kie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}function vR(n,e){return n instanceof ps&&e instanceof ps?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof js&&e instanceof js&&n._firestore===e._firestore&&pR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function P8(n){n=wt(n,Ut);let e=wt(n.firestore,an);return e8(yi(e),n._key).then(t=>CR(e,n,t))}var Ea=class extends tf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}};function k8(n){n=wt(n,Ut);let e=wt(n.firestore,an),t=yi(e),i=new Ea(e);return Uie(t,n._key).then(r=>new ps(e,i,n._key,r,new _a(r!==null&&r.hasLocalMutations,!0),n.converter))}function F8(n){n=wt(n,Ut);let e=wt(n.firestore,an);return e8(yi(e),n._key,{source:"server"}).then(t=>CR(e,n,t))}function L8(n){n=wt(n,_i);let e=wt(n.firestore,an),t=yi(e),i=new Ea(e);return C8(n._query),t8(t,n._query).then(r=>new js(e,i,n,r))}function V8(n){n=wt(n,_i);let e=wt(n.firestore,an),t=yi(e),i=new Ea(e);return $ie(t,n._query).then(r=>new js(e,i,n,r))}function B8(n){n=wt(n,_i);let e=wt(n.firestore,an),t=yi(e),i=new Ea(e);return t8(t,n._query,{source:"server"}).then(r=>new js(e,i,n,r))}function wR(n,e,t){n=wt(n,Ut);let i=wt(n.firestore,an),r=Ww(n.converter,e,t);return cf(i,[zw(Cu(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,yn.none())])}function bR(n,e,t,...i){n=wt(n,Ut);let r=wt(n.firestore,an),s=Cu(r),o;return o=typeof(e=it(e))=="string"||e instanceof Bs?mR(s,"updateDoc",n._key,e,t,i):gR(s,"updateDoc",n._key,e),cf(r,[o.toMutation(n._key,yn.exists(!0))])}function j8(n){return cf(wt(n.firestore,an),[new Ul(n._key,yn.none())])}function U8(n,e){let t=wt(n.firestore,an),i=km(n),r=Ww(n.converter,e);return cf(t,[zw(Cu(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,yn.exists(!1))]).then(()=>i)}function ER(n,...e){var t,i,r;n=it(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||EM(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(EM(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,d;if(n instanceof Ut)c=wt(n.firestore,an),d=rf(n._key.path),l={next:h=>{e[o]&&e[o](CR(c,n,h))},error:e[o+1],complete:e[o+2]};else{let h=wt(n,_i);c=wt(h.firestore,an),d=h._query;let f=new Ea(c);l={next:p=>{e[o]&&e[o](new js(c,f,h,p))},error:e[o+1],complete:e[o+2]},C8(n._query)}return function(f,p,y,_){let w=new Xh(_),A=new Im(p,w,y);return f.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return ZM(yield ef(f),A)})),()=>{w.Za(),f.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return XM(yield ef(f),A)}))}}(yi(c),d,a,l)}function $8(n,e){return Hie(yi(n=wt(n,an)),EM(e)?e:{next:e})}function cf(n,e){return function(i,r){let s=new Wn;return i.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return Eie(yield cR(i),r,s)})),s.promise}(yi(n),e)}function CR(n,e,t){let i=t.docs.get(e._key),r=new Ea(n);return new ps(n,r,e._key,i,new _a(t.hasPendingWrites,t.fromCache),e.converter)}var Qie={maxAttempts:5};var Lw=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cu(e)}set(e,t,i){this._verifyNotCommitted();let r=Ml(e,this._firestore),s=Ww(r.converter,t,i),o=zw(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,yn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();let s=Ml(e,this._firestore),o;return o=typeof(t=it(t))=="string"||t instanceof Bs?mR(this._dataReader,"WriteBatch.update",s._key,t,i,r):gR(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Ml(e,this._firestore);return this._mutations=this._mutations.concat(new Ul(t._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ml(n,e){if((n=it(n)).firestore!==e)throw new G(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var kM=class extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Cu(t)}get(t){let i=Ml(t,this._firestore),r=new PM(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return ie();let o=s[0];if(o.isFoundDocument())return new wu(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new wu(this._firestore,r,i._key,null,i.converter);throw ie()})}set(t,i,r){let s=Ml(t,this._firestore),o=Ww(s.converter,i,r),a=zw(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,a),this}update(t,i,r,...s){let o=Ml(t,this._firestore),a;return a=typeof(i=it(i))=="string"||i instanceof Bs?mR(this._dataReader,"Transaction.update",o._key,i,r,s):gR(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(t){let i=Ml(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Ml(e,this._firestore),i=new Ea(this._firestore);return super.get(e).then(r=>new ps(this._firestore,i,t._key,r._document,new _a(!1,!1),t.converter))}};function H8(n,e,t){n=wt(n,an);let i=Object.assign(Object.assign({},Qie),t);return function(s){if(s.maxAttempts<1)throw new G(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){let l=new Wn;return s.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let c=yield Vie(s);new wM(s.asyncQueue,c,a,o,l).au()})),l.promise}(yi(n),r=>e(new kM(n,r)),i)}function z8(){return new Sm("deleteField")}function G8(){return new TM("serverTimestamp")}function W8(...n){return new SM("arrayUnion",n)}function q8(...n){return new AM("arrayRemove",n)}function K8(n){return new xM("increment",n)}(function(e,t=!0){(function(r){nf=r})(e_),Zl(new Dr("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new an(new BA(i.getProvider("auth-internal")),new HA(i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ws(Tj,"4.7.3",e),ws(Tj,"4.7.3","esm2017")})();var Yie="@firebase/firestore-compat",Jie="0.3.38";function xR(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new G("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Q8(){if(typeof Uint8Array>"u")throw new G("unimplemented","Uint8Arrays are not available in this environment.")}function Y8(){if(!$5())throw new G("unimplemented","Blobs are unavailable in Firestore in this environment.")}var qw=class n{constructor(e){this._delegate=e}static fromBase64String(e){return Y8(),new n(Io.fromBase64String(e))}static fromUint8Array(e){return Q8(),new n(Io.fromUint8Array(e))}toBase64(){return Y8(),this._delegate.toBase64()}toUint8Array(){return Q8(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function DR(n){return Zie(n,["next","error","complete"])}function Zie(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}var IR=class{enableIndexedDbPersistence(e,t){return l8(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return c8(e._delegate)}clearIndexedDbPersistence(e){return d8(e._delegate)}},Kw=class{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){r8(this._delegate,e,t,i)}enableNetwork(){return f8(this._delegate)}disableNetwork(){return p8(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,dR("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return h8(this._delegate)}onSnapshotsInSync(e){return $8(this._delegate,e)}get app(){if(!this._appCompat)throw new G("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hf(this,hR(this._delegate,e))}catch(t){throw nr(t,"collection()","Firestore.collection()")}}doc(e){try{return new To(this,km(this._delegate,e))}catch(t){throw nr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Au(this,s8(this._delegate,e))}catch(t){throw nr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return H8(this._delegate,t=>e(new Qw(this,t)))}batch(){return yi(this._delegate),new Yw(new Lw(this._delegate,e=>cf(this._delegate,e)))}loadBundle(e){return g8(this._delegate,e)}namedQuery(e){return m8(this._delegate,e).then(t=>t?new Au(this,t):null)}},uf=class extends tf{constructor(e){super(),this.firestore=e}convertBytes(e){return new qw(new Io(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return To.forKey(t,this.firestore,null)}};function Xie(n){x5(n)}var Qw=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new uf(e)}get(e){let t=Iu(e);return this._delegate.get(t).then(i=>new Tu(this._firestore,new ps(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){let r=Iu(e);return i?(xR("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let s=Iu(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){let t=Iu(e);return this._delegate.delete(t),this}},Yw=class{constructor(e){this._delegate=e}set(e,t,i){let r=Iu(e);return i?(xR("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let s=Iu(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){let t=Iu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},df=class n{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){let i=new Nl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Su(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let i=n.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new n(e,new uf(e),t),r.set(t,s)),s}};df.INSTANCES=new WeakMap;var To=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uf(e)}static forPath(e,t,i){if(e.length%2!==0)throw new G("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Ut(t._delegate,i,new ee(e)))}static forKey(e,t,i){return new n(t,new Ut(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new hf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hf(this.firestore,hR(this._delegate,e))}catch(t){throw nr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=it(e),e instanceof Ut?fR(this._delegate,e):!1}set(e,t){t=xR("DocumentReference.set",t);try{return t?wR(this._delegate,e,t):wR(this._delegate,e)}catch(i){throw nr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?bR(this._delegate,e):bR(this._delegate,e,t,...i)}catch(r){throw nr(r,"updateDoc()","DocumentReference.update()")}}delete(){return j8(this._delegate)}onSnapshot(...e){let t=J8(e),i=Z8(e,r=>new Tu(this.firestore,new ps(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return ER(this._delegate,t,i)}get(e){let t;return e?.source==="cache"?t=k8(this._delegate):e?.source==="server"?t=F8(this._delegate):t=P8(this._delegate),t.then(i=>new Tu(this.firestore,new ps(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(df.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function nr(n,e,t){return n.message=n.message.replace(e,t),n}function J8(n){for(let e of n)if(typeof e=="object"&&!DR(e))return e;return{}}function Z8(n,e){var t,i;let r;return DR(n[0])?r=n[0]:DR(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:(t=r.error)===null||t===void 0?void 0:t.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Tu=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new To(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vR(this._delegate,e._delegate)}},Su=class extends Tu{data(e){let t=this._delegate.data(e);return this._delegate._converter||M5(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},Au=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uf(e)}where(e,t,i){try{return new n(this.firestore,Da(this._delegate,D8(e,t,i)))}catch(r){throw nr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,Da(this._delegate,I8(e,t)))}catch(i){throw nr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,Da(this._delegate,T8(e)))}catch(t){throw nr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,Da(this._delegate,S8(e)))}catch(t){throw nr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,Da(this._delegate,A8(...e)))}catch(t){throw nr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,Da(this._delegate,x8(...e)))}catch(t){throw nr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,Da(this._delegate,M8(...e)))}catch(t){throw nr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,Da(this._delegate,R8(...e)))}catch(t){throw nr(t,"endAt()","Query.endAt()")}}isEqual(e){return pR(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=V8(this._delegate):e?.source==="server"?t=B8(this._delegate):t=L8(this._delegate),t.then(i=>new Fm(this.firestore,new js(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let t=J8(e),i=Z8(e,r=>new Fm(this.firestore,new js(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return ER(this._delegate,t,i)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(df.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},TR=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Su(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Fm=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Au(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Su(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new TR(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Su(this._firestore,i))})}isEqual(e){return vR(this._delegate,e._delegate)}},hf=class n extends Au{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new To(this.firestore,e):null}doc(e){try{return e===void 0?new To(this.firestore,km(this._delegate)):new To(this.firestore,km(this._delegate,e))}catch(t){throw nr(t,"doc()","CollectionReference.doc()")}}add(e){return U8(this._delegate,e).then(t=>new To(this.firestore,t))}isEqual(e){return fR(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(df.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Iu(n){return wt(n,Ut)}var SR=class n{constructor(...e){this._delegate=new Bs(...e)}static documentId(){return new n(Dn.keyField().canonicalString())}isEqual(e){return e=it(e),e instanceof Bs?this._delegate._internalPath.isEqual(e._internalPath):!1}};var AR=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=G8();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=z8();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=W8(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=q8(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=K8(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var ere={Firestore:Kw,GeoPoint:vu,Timestamp:on,Blob:qw,Transaction:Qw,WriteBatch:Yw,DocumentReference:To,DocumentSnapshot:Tu,Query:Au,QueryDocumentSnapshot:Su,QuerySnapshot:Fm,CollectionReference:hf,FieldPath:SR,FieldValue:AR,setLogLevel:Xie,CACHE_SIZE_UNLIMITED:o8};function tre(n,e){n.INTERNAL.registerComponent(new Dr("firestore-compat",t=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},ere)))}function nre(n){tre(n,(e,t)=>new Kw(e,t,new IR)),n.registerVersion(Yie,Jie)}nre(Jn);function ire(n,e=Na){return new me(t=>{let i;return e!=null?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}function X8(n,e){return ire(n,e)}function rre(n,e){return X8(n,e).pipe(Va(void 0),xf(),ne(t=>{let[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function NR(n,e){return X8(n,e).pipe(ne(t=>({payload:t,type:"query"})))}var Jw=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let i=this.ref.collection(e),{ref:r,query:s}=r9(i,t);return new Xw(r,s,this.afs)}snapshotChanges(){return rre(this.ref,this.afs.schedulers.outsideAngular).pipe(En)}valueChanges(e={}){return this.snapshotChanges().pipe(ne(({payload:t})=>e.idField?Pe(K({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return at(this.ref.get(e)).pipe(En)}};function Zw(n,e){return NR(n,e).pipe(Va(void 0),xf(),ne(t=>{let[i,r]=t,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let c=s.find(h=>h.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(h=>h.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function e9(n,e,t){return Zw(n,t).pipe(Ys((i,r)=>sre(i,r.map(s=>s.payload),e),[]),Wu(),ne(i=>i.map(r=>({type:r.type,payload:r}))))}function sre(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=ore(n,i))}),n}function MR(n,e,t,...i){let r=n.slice();return r.splice(e,t,...i),r}function ore(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return MR(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return MR(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return MR(n,e.oldIndex,1);break}return n}function t9(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var Xw=class{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Zw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ne(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Va(void 0),xf(),Kt(([i,r])=>r.length>0||!i),ne(([,i])=>i),En)}auditTrail(e){return this.stateChanges(e).pipe(Ys((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=t9(e);return e9(this.query,t,this.afs.schedulers.outsideAngular).pipe(En)}valueChanges(e={}){return NR(this.query,this.afs.schedulers.outsideAngular).pipe(ne(t=>t.payload.docs.map(i=>e.idField?Pe(K({},i.data()),{[e.idField]:i.id}):i.data())),En)}get(e){return at(this.query.get(e)).pipe(En)}add(e){return this.ref.add(e)}doc(e){return new Jw(this.ref.doc(e),this.afs)}},RR=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?Zw(this.query,this.afs.schedulers.outsideAngular).pipe(En):Zw(this.query,this.afs.schedulers.outsideAngular).pipe(ne(t=>t.filter(i=>e.indexOf(i.type)>-1)),Kt(t=>t.length>0),En)}auditTrail(e){return this.stateChanges(e).pipe(Ys((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=t9(e);return e9(this.query,t,this.afs.schedulers.outsideAngular).pipe(En)}valueChanges(e={}){return NR(this.query,this.afs.schedulers.outsideAngular).pipe(ne(i=>i.payload.docs.map(r=>e.idField?K({[e.idField]:r.id},r.data()):r.data())),En)}get(e){return at(this.query.get(e)).pipe(En)}},n9=new J("angularfire2.enableFirestorePersistence"),i9=new J("angularfire2.firestore.persistenceSettings"),are=new J("angularfire2.firestore.settings"),lre=new J("angularfire2.firestore.use-emulator");function r9(n,e=t=>t){return{query:e(n),ref:n}}var cre=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,s,o,a,l,c,d,h,f,p,y,_,w,A,M){this.schedulers=l;let x=Wc(t,a,i),R=d;h&&dg(x,a,f,y,_,w,p,A),[this.firestore,this.persistenceEnabled$]=nh(`${x.name}.firestore`,"AngularFirestore",x.name,()=>{let P=a.runOutsideAngular(()=>x.firestore());if(s&&P.settings(s),R&&P.useEmulator(...R),r&&!Ya(o)){let N=()=>{try{return at(P.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(C){return typeof console<"u"&&console.warn(C),se(!1)}};return[P,a.runOutsideAngular(N)]}else return[P,se(!1)]},[s,R,r])}collection(t,i){let r;typeof t=="string"?r=this.firestore.collection(t):r=t;let{ref:s,query:o}=r9(r,i),a=this.schedulers.ngZone.run(()=>s);return new Xw(a,o,this)}collectionGroup(t,i){let r=i||(o=>o),s=this.firestore.collectionGroup(t);return new RR(r(s),this)}doc(t){let i;typeof t=="string"?i=this.firestore.doc(t):i=t;let r=this.schedulers.ngZone.run(()=>i);return new Jw(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(z(gl),z(ml,8),z(n9,8),z(are,8),z(Hn),z(ke),z(th),z(i9,8),z(lre,8),z(Dv,8),z(sg,8),z(og,8),z(ag,8),z(lg,8),z(cg,8),z(ug,8),z(ha,8))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),s9=(()=>{class n{constructor(){Jn.registerVersion("angularfire",fl.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:n9,useValue:!0},{provide:i9,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ne({type:n});static \u0275inj=Re({providers:[cre]})}return n})();var o9={firebaseConfig:{apiKey:"AIzaSyANbtVRg8LTKOIhPONQ-XcY7H0BbGjrkb4",authDomain:"safecard-d4cb2.firebaseapp.com",databaseURL:"https://safecard-d4cb2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"safecard-d4cb2",storageBucket:"safecard-d4cb2.firebasestorage.app",messagingSenderId:"726418295531",appId:"1:726418295531:web:c7a40c89947585eea24cae",measurementId:"G-SWQBNSLJ8V"}};var eb=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ne({type:n,bootstrap:[S1]});static \u0275inj=Re({imports:[iF,I1,Cj,ej,K2,c3.initializeApp(o9.firebaseConfig),O4,s9]})};nF().bootstrapModule(eb,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
